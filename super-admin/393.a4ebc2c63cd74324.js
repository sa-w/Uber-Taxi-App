"use strict";(self.webpackChunksuperAdmin=self.webpackChunksuperAdmin||[]).push([[393],{8393:(A,b,r)=>{r.r(b),r.d(b,{SettingsModule:()=>I});var s=r(9808),p=r(1402),c=r(3075),t=r(5e3),T=r(7556),h=r(5019),C=r(4594),n=r(6688),i=r(4999),y=r(7423),v=r(4106),a=r(7531);function f(e,l){1&e&&(t.TgZ(0,"th",26),t._uU(1," Key "),t.qZA())}function u(e,l){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const o=l.$implicit;t.xp6(1),t.hij(" ",o.key," ")}}function m(e,l){1&e&&(t.TgZ(0,"th",26),t._uU(1," Price "),t.qZA())}function M(e,l){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const o=l.$implicit;t.xp6(1),t.hij(" ",o.price," ")}}function x(e,l){1&e&&(t.TgZ(0,"th",26),t._uU(1," Time Price "),t.qZA())}function D(e,l){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const o=l.$implicit;t.xp6(1),t.hij(" ",o.timePrice," ")}}function Z(e,l){1&e&&(t.TgZ(0,"th",26),t._uU(1," Image "),t.qZA())}function O(e,l){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const o=l.$implicit;t.xp6(1),t.hij(" ",o.image," ")}}function P(e,l){1&e&&(t.TgZ(0,"th",26),t._uU(1," Actions "),t.qZA())}function k(e,l){if(1&e){const o=t.EpF();t.TgZ(0,"td",28)(1,"div")(2,"button",29),t.NdJ("click",function(){const _=t.CHM(o).$implicit;return t.oxw(2).navigateTaxiType(_.key)}),t._uU(3,"Edit"),t.qZA(),t.TgZ(4,"button",30),t._uU(5,"Delete"),t.qZA()()()}}function U(e,l){1&e&&t._UZ(0,"tr",31)}function R(e,l){1&e&&t._UZ(0,"tr",32)}function E(e,l){if(1&e&&(t.TgZ(0,"table",15),t.ynx(1,16),t.YNc(2,f,2,0,"th",17),t.YNc(3,u,2,1,"td",18),t.BQk(),t.ynx(4,19),t.YNc(5,m,2,0,"th",17),t.YNc(6,M,2,1,"td",18),t.BQk(),t.ynx(7,20),t.YNc(8,x,2,0,"th",17),t.YNc(9,D,2,1,"td",18),t.BQk(),t.ynx(10,21),t.YNc(11,Z,2,0,"th",17),t.YNc(12,O,2,1,"td",18),t.BQk(),t.ynx(13,22),t.YNc(14,P,2,0,"th",17),t.YNc(15,k,6,0,"td",23),t.BQk(),t.YNc(16,U,1,0,"tr",24),t.YNc(17,R,1,0,"tr",25),t.qZA()),2&e){const o=t.oxw();t.Q6J("dataSource",o.driversList),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)}}const B=[{path:"",component:(()=>{class e{constructor(o,d,g,_,S){this.route=o,this.authService=d,this.router=g,this.db=_,this.fb=S,this.taxiTypes=[],this.longText="text",this.dataSource=[],this.driversList=[],this.hideRequiredControl=new c.NI(!1),this.floatLabelControl=new c.NI("auto"),this.displayedColumns=["position","name","weight","symbol","action"],_.list("settings"),_.object("commision"),this.getAllSettings(),this.authService.getCommisionDoc(this.id).subscribe(w=>{console.log(w),this.commisionInfo=w,this.options=this.fb.group({hideRequired:this.hideRequiredControl,floatLabel:this.floatLabelControl,percent:[this.commisionInfo.percent,[c.kI.required]]}),console.log(this.driverInfo)}),this.options=S.group({hideRequired:this.hideRequiredControl,floatLabel:this.floatLabelControl,percent:["",[c.kI.required]]})}getAllSettings(){this.authService.getAllSettings().subscribe(o=>{this.authService.getAllDrivers().subscribe(d=>{this.driversList=d.map(g=>{const _=g.payload.doc.data();return _.id=g.payload.doc.id,_}),console.log(this.driversList)},d=>{alert("error")}),console.log(this.driversList)},o=>{alert("error")}),console.log(" ===== >>>>>>>>>> DRIVER'S LIST ....... "+this.driversList)}ngOnInit(){}logout(){this.authService.logout().then(()=>this.router.navigate(["/"])).catch(o=>console.log(o.message))}goToDrivers(){this.router.navigate(["/drivers"])}goToPassengers(){this.router.navigate(["/passengers"])}goToHome(){this.router.navigate(["/dashboard"])}goToOrders(){this.router.navigate(["/orders"])}goToMap(){this.router.navigate(["/maps"])}goToSettings(){this.router.navigate(["/settings"])}navigateTaxiType(o){console.log(o),this.router.navigate(["/editTaxiType",o])}onSubmit(){console.log("on submit"),this.authService.updateCommision({percent:this.options.value.percent}).then(()=>{this.router.navigate(["/dashboard"])}).catch(d=>console.log(d))}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(p.gz),t.Y36(T.e),t.Y36(p.F0),t.Y36(h.KQ),t.Y36(c.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-settings"]],decls:49,vars:3,consts:[["aria-label","Color selection",1,"mat-chip-list-stacked"],[2,"background-color","rgb(214, 100, 43)"],[2,"color","white","justify-content","left","font-size","25px"],[1,"example-spacer"],[3,"click"],[2,"color","white",3,"click"],[1,"background"],["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],[2,"flex","1"],[1,"form-control"],[2,"color","black"],["matInput","","formControlName","percent","type","number","required",""],["mat-raised-button","","type","submit",2,"border-radius","10px","background-color","#cb572d","border","0","width","100%",3,"disabled"],[2,"color","white","text-align","center","justify-content","center","font-size","20px"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","weight"],["matColumnDef","symbol"],["matColumnDef","action"],["mat-cell","","style","justify-content: space-evenly;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",2,"justify-content","space-evenly"],["mat-raised-button","",1,"button",3,"click"],["mat-raised-button","",1,"deleteButton"],["mat-header-row",""],["mat-row",""]],template:function(o,d){1&o&&(t.TgZ(0,"mat-toolbar")(1,"mat-chip-list",0)(2,"mat-chip",1)(3,"span",2),t._uU(4,"Super-Admin "),t.qZA()()(),t._UZ(5,"span",3),t.TgZ(6,"a",4),t.NdJ("click",function(){return d.goToHome()}),t._uU(7,"Home"),t.qZA(),t.TgZ(8,"a",4),t.NdJ("click",function(){return d.goToDrivers()}),t._uU(9,"Drivers"),t.qZA(),t.TgZ(10,"a",4),t.NdJ("click",function(){return d.goToPassengers()}),t._uU(11,"Passengers"),t.qZA(),t.TgZ(12,"a",4),t.NdJ("click",function(){return d.goToOrders()}),t._uU(13,"Orders"),t.qZA(),t.TgZ(14,"a",4),t.NdJ("click",function(){return d.goToMap()}),t._uU(15,"Track Drivers"),t.qZA(),t.TgZ(16,"a",4),t.NdJ("click",function(){return d.goToSettings()}),t._uU(17,"Settings"),t.qZA(),t._UZ(18,"span",3)(19,"span",3)(20,"span",3)(21,"span",3)(22,"span",3)(23,"span",3)(24,"span",3)(25,"span",3)(26,"span",3)(27,"span",3),t.TgZ(28,"mat-chip-list",0)(29,"mat-chip",1)(30,"span",5),t.NdJ("click",function(){return d.logout()}),t._uU(31,"Log out"),t.qZA()()()(),t.TgZ(32,"div",6)(33,"h1"),t._uU(34,"Vehicle Type List"),t.qZA(),t.YNc(35,E,18,3,"table",7),t.TgZ(36,"div",6)(37,"h1"),t._uU(38,"Commision Fee by (Percent)"),t.qZA(),t.TgZ(39,"form",8),t.NdJ("ngSubmit",function(){return d.onSubmit()}),t.TgZ(40,"div",9)(41,"div")(42,"mat-form-field",10)(43,"mat-label",11),t._uU(44,"Commision Fee"),t.qZA(),t._UZ(45,"input",12),t.qZA()(),t.TgZ(46,"button",13)(47,"p",14),t._uU(48," Update Percent"),t.qZA()()()()()()),2&o&&(t.xp6(35),t.Q6J("ngIf",d.driversList),t.xp6(4),t.Q6J("formGroup",d.options),t.xp6(7),t.Q6J("disabled",d.options.invalid))},directives:[C.Ye,n.qn,n.HS,s.O5,i.BZ,i.w1,i.fO,i.ge,i.Dz,i.ev,y.lW,i.as,i.XQ,i.nj,i.Gk,c._Y,c.JL,c.sg,v.KE,v.hX,a.Nt,c.Fj,c.wV,c.JJ,c.u,c.Q7],styles:["h1[_ngcontent-%COMP%]{color:#cb572d;font-size:30px;font-weight:bolder;background-color:#fff;padding:10px;width:-moz-fit-content;width:fit-content;border-radius:10%}h2[_ngcontent-%COMP%]{color:#698893;margin-bottom:50px}a[_ngcontent-%COMP%]{color:#fff;border-bottom:2px solid transparent;transition:1s border-bottom;padding:10px;justify-content:center;text-align:center}a[_ngcontent-%COMP%]:hover{color:#cb572d;border-bottom:2px solid transparent;font-size:20px;background-color:#fff;border-radius:10%;padding:4px}mat-toolbar[_ngcontent-%COMP%]{background-color:#dd9176;opacity:1;display:flex;justify-items:flex-start}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-row[_ngcontent-%COMP%]:nth-child(even){background-color:#dd9176;opacity:.9}.mat-row[_ngcontent-%COMP%]:nth-child(even):hover{background-color:#dd9176;opacity:1}.mat-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#dd9176;opacity:.8}.mat-row[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:#dd9176;opacity:1}.mat-header-cell[_ngcontent-%COMP%]{background-color:#d57856;font-size:medium;font-weight:700;opacity:1}.matColumnDef[_ngcontent-%COMP%]:hover{opacity:.8}.button[_ngcontent-%COMP%]{background-color:#fff;color:#ac3621;border-radius:10px}.button[_ngcontent-%COMP%]:hover{background-color:#ac3621;color:#fff;opacity:.7}.deleteButton[_ngcontent-%COMP%]{background-color:#c13247;color:#fff;border-radius:10px;margin-left:10px}.deleteButton[_ngcontent-%COMP%]:hover{background-color:#fff;color:#c13247;opacity:.9}.background[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;flex-direction:column;height:calc(100vh - 64px);padding:20px;background-color:#dabfb5;opacity:.9}.btn[_ngcontent-%COMP%]{background-color:#cb572d;border-radius:20px;color:#fff;padding:10px 30px;text-decoration:none;transition:.5s background-color}a[_ngcontent-%COMP%]:hover{border-bottom:2px solid #cb572d;cursor:pointer}.btn[_ngcontent-%COMP%]:hover{background-color:#52b7c0}table[_ngcontent-%COMP%]{width:100%}"]}),e})()}];let N=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.Bz.forChild(B)],p.Bz]}),e})();var L=r(8099);let I=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[{provide:v.o2,useValue:{floatLabel:"always"}}],imports:[[s.ez,N,C.g0,n.Hi,L.Ps,v.lN,a.c,i.p0,c.UX,y.ot,c.u5]]}),e})()},7556:(A,b,r)=>{r.d(b,{e:()=>T});var s=r(7323),p=r(8937),c=r(5e3),t=r(6185);let T=(()=>{class h{constructor(n,i){this.auth=n,this.afs=i,this.commisions=i.collection("commision"),this.settings=i.collection("settings")}login({email:n,password:i}){return(0,s.e5)(this.auth,n,i)}loginWithGoogle(){return(0,s.rh)(this.auth,new p.hJ)}register({email:n,password:i}){return(0,s.Xb)(this.auth,n,i)}logout(){return(0,s.w7)(this.auth)}getAllDrivers(){return this.afs.collection("/drivers").snapshotChanges()}getAllPassengers(){return this.afs.collection("/users").snapshotChanges()}getAllOrders(){return this.afs.collection("/orders").snapshotChanges()}getAllTaxis(){return this.afs.collection("/locations").snapshotChanges()}getUserDoc(n){return this.afs.collection("drivers").doc(n).valueChanges()}getAllOrdersByDriver(n){return this.afs.collection("orders",i=>i.where("driverId","==",n)).snapshotChanges()}getPassengerDoc(n){return this.afs.collection("users").doc(n).valueChanges()}getAllOrdersByPassenger(n){return this.afs.collection("orders",i=>i.where("userId","==",n)).snapshotChanges()}getOrderDoc(n){return this.afs.collection("orders").doc(n).valueChanges()}getAllOrdersByID(n){return this.afs.collection("orders",i=>i.where("timestamp","==",n)).snapshotChanges()}getAllSettings(){return this.afs.collection("/settings").snapshotChanges()}getSettingDoc(n){return this.afs.collection("settings").doc(n).valueChanges()}getCommisionDoc(n){return this.afs.collection("commision").doc("commisionPercent").valueChanges()}updateCommision(n){return this.commisions.doc("commisionPercent/").update(n)}updateSettings(n,i){return this.settings.doc(n).update(i)}}return h.\u0275fac=function(n){return new(n||h)(c.LFG(s.gx),c.LFG(t.ST))},h.\u0275prov=c.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},4594:(A,b,r)=>{r.d(b,{Ye:()=>i,g0:()=>v});var s=r(5e3),p=r(508),c=r(9808),t=r(925);const T=["*",[["mat-toolbar-row"]]],h=["*","mat-toolbar-row"],C=(0,p.pj)(class{constructor(a){this._elementRef=a}});let n=(()=>{class a{}return a.\u0275fac=function(u){return new(u||a)},a.\u0275dir=s.lG2({type:a,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),a})(),i=(()=>{class a extends C{constructor(u,m,M){super(u),this._platform=m,this._document=M}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return a.\u0275fac=function(u){return new(u||a)(s.Y36(s.SBq),s.Y36(t.t4),s.Y36(c.K0))},a.\u0275cmp=s.Xpm({type:a,selectors:[["mat-toolbar"]],contentQueries:function(u,m,M){if(1&u&&s.Suo(M,n,5),2&u){let x;s.iGM(x=s.CRH())&&(m._toolbarRows=x)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(u,m){2&u&&s.ekj("mat-toolbar-multiple-rows",m._toolbarRows.length>0)("mat-toolbar-single-row",0===m._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:h,decls:2,vars:0,template:function(u,m){1&u&&(s.F$t(T),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),a})(),v=(()=>{class a{}return a.\u0275fac=function(u){return new(u||a)},a.\u0275mod=s.oAB({type:a}),a.\u0275inj=s.cJS({imports:[[p.BQ],p.BQ]}),a})()}}]);