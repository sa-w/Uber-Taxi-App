"use strict";(self.webpackChunksuperAdmin=self.webpackChunksuperAdmin||[]).push([[179],{7128:(fn,ht,S)=>{S.d(ht,{nm:()=>Be});var u=S(5813),Ce=(S(5e3),S(3692),S(5867),S(5861)),Ue=S(9681),ze=S(4859),ge=S(2090),ke=S(1877);const me=new Map,Te={activated:!1,tokenObservers:[]},Fe={initialized:!1,enabled:!1};function Xe(ct){return me.get(ct)||Te}function tt(ct,st){me.set(ct,st)}function Ze(){return Fe}class De{constructor(st,Pt,on,ln,Cn){if(this.operation=st,this.retryPolicy=Pt,this.getWaitDuration=on,this.lowerBound=ln,this.upperBound=Cn,this.pending=null,this.nextErrorWaitInterval=ln,ln>Cn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(st){var Pt=this;return(0,Ce.Z)(function*(){Pt.stop();try{Pt.pending=new ge.BH,yield function Se(ct){return new Promise(st=>{setTimeout(st,ct)})}(Pt.getNextRun(st)),Pt.pending.resolve(),yield Pt.pending.promise,Pt.pending=new ge.BH,yield Pt.operation(),Pt.pending.resolve(),yield Pt.pending.promise,Pt.process(!0).catch(()=>{})}catch(on){Pt.retryPolicy(on)?Pt.process(!1).catch(()=>{}):Pt.stop()}})()}getNextRun(st){if(st)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Pt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Pt}}}const le=new ge.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kt(ct){if(!Xe(ct).activated)throw le.create("use-before-activation",{appName:ct.name})}function xt(ct,st){return ut.apply(this,arguments)}function ut(){return(ut=(0,Ce.Z)(function*({url:ct,body:st},Pt){const on={"Content-Type":"application/json"},ln=Pt.getImmediate({optional:!0});if(ln){const ns=yield ln.getHeartbeatsHeader();ns&&(on["X-Firebase-Client"]=ns)}const Cn={method:"POST",body:JSON.stringify(st),headers:on};let Un,Mr;try{Un=yield fetch(ct,Cn)}catch(ns){throw le.create("fetch-network-error",{originalErrorMessage:ns.message})}if(200!==Un.status)throw le.create("fetch-status-error",{httpStatus:Un.status});try{Mr=yield Un.json()}catch(ns){throw le.create("fetch-parse-error",{originalErrorMessage:ns.message})}const Fr=Mr.ttl.match(/^([\d.]+)(s)$/);if(!Fr||!Fr[2]||isNaN(Number(Fr[1])))throw le.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Mr.ttl}`});const mi=1e3*Number(Fr[1]),Ci=Date.now();return{token:Mr.token,expireTimeMillis:Ci+mi,issuedAtTimeMillis:Ci}})).apply(this,arguments)}function dn(ct,st){const{projectId:Pt,appId:on,apiKey:ln}=ct.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Pt}/apps/${on}:exchangeDebugToken?key=${ln}`,body:{debug_token:st}}}const Bt="firebase-app-check-store";let He=null;function vt(){return He||(He=new Promise((ct,st)=>{try{const Pt=indexedDB.open("firebase-app-check-database",1);Pt.onsuccess=on=>{ct(on.target.result)},Pt.onerror=on=>{var ln;st(le.create("storage-open",{originalErrorMessage:null===(ln=on.target.error)||void 0===ln?void 0:ln.message}))},Pt.onupgradeneeded=on=>{0===on.oldVersion&&on.target.result.createObjectStore(Bt,{keyPath:"compositeKey"})}}catch(Pt){st(le.create("storage-open",{originalErrorMessage:Pt.message}))}}),He)}function cr(){return(cr=(0,Ce.Z)(function*(ct,st){const on=(yield vt()).transaction(Bt,"readwrite"),Cn=on.objectStore(Bt).put({compositeKey:ct,value:st});return new Promise((Un,Mr)=>{Cn.onsuccess=Fr=>{Un()},on.onerror=Fr=>{var mi;Mr(le.create("storage-set",{originalErrorMessage:null===(mi=Fr.target.error)||void 0===mi?void 0:mi.message}))}})})).apply(this,arguments)}const dr=new ke.Yd("@firebase/app-check");function En(ct,st){return(0,ge.hl)()?function an(ct,st){return function Kn(ct,st){return cr.apply(this,arguments)}(function mr(ct){return`${ct.options.appId}-${ct.name}`}(ct),st)}(ct,st).catch(Pt=>{dr.warn(`Failed to write token to IndexedDB. Error: ${Pt}`)}):Promise.resolve()}function hr(){return Ze().enabled}function Ir(){return nn.apply(this,arguments)}function nn(){return(nn=(0,Ce.Z)(function*(){const ct=Ze();if(ct.enabled&&ct.token)return ct.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Et={error:"UNKNOWN_ERROR"};function Qe(ct){return ge.US.encodeString(JSON.stringify(ct),!1)}function Mt(ct){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,Ce.Z)(function*(ct,st=!1){const Pt=ct.app;kt(Pt);const on=Xe(Pt);let Cn,ln=on.token;if(!ln){const Fr=yield on.cachedTokenPromise;Fr&&rr(Fr)&&(ln=Fr)}if(!st&&ln&&rr(ln))return{token:ln.token};let Mr,Un=!1;if(hr()){on.exchangeTokenPromise||(on.exchangeTokenPromise=xt(dn(Pt,yield Ir()),ct.heartbeatServiceProvider).then(mi=>(on.exchangeTokenPromise=void 0,mi)),Un=!0);const Fr=yield on.exchangeTokenPromise;return yield En(Pt,Fr),tt(Pt,Object.assign(Object.assign({},on),{token:Fr})),{token:Fr.token}}try{on.exchangeTokenPromise||(on.exchangeTokenPromise=on.provider.getToken().then(Fr=>(on.exchangeTokenPromise=void 0,Fr)),Un=!0),ln=yield on.exchangeTokenPromise}catch(Fr){"appCheck/throttled"===Fr.code?dr.warn(Fr.message):dr.error(Fr),Cn=Fr}return ln?(Mr={token:ln.token},tt(Pt,Object.assign(Object.assign({},on),{token:ln})),yield En(Pt,ln)):Mr=tr(Cn),Un&&wr(Pt,Mr),Mr})).apply(this,arguments)}function wn(ct,st){const Pt=Xe(ct),on=Pt.tokenObservers.filter(ln=>ln.next!==st);0===on.length&&Pt.tokenRefresher&&Pt.tokenRefresher.isRunning()&&Pt.tokenRefresher.stop(),tt(ct,Object.assign(Object.assign({},Pt),{tokenObservers:on}))}function cn(ct){const{app:st}=ct,Pt=Xe(st);let on=Pt.tokenRefresher;on||(on=function Mn(ct){const{app:st}=ct;return new De((0,Ce.Z)(function*(){let on;if(on=Xe(st).token?yield Mt(ct,!0):yield Mt(ct),on.error)throw on.error}),()=>!0,()=>{const Pt=Xe(st);if(Pt.token){let on=Pt.token.issuedAtTimeMillis+.5*(Pt.token.expireTimeMillis-Pt.token.issuedAtTimeMillis)+3e5;return on=Math.min(on,Pt.token.expireTimeMillis-3e5),Math.max(0,on-Date.now())}return 0},3e4,96e4)}(ct),tt(st,Object.assign(Object.assign({},Pt),{tokenRefresher:on}))),!on.isRunning()&&Pt.isTokenAutoRefreshEnabled&&on.start()}function wr(ct,st){const Pt=Xe(ct).tokenObservers;for(const on of Pt)try{"EXTERNAL"===on.type&&null!=st.error?on.error(st.error):on.next(st)}catch(ln){}}function rr(ct){return ct.expireTimeMillis-Date.now()>0}function tr(ct){return{token:Qe(Et),error:ct}}class at{constructor(st,Pt){this.app=st,this.heartbeatServiceProvider=Pt}_delete(){const{tokenObservers:st}=Xe(this.app);for(const Pt of st)wn(this.app,Pt.next);return Promise.resolve()}}const bi="app-check-internal";!function he(){(0,Ue._registerComponent)(new ze.wA("app-check",ct=>function rt(ct,st){return new at(ct,st)}(ct.getProvider("app").getImmediate(),ct.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ct,st,Pt)=>{ct.getProvider(bi).initialize()})),(0,Ue._registerComponent)(new ze.wA(bi,ct=>function ye(ct){return{getToken:st=>Mt(ct,st),addTokenListener:st=>function bt(ct,st,Pt,on){const{app:ln}=ct,Cn=Xe(ln),Un={next:Pt,error:on,type:st};if(tt(ln,Object.assign(Object.assign({},Cn),{tokenObservers:[...Cn.tokenObservers,Un]})),Cn.token&&rr(Cn.token)){const Mr=Cn.token;Promise.resolve().then(()=>{Pt({token:Mr.token}),cn(ct)}).catch(()=>{})}Cn.cachedTokenPromise.then(()=>cn(ct))}(ct,"INTERNAL",st),removeTokenListener:st=>wn(ct.app,st)}}(ct.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ue.registerVersion)("@firebase/app-check","0.5.7")}();class Be{constructor(){return(0,u.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(fn,ht,S)=>{S.d(ht,{Ot:()=>z,z6:()=>Ce,ZF:()=>Je,hX:()=>Xe});var u=S(5867),C=S(5e3),G=S(5813);class z{constructor(De){return De}}class Ce{constructor(){return(0,u.C6)()}}const ge=new C.OlP("angularfire2._apps"),ke={provide:z,useFactory:function ze($e){return $e&&1===$e.length?$e[0]:new z((0,u.Mq)())},deps:[[new C.FiY,ge]]},me={provide:Ce,deps:[[new C.FiY,ge]]};function Te($e){return(De,Se)=>{const Le=De.runOutsideAngular(()=>$e(Se));return new z(Le)}}let Fe=(()=>{class $e{constructor(Se){(0,u.KN)("angularfire",G.q4.full,"core"),(0,u.KN)("angularfire",G.q4.full,"app"),(0,u.KN)("angular",C.q4F.full,Se.toString())}}return $e.\u0275fac=function(Se){return new(Se||$e)(C.LFG(C.Lbi))},$e.\u0275mod=C.oAB({type:$e}),$e.\u0275inj=C.cJS({providers:[ke,me]}),$e})();function Xe($e,...De){return{ngModule:Fe,providers:[{provide:ge,useFactory:Te($e),multi:!0,deps:[C.R0b,C.zs3,G.HU,...De]}]}}const Je=(0,G.u3)(u.ZF,!0)},7323:(fn,ht,S)=>{S.d(ht,{gx:()=>Fe,dh:()=>Xe,Xb:()=>mt,v0:()=>Kt,AR:()=>$e,e5:()=>Rt,rh:()=>Mt,w7:()=>bt,EA:()=>Se});var u=S(5813),C=S(5e3),G=S(3692),z=S(5867),Ce=S(7128),Ue=S(8937),ze=S(9751);function ke(Z){return new ze.y(function(M){return{unsubscribe:(0,Ue.MX)(Z,M.next.bind(M),M.error.bind(M),M.complete.bind(M))}})}class Fe{constructor(M){return M}}class Xe{constructor(){return(0,u.vb)("auth")}}const Ze=new C.OlP("angularfire2.auth-instances");function Je(Z){return(M,w)=>{const L=M.runOutsideAngular(()=>Z(w));return new Fe(L)}}const pt={provide:Xe,deps:[[new C.FiY,Ze]]},Ye={provide:Fe,useFactory:function Dt(Z,M){const w=(0,u.JM)("auth",Z,M);return w&&new Fe(w)},deps:[[new C.FiY,Ze],G.Ot]};let Ut=(()=>{class Z{constructor(){(0,z.KN)("angularfire",u.q4.full,"auth")}}return Z.\u0275fac=function(w){return new(w||Z)},Z.\u0275mod=C.oAB({type:Z}),Z.\u0275inj=C.cJS({providers:[Ye,pt]}),Z})();function $e(Z,...M){return{ngModule:Ut,providers:[{provide:Ze,useFactory:Je(Z),multi:!0,deps:[C.R0b,C.zs3,u.HU,G.z6,[new C.FiY,Ce.nm],...M]}]}}const Se=(0,u.u3)(ke,!0),mt=(0,u.u3)(Ue.Xb,!0),Kt=(0,u.u3)(Ue.v0,!0),Rt=(0,u.u3)(Ue.e5,!0),Mt=(0,u.u3)(Ue.rh,!0),bt=(0,u.u3)(Ue.w7,!0)},1205:(fn,ht,S)=>{S.d(ht,{zQ:()=>ut,rT:()=>_t,f7:()=>Ct,L6:()=>Tt,_Q:()=>kt,lh:()=>mt,Qv:()=>le,nw:()=>xt});var u=S(5e3),C=S(7579),G=S(9646),z=S(9751),Ce=S(8996),Ue=S(6451),ze=S(6063);class ge extends C.x{constructor(dn=1/0,rn=1/0,At=ze.l){super(),this._bufferSize=dn,this._windowTime=rn,this._timestampProvider=At,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=rn===1/0,this._bufferSize=Math.max(1,dn),this._windowTime=Math.max(1,rn)}next(dn){const{isStopped:rn,_buffer:At,_infiniteTimeWindow:Bt,_timestampProvider:vn,_windowTime:He}=this;rn||(At.push(dn),!Bt&&At.push(vn.now()+He)),this._trimBuffer(),super.next(dn)}_subscribe(dn){this._throwIfClosed(),this._trimBuffer();const rn=this._innerSubscribe(dn),{_infiniteTimeWindow:At,_buffer:Bt}=this,vn=Bt.slice();for(let He=0;He<vn.length&&!dn.closed;He+=At?1:2)dn.next(vn[He]);return this._checkFinalizedStatuses(dn),rn}_trimBuffer(){const{_bufferSize:dn,_timestampProvider:rn,_buffer:At,_infiniteTimeWindow:Bt}=this,vn=(Bt?1:2)*dn;if(dn<1/0&&vn<At.length&&At.splice(0,At.length-vn),!Bt){const He=rn.now();let vt=0;for(let sn=1;sn<At.length&&At[sn]<=He;sn+=2)vt=sn;vt&&At.splice(0,vt+1)}}}var ke=S(3099);function me(tn,dn,rn){let At,Bt=!1;return tn&&"object"==typeof tn?({bufferSize:At=1/0,windowTime:dn=1/0,refCount:Bt=!1,scheduler:rn}=tn):At=null!=tn?tn:1/0,(0,ke.B)({connector:()=>new ge(At,dn,rn),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Bt})}var Te=S(3900),Fe=S(576);function Xe(tn,dn){return(0,Fe.m)(dn)?(0,Te.w)(()=>tn,dn):(0,Te.w)(()=>tn)}var tt=S(5363),Ze=S(4004),Dt=S(590),Je=S(9468),pt=S(9300),Ye=S(5813),Ut=S(2011),$e=S(9808),De=S(7128);S(127);const le=new u.OlP("angularfire2.auth.use-emulator"),Tt=new u.OlP("angularfire2.auth.settings"),kt=new u.OlP("angularfire2.auth.tenant-id"),_t=new u.OlP("angularfire2.auth.langugage-code"),mt=new u.OlP("angularfire2.auth.use-device-language"),Ct=new u.OlP("angularfire.auth.persistence"),xt=(tn,dn,rn,At,Bt,vn,He,vt)=>(0,Ut.cc)(`${tn.name}.auth`,"AngularFireAuth",tn.name,()=>{const sn=dn.runOutsideAngular(()=>tn.auth());if(rn&&sn.useEmulator(...rn),At&&(sn.tenantId=At),sn.languageCode=Bt,vn&&sn.useDeviceLanguage(),He)for(const[an,Gn]of Object.entries(He))sn.settings[an]=Gn;return vt&&sn.setPersistence(vt),sn},[rn,At,Bt,vn,He,vt]);let ut=(()=>{class tn{constructor(rn,At,Bt,vn,He,vt,sn,an,Gn,vr,Kn,cr){const sr=new C.x,Pn=(0,G.of)(void 0).pipe((0,tt.Q)(He.outsideAngular),(0,Te.w)(()=>vn.runOutsideAngular(()=>Promise.resolve().then(S.bind(S,5881)))),(0,Ze.U)(()=>(0,Ut.on)(rn,vn,At)),(0,Ze.U)(mr=>xt(mr,vn,vt,an,Gn,vr,sn,Kn)),me({bufferSize:1,refCount:!1}));if((0,$e.PM)(Bt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,G.of)(null);else{Pn.pipe((0,Dt.P)()).subscribe();const dr=Pn.pipe((0,Te.w)(En=>En.getRedirectResult().then(Er=>Er,()=>null)),Ye.iC,me({bufferSize:1,refCount:!1})),Pr=Pn.pipe((0,Te.w)(En=>new z.y(Er=>({unsubscribe:vn.runOutsideAngular(()=>En.onAuthStateChanged($n=>Er.next($n),$n=>Er.error($n),()=>Er.complete()))})))),bn=Pn.pipe((0,Te.w)(En=>new z.y(Er=>({unsubscribe:vn.runOutsideAngular(()=>En.onIdTokenChanged($n=>Er.next($n),$n=>Er.error($n),()=>Er.complete()))}))));this.authState=dr.pipe(Xe(Pr),(0,Je.R)(He.outsideAngular),(0,tt.Q)(He.insideAngular)),this.user=dr.pipe(Xe(bn),(0,Je.R)(He.outsideAngular),(0,tt.Q)(He.insideAngular)),this.idToken=this.user.pipe((0,Te.w)(En=>En?(0,Ce.D)(En.getIdToken()):(0,G.of)(null))),this.idTokenResult=this.user.pipe((0,Te.w)(En=>En?(0,Ce.D)(En.getIdTokenResult()):(0,G.of)(null))),this.credential=(0,Ue.T)(dr,sr,this.authState.pipe((0,pt.h)(En=>!En))).pipe((0,Ze.U)(En=>(null==En?void 0:En.user)?En:null),(0,Je.R)(He.outsideAngular),(0,tt.Q)(He.insideAngular))}return(0,Ut.pX)(this,Pn,vn,{spy:{apply:(mr,dr,Pr)=>{(mr.startsWith("signIn")||mr.startsWith("createUser"))&&Pr.then(bn=>sr.next(bn))}}})}}return tn.\u0275fac=function(rn){return new(rn||tn)(u.LFG(Ut.Dh),u.LFG(Ut.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ye.HU),u.LFG(le,8),u.LFG(Tt,8),u.LFG(kt,8),u.LFG(_t,8),u.LFG(mt,8),u.LFG(Ct,8),u.LFG(De.nm,8))},tn.\u0275prov=u.Yz7({token:tn,factory:tn.\u0275fac,providedIn:"any"}),tn})()},5019:(fn,ht,S)=>{S.d(ht,{KQ:()=>rr,JS:()=>tr});var u=S(5e3),C=S(4986),G=S(9751),z=S(9646),Ce=S(6451),Ue=S(4482),ze=S(5403),ge=S(8421),ke=S(4671),me=S(5032),Te=S(3269),tt=S(4004),Ze=S(3099),Dt=S(3900),Je=S(5026),pt=S(1884),Ye=S(5813),Ut=S(2011),De=(S(5881),S(3942)),Se=S(4859),Le=S(1627),le=S(2090);const mt=new(S(1877).Yd)("@firebase/database-compat"),Ct=function(at){mt.warn("FIREBASE WARNING: "+at)};class Kt{constructor(rt){this._delegate=rt}cancel(rt){(0,le.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,le.Wj)("OnDisconnect.cancel","onComplete",rt,!0);const ye=this._delegate.cancel();return rt&&ye.then(()=>rt(null),Z=>rt(Z)),ye}remove(rt){(0,le.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,le.Wj)("OnDisconnect.remove","onComplete",rt,!0);const ye=this._delegate.remove();return rt&&ye.then(()=>rt(null),Z=>rt(Z)),ye}set(rt,ye){(0,le.Dv)("OnDisconnect.set",1,2,arguments.length),(0,le.Wj)("OnDisconnect.set","onComplete",ye,!0);const Z=this._delegate.set(rt);return ye&&Z.then(()=>ye(null),M=>ye(M)),Z}setWithPriority(rt,ye,Z){(0,le.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,le.Wj)("OnDisconnect.setWithPriority","onComplete",Z,!0);const M=this._delegate.setWithPriority(rt,ye);return Z&&M.then(()=>Z(null),w=>Z(w)),M}update(rt,ye){if((0,le.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(rt)){const M={};for(let w=0;w<rt.length;++w)M[""+w]=rt[w];rt=M,Ct("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,le.Wj)("OnDisconnect.update","onComplete",ye,!0);const Z=this._delegate.update(rt);return ye&&Z.then(()=>ye(null),M=>ye(M)),Z}}class tn{constructor(rt,ye){this.committed=rt,this.snapshot=ye}toJSON(){return(0,le.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class dn{constructor(rt,ye){this._database=rt,this._delegate=ye}val(){return(0,le.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,le.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,le.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,le.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(rt){return(0,le.Dv)("DataSnapshot.child",0,1,arguments.length),rt=String(rt),(0,Le.FQ)("DataSnapshot.child","path",rt,!1),new dn(this._database,this._delegate.child(rt))}hasChild(rt){return(0,le.Dv)("DataSnapshot.hasChild",1,1,arguments.length),(0,Le.FQ)("DataSnapshot.hasChild","path",rt,!1),this._delegate.hasChild(rt)}getPriority(){return(0,le.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(rt){return(0,le.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,le.Wj)("DataSnapshot.forEach","action",rt,!1),this._delegate.forEach(ye=>rt(new dn(this._database,ye)))}hasChildren(){return(0,le.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,le.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,le.Dv)("DataSnapshot.ref",0,0,arguments.length),new At(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class rn{constructor(rt,ye){this.database=rt,this._delegate=ye}on(rt,ye,Z,M){var w;(0,le.Dv)("Query.on",2,4,arguments.length),(0,le.Wj)("Query.on","callback",ye,!1);const L=rn.getCancelAndContextArgs_("Query.on",Z,M),be=(Ae,Ne)=>{ye.call(L.context,new dn(this.database,Ae),Ne)};be.userCallback=ye,be.context=L.context;const We=null===(w=L.cancel)||void 0===w?void 0:w.bind(L.context);switch(rt){case"value":return(0,Le.jM)(this._delegate,be,We),ye;case"child_added":return(0,Le.yv)(this._delegate,be,We),ye;case"child_removed":return(0,Le.MQ)(this._delegate,be,We),ye;case"child_changed":return(0,Le.Jr)(this._delegate,be,We),ye;case"child_moved":return(0,Le.Vt)(this._delegate,be,We),ye;default:throw new Error((0,le.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(rt,ye,Z){if((0,le.Dv)("Query.off",0,3,arguments.length),function(at,rt,ye){if(void 0!==rt)switch(rt){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,le.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,rt),(0,le.Wj)("Query.off","callback",ye,!0),(0,le.lb)("Query.off","context",Z,!0),ye){const M=()=>{};M.userCallback=ye,M.context=Z,(0,Le.S1)(this._delegate,rt,M)}else(0,Le.S1)(this._delegate,rt)}get(){return(0,Le.U2)(this._delegate).then(rt=>new dn(this.database,rt))}once(rt,ye,Z,M){(0,le.Dv)("Query.once",1,4,arguments.length),(0,le.Wj)("Query.once","callback",ye,!0);const w=rn.getCancelAndContextArgs_("Query.once",Z,M),L=new le.BH,be=(Ae,Ne)=>{const Ge=new dn(this.database,Ae);ye&&ye.call(w.context,Ge,Ne),L.resolve(Ge)};be.userCallback=ye,be.context=w.context;const We=Ae=>{w.cancel&&w.cancel.call(w.context,Ae),L.reject(Ae)};switch(rt){case"value":(0,Le.jM)(this._delegate,be,We,{onlyOnce:!0});break;case"child_added":(0,Le.yv)(this._delegate,be,We,{onlyOnce:!0});break;case"child_removed":(0,Le.MQ)(this._delegate,be,We,{onlyOnce:!0});break;case"child_changed":(0,Le.Jr)(this._delegate,be,We,{onlyOnce:!0});break;case"child_moved":(0,Le.Vt)(this._delegate,be,We,{onlyOnce:!0});break;default:throw new Error((0,le.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return L.promise}limitToFirst(rt){return(0,le.Dv)("Query.limitToFirst",1,1,arguments.length),new rn(this.database,(0,Le.IO)(this._delegate,(0,Le.Kk)(rt)))}limitToLast(rt){return(0,le.Dv)("Query.limitToLast",1,1,arguments.length),new rn(this.database,(0,Le.IO)(this._delegate,(0,Le.vh)(rt)))}orderByChild(rt){return(0,le.Dv)("Query.orderByChild",1,1,arguments.length),new rn(this.database,(0,Le.IO)(this._delegate,(0,Le.g2)(rt)))}orderByKey(){return(0,le.Dv)("Query.orderByKey",0,0,arguments.length),new rn(this.database,(0,Le.IO)(this._delegate,(0,Le.R)()))}orderByPriority(){return(0,le.Dv)("Query.orderByPriority",0,0,arguments.length),new rn(this.database,(0,Le.IO)(this._delegate,(0,Le.HE)()))}orderByValue(){return(0,le.Dv)("Query.orderByValue",0,0,arguments.length),new rn(this.database,(0,Le.IO)(this._delegate,(0,Le.Bd)()))}startAt(rt=null,ye){return(0,le.Dv)("Query.startAt",0,2,arguments.length),new rn(this.database,(0,Le.IO)(this._delegate,(0,Le.e0)(rt,ye)))}startAfter(rt=null,ye){return(0,le.Dv)("Query.startAfter",0,2,arguments.length),new rn(this.database,(0,Le.IO)(this._delegate,(0,Le.TQ)(rt,ye)))}endAt(rt=null,ye){return(0,le.Dv)("Query.endAt",0,2,arguments.length),new rn(this.database,(0,Le.IO)(this._delegate,(0,Le.Wu)(rt,ye)))}endBefore(rt=null,ye){return(0,le.Dv)("Query.endBefore",0,2,arguments.length),new rn(this.database,(0,Le.IO)(this._delegate,(0,Le.Lx)(rt,ye)))}equalTo(rt,ye){return(0,le.Dv)("Query.equalTo",1,2,arguments.length),new rn(this.database,(0,Le.IO)(this._delegate,(0,Le.EW)(rt,ye)))}toString(){return(0,le.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,le.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(rt){if((0,le.Dv)("Query.isEqual",1,1,arguments.length),!(rt instanceof rn))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(rt._delegate)}static getCancelAndContextArgs_(rt,ye,Z){const M={cancel:void 0,context:void 0};if(ye&&Z)M.cancel=ye,(0,le.Wj)(rt,"cancel",M.cancel,!0),M.context=Z,(0,le.lb)(rt,"context",M.context,!0);else if(ye)if("object"==typeof ye&&null!==ye)M.context=ye;else{if("function"!=typeof ye)throw new Error((0,le.gK)(rt,"cancelOrContext")+" must either be a cancel callback or a context object.");M.cancel=ye}return M}get ref(){return new At(this.database,new Le.tn(this._delegate._repo,this._delegate._path))}}class At extends rn{constructor(rt,ye){super(rt,new Le.JH(ye._repo,ye._path,new Le.G$,!1)),this.database=rt,this._delegate=ye}getKey(){return(0,le.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(rt){return(0,le.Dv)("Reference.child",1,1,arguments.length),"number"==typeof rt&&(rt=String(rt)),new At(this.database,(0,Le.iU)(this._delegate,rt))}getParent(){(0,le.Dv)("Reference.parent",0,0,arguments.length);const rt=this._delegate.parent;return rt?new At(this.database,rt):null}getRoot(){return(0,le.Dv)("Reference.root",0,0,arguments.length),new At(this.database,this._delegate.root)}set(rt,ye){(0,le.Dv)("Reference.set",1,2,arguments.length),(0,le.Wj)("Reference.set","onComplete",ye,!0);const Z=(0,Le.t8)(this._delegate,rt);return ye&&Z.then(()=>ye(null),M=>ye(M)),Z}update(rt,ye){if((0,le.Dv)("Reference.update",1,2,arguments.length),Array.isArray(rt)){const M={};for(let w=0;w<rt.length;++w)M[""+w]=rt[w];rt=M,Ct("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Le.mI)("Reference.update",this._delegate._path),(0,le.Wj)("Reference.update","onComplete",ye,!0);const Z=(0,Le.Vx)(this._delegate,rt);return ye&&Z.then(()=>ye(null),M=>ye(M)),Z}setWithPriority(rt,ye,Z){(0,le.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,le.Wj)("Reference.setWithPriority","onComplete",Z,!0);const M=(0,Le.cy)(this._delegate,rt,ye);return Z&&M.then(()=>Z(null),w=>Z(w)),M}remove(rt){(0,le.Dv)("Reference.remove",0,1,arguments.length),(0,le.Wj)("Reference.remove","onComplete",rt,!0);const ye=(0,Le.Od)(this._delegate);return rt&&ye.then(()=>rt(null),Z=>rt(Z)),ye}transaction(rt,ye,Z){(0,le.Dv)("Reference.transaction",1,3,arguments.length),(0,le.Wj)("Reference.transaction","transactionUpdate",rt,!1),(0,le.Wj)("Reference.transaction","onComplete",ye,!0),function(at,rt,ye,Z){if(void 0!==ye&&"boolean"!=typeof ye)throw new Error((0,le.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,Z);const M=(0,Le.i3)(this._delegate,rt,{applyLocally:Z}).then(w=>new tn(w.committed,new dn(this.database,w.snapshot)));return ye&&M.then(w=>ye(null,w.committed,w.snapshot),w=>ye(w,!1,null)),M}setPriority(rt,ye){(0,le.Dv)("Reference.setPriority",1,2,arguments.length),(0,le.Wj)("Reference.setPriority","onComplete",ye,!0);const Z=(0,Le.Sl)(this._delegate,rt);return ye&&Z.then(()=>ye(null),M=>ye(M)),Z}push(rt,ye){(0,le.Dv)("Reference.push",0,2,arguments.length),(0,le.Wj)("Reference.push","onComplete",ye,!0);const Z=(0,Le.VF)(this._delegate,rt),M=Z.then(L=>new At(this.database,L));ye&&M.then(()=>ye(null),L=>ye(L));const w=new At(this.database,Z);return w.then=M.then.bind(M),w.catch=M.catch.bind(M,void 0),w}onDisconnect(){return(0,Le.mI)("Reference.onDisconnect",this._delegate._path),new Kt(new Le.vA(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Bt{constructor(rt,ye){this._delegate=rt,this.app=ye,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(rt,ye,Z={}){(0,Le.dH)(this._delegate,rt,ye,Z)}ref(rt){if((0,le.Dv)("database.ref",0,1,arguments.length),rt instanceof At){const ye=(0,Le.qT)(this._delegate,rt.toString());return new At(this,ye)}{const ye=(0,Le.iH)(this._delegate,rt);return new At(this,ye)}}refFromURL(rt){(0,le.Dv)("database.refFromURL",1,1,arguments.length);const Z=(0,Le.qT)(this._delegate,rt);return new At(this,Z)}goOffline(){return(0,le.Dv)("database.goOffline",0,0,arguments.length),(0,Le.Sb)(this._delegate)}goOnline(){return(0,le.Dv)("database.goOnline",0,0,arguments.length),(0,Le.$o)(this._delegate)}}Bt.ServerValue={TIMESTAMP:(0,Le.Bt)(),increment:at=>(0,Le.nP)(at)};var He=Object.freeze({__proto__:null,initStandalone:function vn({app:at,url:rt,version:ye,customAuthImpl:Z,namespace:M,nodeAdmin:w=!1}){(0,Le.AM)(ye);const L=new Se.zt("auth-internal",new Se.H0("database-standalone"));return L.setComponent(new Se.wA("auth-internal",()=>Z,"PRIVATE")),{instance:new Bt((0,Le.wj)(at,L,void 0,rt,w),at),namespace:M}}});const vt=Bt.ServerValue;!function sn(at){at.INTERNAL.registerComponent(new Se.wA("database-compat",(rt,{instanceIdentifier:ye})=>{const Z=rt.getProvider("app-compat").getImmediate(),M=rt.getProvider("database").getImmediate({identifier:ye});return new Bt(M,Z)},"PUBLIC").setServiceProps({Reference:At,Query:rn,Database:Bt,DataSnapshot:dn,enableLogging:Le.U7,INTERNAL:He,ServerValue:vt}).setMultipleInstances(!0)),at.registerVersion("@firebase/database-compat","0.1.8")}(De.Z);var an=S(1205),Gn=S(7128),vr=S(127);function sr(at){return null==at}function Pn(at){return"function"==typeof at.set}function mr(at,rt){return Pn(rt)?rt:at.ref(rt)}function dr(at,rt){if(function Kn(at){return"string"==typeof at}(at))return rt.stringCase();if(Pn(at))return rt.firebaseCase();if(function cr(at){return"function"==typeof at.exportVal}(at))return rt.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof at)}function Pr(at,rt,ye="on",Z=C.z){return new G.y(M=>{let w=null;return w=at[ye](rt,(L,be)=>{Z.schedule(()=>{M.next({snapshot:L,prevKey:be})}),"once"===ye&&Z.schedule(()=>M.complete())},L=>{Z.schedule(()=>M.error(L))}),"on"===ye?{unsubscribe(){null!=w&&at.off(rt,w)}}:{unsubscribe(){}}}).pipe((0,tt.U)(M=>{const{snapshot:w,prevKey:L}=M;let be=null;return w.exists()&&(be=w.key),{type:rt,payload:w,prevKey:L,key:be}}),(0,Ze.B)())}function En(at,rt){const ye=at.length;for(let Z=0;Z<ye;Z++)if(at[Z].payload.key===rt)return Z;return-1}function $n(at,rt){const{payload:ye,prevKey:Z,key:M}=rt,w=En(at,M),L=function Er(at,rt){if(sr(rt))return 0;{const ye=En(at,rt);return-1===ye?at.length:ye+1}}(at,Z);switch(rt.type){case"value":if(rt.payload&&rt.payload.exists()){let be=null;rt.payload.forEach(We=>{const Ae={payload:We,type:"value",prevKey:be,key:We.key};return be=We.key,at=[...at,Ae],!1})}return at;case"child_added":if(w>-1){const be=at[w-1];(be&&be.key||null)!==Z&&(at=at.filter(We=>We.payload.key!==ye.key)).splice(L,0,rt)}else{if(null==Z)return[rt,...at];(at=at.slice()).splice(L,0,rt)}return at;case"child_removed":return at.filter(be=>be.payload.key!==ye.key);case"child_changed":return at.map(be=>be.payload.key===M?rt:be);case"child_moved":if(w>-1){const be=at.splice(w,1)[0];return(at=at.slice()).splice(L,0,be),at}return at;default:return at}}function hr(at){return(sr(at)||0===at.length)&&(at=["child_added","child_removed","child_changed","child_moved"]),at}function Ir(at,rt,ye){return function bn(at,rt,ye){return Pr(at,"value","once",ye).pipe((0,Dt.w)(Z=>{const M=[(0,z.of)(Z)];return rt.forEach(w=>M.push(Pr(at,w,"on",ye))),(0,Ce.T)(...M).pipe((0,Je.R)($n,[]))}),(0,pt.x)())}(at,rt=hr(rt),ye)}function nn(at,rt,ye){const Z=(rt=hr(rt)).map(M=>Pr(at,M,"on",ye));return(0,Ce.T)(...Z)}function Mt(at,rt){return function(Z,M){return dr(Z,{stringCase:()=>at.child(Z)[rt](M),firebaseCase:()=>Z[rt](M),snapshotCase:()=>Z.ref[rt](M)})}}function Ve(at){return function(ye){return ye?dr(ye,{stringCase:()=>at.child(ye).remove(),firebaseCase:()=>ye.remove(),snapshotCase:()=>ye.ref.remove()}):at.remove()}}function wn(at,rt){return function(){return Pr(at,"value","on",rt)}}const Mn=new u.OlP("angularfire2.realtimeDatabaseURL"),wr=new u.OlP("angularfire2.database.use-emulator");let rr=(()=>{class at{constructor(ye,Z,M,w,L,be,We,Ae,Ne,Ge,It,we,Re,se,_e){this.schedulers=be;const J=We,Q=(0,Ut.on)(ye,L,Z);Ae&&(0,an.nw)(Q,L,Ne,It,we,Re,Ge,se),this.database=(0,Ut.cc)(`${Q.name}.database.${M}`,"AngularFireDatabase",Q.name,()=>{const ne=L.runOutsideAngular(()=>Q.database(M||void 0));return J&&ne.useEmulator(...J),ne},[J])}list(ye,Z){const M=this.schedulers.ngZone.runOutsideAngular(()=>mr(this.database,ye));let w=M;return Z&&(w=Z(M)),function bt(at,rt){const ye=rt.schedulers.outsideAngular,Z=rt.schedulers.ngZone.run(()=>at.ref);return{query:at,update:Mt(Z,"update"),set:Mt(Z,"set"),push:M=>Z.push(M),remove:Ve(Z),snapshotChanges:M=>Ir(at,M,ye).pipe(Ye.iC),stateChanges:M=>nn(at,M,ye).pipe(Ye.iC),auditTrail:M=>function Rt(at,rt,ye){return function Qe(at,rt,ye){return function Et(at,rt){return Pr(at,"value","on",rt).pipe((0,tt.U)(ye=>{let Z;return ye.payload.forEach(M=>(Z=M.key,!1)),{data:ye,lastKeyToLoad:Z}}))}(at,ye).pipe(function Fe(...at){const rt=(0,Te.jO)(at);return(0,Ue.e)((ye,Z)=>{const M=at.length,w=new Array(M);let L=at.map(()=>!1),be=!1;for(let We=0;We<M;We++)(0,ge.Xf)(at[We]).subscribe((0,ze.x)(Z,Ae=>{w[We]=Ae,!be&&!L[We]&&(L[We]=!0,(be=L.every(ke.y))&&(L=null))},me.Z));ye.subscribe((0,ze.x)(Z,We=>{if(be){const Ae=[We,...w];Z.next(rt?rt(...Ae):Ae)}}))})}(rt),(0,tt.U)(([M,w])=>{const L=M.lastKeyToLoad,be=w.map(We=>We.key);return{actions:w,lastKeyToLoad:L,loadedKeys:be}}),function Xe(at){return(0,Ue.e)((rt,ye)=>{let Z=!1,M=0;rt.subscribe((0,ze.x)(ye,w=>(Z||(Z=!at(w,M++)))&&ye.next(w)))})}(M=>-1===M.loadedKeys.indexOf(M.lastKeyToLoad)),(0,tt.U)(M=>M.actions))}(at,nn(at,rt).pipe((0,Je.R)((M,w)=>[...M,w],[])),ye)}(at,M,ye).pipe(Ye.iC),valueChanges:(M,w)=>Ir(at,M,ye).pipe((0,tt.U)(be=>be.map(We=>w&&w.idField?Object.assign(Object.assign({},We.payload.val()),{[w.idField]:We.key}):We.payload.val())),Ye.iC)}}(w,this)}object(ye){return function cn(at,rt){return{query:at,snapshotChanges:()=>wn(at,rt.schedulers.outsideAngular)().pipe(Ye.iC),update:ye=>at.ref.update(ye),set:ye=>at.ref.set(ye),remove:()=>at.ref.remove(),valueChanges:()=>wn(at,rt.schedulers.outsideAngular)().pipe(Ye.iC,(0,tt.U)(Z=>Z.payload.exists()?Z.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>mr(this.database,ye)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return at.\u0275fac=function(ye){return new(ye||at)(u.LFG(Ut.Dh),u.LFG(Ut.xv,8),u.LFG(Mn,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ye.HU),u.LFG(wr,8),u.LFG(an.zQ,8),u.LFG(an.Qv,8),u.LFG(an.L6,8),u.LFG(an._Q,8),u.LFG(an.rT,8),u.LFG(an.lh,8),u.LFG(an.f7,8),u.LFG(Gn.nm,8))},at.\u0275prov=u.Yz7({token:at,factory:at.\u0275fac,providedIn:"any"}),at})(),tr=(()=>{class at{constructor(){vr.Z.registerVersion("angularfire",Ye.q4.full,"rtdb-compat")}}return at.\u0275fac=function(ye){return new(ye||at)},at.\u0275mod=u.oAB({type:at}),at.\u0275inj=u.cJS({providers:[rr]}),at})()},6185:(fn,ht,S)=>{S.d(ht,{ST:()=>ye,yb:()=>Z});var u=S(5e3),C=S(4986),G=S(9751),z=S(8996),Ce=S(9646),Ue=S(5813),ze=S(4482),ge=S(5403);function ke(){return(0,ze.e)((M,w)=>{let L,be=!1;M.subscribe((0,ge.x)(w,We=>{const Ae=L;L=We,be&&w.next([Ae,We]),be=!0}))})}var me=S(8675),Te=S(4004),Fe=S(5026),Xe=S(1884),tt=S(9300),Ze=S(2011),Dt=S(9808),pt=(S(5881),S(3942)),Ye=S(5525),Ut=S(2090),$e=S(4859);function Le(M,w){if(void 0===w)return{merge:!1};if(void 0!==w.mergeFields&&void 0!==w.merge)throw new Ye.WA("invalid-argument",`Invalid options passed to function ${M}(): You cannot specify both "merge" and "mergeFields".`);return w}function le(){if("undefined"==typeof Uint8Array)throw new Ye.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Tt(){if(!(0,Ye.Me)())throw new Ye.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class kt{constructor(w){this._delegate=w}static fromBase64String(w){return Tt(),new kt(Ye.Jj.fromBase64String(w))}static fromUint8Array(w){return le(),new kt(Ye.Jj.fromUint8Array(w))}toBase64(){return Tt(),this._delegate.toBase64()}toUint8Array(){return le(),this._delegate.toUint8Array()}isEqual(w){return this._delegate.isEqual(w._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function _t(M){return function mt(M,w){if("object"!=typeof M||null===M)return!1;const L=M;for(const be of w)if(be in L&&"function"==typeof L[be])return!0;return!1}(M,["next","error","complete"])}class Ct{enableIndexedDbPersistence(w,L){return(0,Ye.ST)(w._delegate,{forceOwnership:L})}enableMultiTabIndexedDbPersistence(w){return(0,Ye.fH)(w._delegate)}clearIndexedDbPersistence(w){return(0,Ye.Fc)(w._delegate)}}class xt{constructor(w,L,be){this._delegate=L,this._persistenceProvider=be,this.INTERNAL={delete:()=>this.terminate()},w instanceof Ye.l7||(this._appCompat=w)}get _databaseId(){return this._delegate._databaseId}settings(w){const L=this._delegate._getSettings();!w.merge&&L.host!==w.host&&(0,Ye.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),w.merge&&delete(w=Object.assign(Object.assign({},L),w)).merge,this._delegate._setSettings(w)}useEmulator(w,L,be={}){(0,Ye.at)(this._delegate,w,L,be)}enableNetwork(){return(0,Ye.Ix)(this._delegate)}disableNetwork(){return(0,Ye.TF)(this._delegate)}enablePersistence(w){let L=!1,be=!1;return w&&(L=!!w.synchronizeTabs,be=!!w.experimentalForceOwningTab,(0,Ye.Wi)("synchronizeTabs",L,"experimentalForceOwningTab",be)),L?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,be)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ye.Mx)(this._delegate)}onSnapshotsInSync(w){return(0,Ye.sc)(this._delegate,w)}get app(){if(!this._appCompat)throw new Ye.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(w){try{return new Kn(this,(0,Ye.hJ)(this._delegate,w))}catch(L){throw Bt(L,"collection()","Firestore.collection()")}}doc(w){try{return new At(this,(0,Ye.JU)(this._delegate,w))}catch(L){throw Bt(L,"doc()","Firestore.doc()")}}collectionGroup(w){try{return new an(this,(0,Ye.B$)(this._delegate,w))}catch(L){throw Bt(L,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(w){return(0,Ye.i3)(this._delegate,L=>w(new tn(this,L)))}batch(){return(0,Ye.qY)(this._delegate),new dn(new Ye.PU(this._delegate,w=>(0,Ye.GL)(this._delegate,w)))}loadBundle(w){return(0,Ye.Pb)(this._delegate,w)}namedQuery(w){return(0,Ye.L$)(this._delegate,w).then(L=>L?new an(this,L):null)}}class ut extends Ye.u7{constructor(w){super(),this.firestore=w}convertBytes(w){return new kt(new Ye.Jj(w))}convertReference(w){const L=this.convertDocumentKey(w,this.firestore._databaseId);return At.forKey(L,this.firestore,null)}}class tn{constructor(w,L){this._firestore=w,this._delegate=L,this._userDataWriter=new ut(w)}get(w){const L=cr(w);return this._delegate.get(L).then(be=>new vt(this._firestore,new Ye.xU(this._firestore._delegate,this._userDataWriter,be._key,be._document,be.metadata,L.converter)))}set(w,L,be){const We=cr(w);return be?(Le("Transaction.set",be),this._delegate.set(We,L,be)):this._delegate.set(We,L),this}update(w,L,be,...We){const Ae=cr(w);return 2===arguments.length?this._delegate.update(Ae,L):this._delegate.update(Ae,L,be,...We),this}delete(w){const L=cr(w);return this._delegate.delete(L),this}}class dn{constructor(w){this._delegate=w}set(w,L,be){const We=cr(w);return be?(Le("WriteBatch.set",be),this._delegate.set(We,L,be)):this._delegate.set(We,L),this}update(w,L,be,...We){const Ae=cr(w);return 2===arguments.length?this._delegate.update(Ae,L):this._delegate.update(Ae,L,be,...We),this}delete(w){const L=cr(w);return this._delegate.delete(L),this}commit(){return this._delegate.commit()}}class rn{constructor(w,L,be){this._firestore=w,this._userDataWriter=L,this._delegate=be}fromFirestore(w,L){const be=new Ye.$q(this._firestore._delegate,this._userDataWriter,w._key,w._document,w.metadata,null);return this._delegate.fromFirestore(new sn(this._firestore,be),null!=L?L:{})}toFirestore(w,L){return L?this._delegate.toFirestore(w,L):this._delegate.toFirestore(w)}static getInstance(w,L){const be=rn.INSTANCES;let We=be.get(w);We||(We=new WeakMap,be.set(w,We));let Ae=We.get(L);return Ae||(Ae=new rn(w,new ut(w),L),We.set(L,Ae)),Ae}}rn.INSTANCES=new WeakMap;class At{constructor(w,L){this.firestore=w,this._delegate=L,this._userDataWriter=new ut(w)}static forPath(w,L,be){if(w.length%2!=0)throw new Ye.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${w.canonicalString()} has ${w.length}`);return new At(L,new Ye.my(L._delegate,be,new Ye.Ky(w)))}static forKey(w,L,be){return new At(L,new Ye.my(L._delegate,be,w))}get id(){return this._delegate.id}get parent(){return new Kn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(w){try{return new Kn(this.firestore,(0,Ye.hJ)(this._delegate,w))}catch(L){throw Bt(L,"collection()","DocumentReference.collection()")}}isEqual(w){return(w=(0,Ut.m9)(w))instanceof Ye.my&&(0,Ye.Eo)(this._delegate,w)}set(w,L){L=Le("DocumentReference.set",L);try{return L?(0,Ye.pl)(this._delegate,w,L):(0,Ye.pl)(this._delegate,w)}catch(be){throw Bt(be,"setDoc()","DocumentReference.set()")}}update(w,L,...be){try{return 1===arguments.length?(0,Ye.r7)(this._delegate,w):(0,Ye.r7)(this._delegate,w,L,...be)}catch(We){throw Bt(We,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ye.oe)(this._delegate)}onSnapshot(...w){const L=vn(w),be=He(w,We=>new vt(this.firestore,new Ye.xU(this.firestore._delegate,this._userDataWriter,We._key,We._document,We.metadata,this._delegate.converter)));return(0,Ye.cf)(this._delegate,L,be)}get(w){let L;return L="cache"===(null==w?void 0:w.source)?(0,Ye.kl)(this._delegate):"server"===(null==w?void 0:w.source)?(0,Ye.Xk)(this._delegate):(0,Ye.QT)(this._delegate),L.then(be=>new vt(this.firestore,new Ye.xU(this.firestore._delegate,this._userDataWriter,be._key,be._document,be.metadata,this._delegate.converter)))}withConverter(w){return new At(this.firestore,this._delegate.withConverter(w?rn.getInstance(this.firestore,w):null))}}function Bt(M,w,L){return M.message=M.message.replace(w,L),M}function vn(M){for(const w of M)if("object"==typeof w&&!_t(w))return w;return{}}function He(M,w){var L,be;let We;return We=_t(M[0])?M[0]:_t(M[1])?M[1]:"function"==typeof M[0]?{next:M[0],error:M[1],complete:M[2]}:{next:M[1],error:M[2],complete:M[3]},{next:Ae=>{We.next&&We.next(w(Ae))},error:null===(L=We.error)||void 0===L?void 0:L.bind(We),complete:null===(be=We.complete)||void 0===be?void 0:be.bind(We)}}class vt{constructor(w,L){this._firestore=w,this._delegate=L}get ref(){return new At(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(w){return this._delegate.data(w)}get(w,L){return this._delegate.get(w,L)}isEqual(w){return(0,Ye.qK)(this._delegate,w._delegate)}}class sn extends vt{data(w){const L=this._delegate.data(w);return(0,Ye.K9)(void 0!==L,"Document in a QueryDocumentSnapshot should exist"),L}}class an{constructor(w,L){this.firestore=w,this._delegate=L,this._userDataWriter=new ut(w)}where(w,L,be){try{return new an(this.firestore,(0,Ye.IO)(this._delegate,(0,Ye.ar)(w,L,be)))}catch(We){throw Bt(We,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(w,L){try{return new an(this.firestore,(0,Ye.IO)(this._delegate,(0,Ye.Xo)(w,L)))}catch(be){throw Bt(be,/(orderBy|where)\(\)/,"Query.$1()")}}limit(w){try{return new an(this.firestore,(0,Ye.IO)(this._delegate,(0,Ye.b9)(w)))}catch(L){throw Bt(L,"limit()","Query.limit()")}}limitToLast(w){try{return new an(this.firestore,(0,Ye.IO)(this._delegate,(0,Ye.vh)(w)))}catch(L){throw Bt(L,"limitToLast()","Query.limitToLast()")}}startAt(...w){try{return new an(this.firestore,(0,Ye.IO)(this._delegate,(0,Ye.e0)(...w)))}catch(L){throw Bt(L,"startAt()","Query.startAt()")}}startAfter(...w){try{return new an(this.firestore,(0,Ye.IO)(this._delegate,(0,Ye.TQ)(...w)))}catch(L){throw Bt(L,"startAfter()","Query.startAfter()")}}endBefore(...w){try{return new an(this.firestore,(0,Ye.IO)(this._delegate,(0,Ye.Lx)(...w)))}catch(L){throw Bt(L,"endBefore()","Query.endBefore()")}}endAt(...w){try{return new an(this.firestore,(0,Ye.IO)(this._delegate,(0,Ye.Wu)(...w)))}catch(L){throw Bt(L,"endAt()","Query.endAt()")}}isEqual(w){return(0,Ye.iE)(this._delegate,w._delegate)}get(w){let L;return L="cache"===(null==w?void 0:w.source)?(0,Ye.UQ)(this._delegate):"server"===(null==w?void 0:w.source)?(0,Ye.zN)(this._delegate):(0,Ye.PL)(this._delegate),L.then(be=>new vr(this.firestore,new Ye.W(this.firestore._delegate,this._userDataWriter,this._delegate,be._snapshot)))}onSnapshot(...w){const L=vn(w),be=He(w,We=>new vr(this.firestore,new Ye.W(this.firestore._delegate,this._userDataWriter,this._delegate,We._snapshot)));return(0,Ye.cf)(this._delegate,L,be)}withConverter(w){return new an(this.firestore,this._delegate.withConverter(w?rn.getInstance(this.firestore,w):null))}}class Gn{constructor(w,L){this._firestore=w,this._delegate=L}get type(){return this._delegate.type}get doc(){return new sn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vr{constructor(w,L){this._firestore=w,this._delegate=L}get query(){return new an(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(w=>new sn(this._firestore,w))}docChanges(w){return this._delegate.docChanges(w).map(L=>new Gn(this._firestore,L))}forEach(w,L){this._delegate.forEach(be=>{w.call(L,new sn(this._firestore,be))})}isEqual(w){return(0,Ye.qK)(this._delegate,w._delegate)}}class Kn extends an{constructor(w,L){super(w,L),this.firestore=w,this._delegate=L}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const w=this._delegate.parent;return w?new At(this.firestore,w):null}doc(w){try{return new At(this.firestore,void 0===w?(0,Ye.JU)(this._delegate):(0,Ye.JU)(this._delegate,w))}catch(L){throw Bt(L,"doc()","CollectionReference.doc()")}}add(w){return(0,Ye.ET)(this._delegate,w).then(L=>new At(this.firestore,L))}isEqual(w){return(0,Ye.Eo)(this._delegate,w._delegate)}withConverter(w){return new Kn(this.firestore,this._delegate.withConverter(w?rn.getInstance(this.firestore,w):null))}}function cr(M){return(0,Ye.Cf)(M,Ye.my)}class sr{constructor(...w){this._delegate=new Ye.Lz(...w)}static documentId(){return new sr(Ye.Xb.keyField().canonicalString())}isEqual(w){return(w=(0,Ut.m9)(w))instanceof Ye.Lz&&this._delegate._internalPath.isEqual(w._internalPath)}}class Pn{constructor(w){this._delegate=w}static serverTimestamp(){const w=(0,Ye.Bt)();return w._methodName="FieldValue.serverTimestamp",new Pn(w)}static delete(){const w=(0,Ye.AK)();return w._methodName="FieldValue.delete",new Pn(w)}static arrayUnion(...w){const L=(0,Ye.vr)(...w);return L._methodName="FieldValue.arrayUnion",new Pn(L)}static arrayRemove(...w){const L=(0,Ye.Ab)(...w);return L._methodName="FieldValue.arrayRemove",new Pn(L)}static increment(w){const L=(0,Ye.nP)(w);return L._methodName="FieldValue.increment",new Pn(L)}isEqual(w){return this._delegate.isEqual(w._delegate)}}const mr={Firestore:xt,GeoPoint:Ye.F8,Timestamp:Ye.EK,Blob:kt,Transaction:tn,WriteBatch:dn,DocumentReference:At,DocumentSnapshot:vt,Query:an,QueryDocumentSnapshot:sn,QuerySnapshot:vr,CollectionReference:Kn,FieldPath:sr,FieldValue:Pn,setLogLevel:function Kt(M){(0,Ye.Ub)(M)},CACHE_SIZE_UNLIMITED:Ye.IX};!function Pr(M){(function dr(M,w){M.INTERNAL.registerComponent(new $e.wA("firestore-compat",L=>{const be=L.getProvider("app-compat").getImmediate(),We=L.getProvider("firestore").getImmediate();return w(be,We)},"PUBLIC").setServiceProps(Object.assign({},mr)))})(M,(w,L)=>new xt(w,L,new Ct)),M.registerVersion("@firebase/firestore-compat","0.1.17")}(pt.Z);var bn=S(1205),En=S(7128),Er=S(127);function hr(M,w){return function $n(M,w=C.z){return new G.y(L=>{let be;return null!=w?w.schedule(()=>{be=M.onSnapshot({includeMetadataChanges:!0},L)}):be=M.onSnapshot({includeMetadataChanges:!0},L),()=>{null!=be&&be()}})}(M,w)}function nn(M,w){return hr(M,w).pipe((0,Te.U)(L=>({payload:L,type:"query"})))}function Rt(M,w){return nn(M,w).pipe((0,me.O)(void 0),ke(),(0,Te.U)(([L,be])=>{const We=be.payload.docChanges(),Ae=We.map(Ne=>({type:Ne.type,payload:Ne}));return L&&JSON.stringify(L.payload.metadata)!==JSON.stringify(be.payload.metadata)&&be.payload.docs.forEach((Ne,Ge)=>{const It=We.find(Re=>Re.doc.ref.isEqual(Ne.ref)),we=null==L?void 0:L.payload.docs.find(Re=>Re.ref.isEqual(Ne.ref));It&&JSON.stringify(It.doc.metadata)===JSON.stringify(Ne.metadata)||!It&&we&&JSON.stringify(we.metadata)===JSON.stringify(Ne.metadata)||Ae.push({type:"modified",payload:{oldIndex:Ge,newIndex:Ge,type:"modified",doc:Ne}})}),Ae}))}function Et(M,w,L){return Rt(M,L).pipe((0,Fe.R)((be,We)=>function Qe(M,w,L){return w.forEach(be=>{L.indexOf(be.type)>-1&&(M=function Ve(M,w){switch(w.type){case"added":if(!M[w.newIndex]||!M[w.newIndex].doc.ref.isEqual(w.doc.ref))return Mt(M,w.newIndex,0,w);break;case"modified":if(null==M[w.oldIndex]||M[w.oldIndex].doc.ref.isEqual(w.doc.ref)){if(w.oldIndex!==w.newIndex){const L=M.slice();return L.splice(w.oldIndex,1),L.splice(w.newIndex,0,w),L}return Mt(M,w.newIndex,1,w)}break;case"removed":if(M[w.oldIndex]&&M[w.oldIndex].doc.ref.isEqual(w.doc.ref))return Mt(M,w.oldIndex,1)}return M}(M,be))}),M}(be,We.map(Ae=>Ae.payload),w),[]),(0,Xe.x)(),(0,Te.U)(be=>be.map(We=>({type:We.type,payload:We}))))}function Mt(M,w,L,...be){const We=M.slice();return We.splice(w,L,...be),We}function bt(M){return(!M||0===M.length)&&(M=["added","removed","modified"]),M}class wn{constructor(w,L,be){this.ref=w,this.query=L,this.afs=be}stateChanges(w){let L=Rt(this.query,this.afs.schedulers.outsideAngular);return w&&w.length>0&&(L=L.pipe((0,Te.U)(be=>be.filter(We=>w.indexOf(We.type)>-1)))),L.pipe((0,me.O)(void 0),ke(),(0,tt.h)(([be,We])=>We.length>0||!be),(0,Te.U)(([be,We])=>We),Ue.iC)}auditTrail(w){return this.stateChanges(w).pipe((0,Fe.R)((L,be)=>[...L,...be],[]))}snapshotChanges(w){const L=bt(w);return Et(this.query,L,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}valueChanges(w={}){return nn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Te.U)(L=>L.payload.docs.map(be=>w.idField?Object.assign(Object.assign({},be.data()),{[w.idField]:be.id}):be.data())),Ue.iC)}get(w){return(0,z.D)(this.query.get(w)).pipe(Ue.iC)}add(w){return this.ref.add(w)}doc(w){return new cn(this.ref.doc(w),this.afs)}}class cn{constructor(w,L){this.ref=w,this.afs=L}set(w,L){return this.ref.set(w,L)}update(w){return this.ref.update(w)}delete(){return this.ref.delete()}collection(w,L){const be=this.ref.collection(w),{ref:We,query:Ae}=rt(be,L);return new wn(We,Ae,this.afs)}snapshotChanges(){return function Ir(M,w){return hr(M,w).pipe((0,me.O)(void 0),ke(),(0,Te.U)(([L,be])=>be.exists?(null==L?void 0:L.exists)?{payload:be,type:"modified"}:{payload:be,type:"added"}:{payload:be,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}valueChanges(w={}){return this.snapshotChanges().pipe((0,Te.U)(({payload:L})=>w.idField?Object.assign(Object.assign({},L.data()),{[w.idField]:L.id}):L.data()))}get(w){return(0,z.D)(this.ref.get(w)).pipe(Ue.iC)}}class Mn{constructor(w,L){this.query=w,this.afs=L}stateChanges(w){return w&&0!==w.length?Rt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Te.U)(L=>L.filter(be=>w.indexOf(be.type)>-1)),(0,tt.h)(L=>L.length>0),Ue.iC):Rt(this.query,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}auditTrail(w){return this.stateChanges(w).pipe((0,Fe.R)((L,be)=>[...L,...be],[]))}snapshotChanges(w){const L=bt(w);return Et(this.query,L,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}valueChanges(w={}){return nn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Te.U)(be=>be.payload.docs.map(We=>w.idField?Object.assign({[w.idField]:We.id},We.data()):We.data())),Ue.iC)}get(w){return(0,z.D)(this.query.get(w)).pipe(Ue.iC)}}const wr=new u.OlP("angularfire2.enableFirestorePersistence"),rr=new u.OlP("angularfire2.firestore.persistenceSettings"),tr=new u.OlP("angularfire2.firestore.settings"),at=new u.OlP("angularfire2.firestore.use-emulator");function rt(M,w=(L=>L)){return{query:w(M),ref:M}}let ye=(()=>{class M{constructor(L,be,We,Ae,Ne,Ge,It,we,Re,se,_e,J,Q,ne,Pe,gt,Ht){this.schedulers=It;const hn=(0,Ze.on)(L,Ge,be),xn=Re;se&&(0,bn.nw)(hn,Ge,_e,Q,ne,Pe,J,gt),[this.firestore,this.persistenceEnabled$]=(0,Ze.cc)(`${hn.name}.firestore`,"AngularFirestore",hn.name,()=>{const On=Ge.runOutsideAngular(()=>hn.firestore());if(Ae&&On.settings(Ae),xn&&On.useEmulator(...xn),We&&!(0,Dt.PM)(Ne)){const Ur=()=>{try{return(0,z.D)(On.enablePersistence(we||void 0).then(()=>!0,()=>!1))}catch($r){return"undefined"!=typeof console&&console.warn($r),(0,Ce.of)(!1)}};return[On,Ge.runOutsideAngular(Ur)]}return[On,(0,Ce.of)(!1)]},[Ae,xn,We])}collection(L,be){let We;We="string"==typeof L?this.firestore.collection(L):L;const{ref:Ae,query:Ne}=rt(We,be),Ge=this.schedulers.ngZone.run(()=>Ae);return new wn(Ge,Ne,this)}collectionGroup(L,be){const We=be||(Ne=>Ne),Ae=this.firestore.collectionGroup(L);return new Mn(We(Ae),this)}doc(L){let be;be="string"==typeof L?this.firestore.doc(L):L;const We=this.schedulers.ngZone.run(()=>be);return new cn(We,this)}createId(){return this.firestore.collection("_").doc().id}}return M.\u0275fac=function(L){return new(L||M)(u.LFG(Ze.Dh),u.LFG(Ze.xv,8),u.LFG(wr,8),u.LFG(tr,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ue.HU),u.LFG(rr,8),u.LFG(at,8),u.LFG(bn.zQ,8),u.LFG(bn.Qv,8),u.LFG(bn.L6,8),u.LFG(bn._Q,8),u.LFG(bn.rT,8),u.LFG(bn.lh,8),u.LFG(bn.f7,8),u.LFG(En.nm,8))},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac,providedIn:"any"}),M})(),Z=(()=>{class M{constructor(){Er.Z.registerVersion("angularfire",Ue.q4.full,"fst-compat")}static enablePersistence(L){return{ngModule:M,providers:[{provide:wr,useValue:!0},{provide:rr,useValue:L}]}}}return M.\u0275fac=function(L){return new(L||M)},M.\u0275mod=u.oAB({type:M}),M.\u0275inj=u.cJS({providers:[ye]}),M})()},2011:(fn,ht,S)=>{S.d(ht,{hO:()=>Xe,xv:()=>ke,Dh:()=>ge,GT:()=>Ue,cc:()=>tt,on:()=>me,pX:()=>Ce});var u=S(5e3),C=S(127),G=S(5813);fn=S.hmd(fn);const z=["ngOnDestroy"],Ce=(pt,Ye,Ut,$e={})=>new Proxy(pt,{get:(De,Se)=>Ut.runOutsideAngular(()=>{var Le;if(pt[Se])return(null===(Le=null==$e?void 0:$e.spy)||void 0===Le?void 0:Le.get)&&$e.spy.get(Se,pt[Se]),pt[Se];if(z.indexOf(Se)>-1)return()=>{};const le=Ye.toPromise().then(Tt=>{const kt=Tt&&Tt[Se];return"function"==typeof kt?kt.bind(Tt):kt&&kt.then?kt.then(_t=>Ut.run(()=>_t)):Ut.run(()=>kt)});return new Proxy(()=>{},{get:(Tt,kt)=>le[kt],apply:(Tt,kt,_t)=>le.then(mt=>{var Ct;const xt=mt&&mt(..._t);return(null===(Ct=null==$e?void 0:$e.spy)||void 0===Ct?void 0:Ct.apply)&&$e.spy.apply(Se,_t,xt),xt})})})}),Ue=(pt,Ye)=>{Ye.forEach(Ut=>{Object.getOwnPropertyNames(Ut.prototype||Ut).forEach($e=>{Object.defineProperty(pt.prototype,$e,Object.getOwnPropertyDescriptor(Ut.prototype||Ut,$e))})})};class ze{constructor(Ye){return Ye}}const ge=new u.OlP("angularfire2.app.options"),ke=new u.OlP("angularfire2.app.name");function me(pt,Ye,Ut){const De="object"==typeof Ut&&Ut||{};De.name=De.name||"string"==typeof Ut&&Ut||"[DEFAULT]";const Le=C.Z.apps.filter(le=>le&&le.name===De.name)[0]||Ye.runOutsideAngular(()=>C.Z.initializeApp(pt,De));try{JSON.stringify(pt)!==JSON.stringify(Le.options)&&Te("error",`${Le.name} Firebase App already initialized with different options${fn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(le){}return new ze(Le)}const Te=(pt,...Ye)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[pt](...Ye)},Fe={provide:ze,useFactory:me,deps:[ge,u.R0b,[new u.FiY,ke]]};let Xe=(()=>{class pt{constructor(Ut){C.Z.registerVersion("angularfire",G.q4.full,"core"),C.Z.registerVersion("angularfire",G.q4.full,"app-compat"),C.Z.registerVersion("angular",u.q4F.full,Ut.toString())}static initializeApp(Ut,$e){return{ngModule:pt,providers:[{provide:ge,useValue:Ut},{provide:ke,useValue:$e}]}}}return pt.\u0275fac=function(Ut){return new(Ut||pt)(u.LFG(u.Lbi))},pt.\u0275mod=u.oAB({type:pt}),pt.\u0275inj=u.cJS({providers:[Fe]}),pt})();function tt(pt,Ye,Ut,$e,De){const[,Se,Le]=globalThis.\u0275AngularfireInstanceCache.find(le=>le[0]===pt)||[];if(Se)return function Ze(pt,Ye){try{return pt.toString()===Ye.toString()}catch(Ut){return pt===Ye}}(De,Le)||(Je("error",`${Ye} was already initialized on the ${Ut} Firebase App with different settings.${Dt?" You may need to reload as Firebase is not HMR aware.":""}`),Je("warn",{is:De,was:Le})),Se;{const le=$e();return globalThis.\u0275AngularfireInstanceCache.push([pt,le,De]),le}}const Dt=!!fn.hot,Je=(pt,...Ye)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[pt](...Ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(fn,ht,S)=>{S.d(ht,{q4:()=>Ua,iC:()=>ta,HU:()=>Za,vb:()=>Qo,JM:()=>Eu,u3:()=>ll});var u=S(5e3),C=S(5867),G=S(5861),z=S(9681),Ce=S(2090),Ue=S(4859),ze=S(1877);const ge="@firebase/installations",Te="w:0.5.8",Fe="FIS_v2",pt=new Ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ye(V){return V instanceof Ce.ZR&&V.code.includes("request-failed")}function Ut({projectId:V}){return`https://firebaseinstallations.googleapis.com/v1/projects/${V}/installations`}function $e(V){return{token:V.token,requestStatus:2,expiresIn:_t(V.expiresIn),creationTime:Date.now()}}function De(V,q){return Se.apply(this,arguments)}function Se(){return(Se=(0,G.Z)(function*(V,q){const et=(yield q.json()).error;return pt.create("request-failed",{requestName:V,serverCode:et.code,serverMessage:et.message,serverStatus:et.status})})).apply(this,arguments)}function Le({apiKey:V}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V})}function le(V,{refreshToken:q}){const ce=Le(V);return ce.append("Authorization",function mt(V){return`${Fe} ${V}`}(q)),ce}function Tt(V){return kt.apply(this,arguments)}function kt(){return(kt=(0,G.Z)(function*(V){const q=yield V();return q.status>=500&&q.status<600?V():q})).apply(this,arguments)}function _t(V){return Number(V.replace("s","000"))}function Ct(V,q){return xt.apply(this,arguments)}function xt(){return(xt=(0,G.Z)(function*({appConfig:V,heartbeatServiceProvider:q},{fid:ce}){const et=Ut(V),Ot=Le(V),jt=q.getImmediate({optional:!0});if(jt){const qr=yield jt.getHeartbeatsHeader();qr&&Ot.append("x-firebase-client",qr)}const jn={method:"POST",headers:Ot,body:JSON.stringify({fid:ce,authVersion:Fe,appId:V.appId,sdkVersion:Te})},Gr=yield Tt(()=>fetch(et,jn));if(Gr.ok){const qr=yield Gr.json();return{fid:qr.fid||ce,registrationStatus:2,refreshToken:qr.refreshToken,authToken:$e(qr.authToken)}}throw yield De("Create Installation",Gr)})).apply(this,arguments)}function ut(V){return new Promise(q=>{setTimeout(q,V)})}const tn=/^[cdef][\w-]{21}$/;function rn(){try{const V=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(V),V[0]=112+V[0]%16;const ce=function At(V){return function Kt(V){return btoa(String.fromCharCode(...V)).replace(/\+/g,"-").replace(/\//g,"_")}(V).substr(0,22)}(V);return tn.test(ce)?ce:""}catch(V){return""}}function Bt(V){return`${V.appName}!${V.appId}`}const vn=new Map;function He(V,q){const ce=Bt(V);an(ce,q),function Gn(V,q){const ce=function Kn(){return!vr&&"BroadcastChannel"in self&&(vr=new BroadcastChannel("[Firebase] FID Change"),vr.onmessage=V=>{an(V.data.key,V.data.fid)}),vr}();ce&&ce.postMessage({key:V,fid:q}),function cr(){0===vn.size&&vr&&(vr.close(),vr=null)}()}(ce,q)}function an(V,q){const ce=vn.get(V);if(ce)for(const et of ce)et(q)}let vr=null;const mr="firebase-installations-store";let dr=null;function Pr(){return dr||(dr=(0,Ce.X3)("firebase-installations-database",1,(V,q)=>{0===q&&V.createObjectStore(mr)})),dr}function bn(V,q){return En.apply(this,arguments)}function En(){return(En=(0,G.Z)(function*(V,q){const ce=Bt(V),Ot=(yield Pr()).transaction(mr,"readwrite"),jt=Ot.objectStore(mr),Rn=yield jt.get(ce);return yield jt.put(q,ce),yield Ot.complete,(!Rn||Rn.fid!==q.fid)&&He(V,q.fid),q})).apply(this,arguments)}function Er(V){return $n.apply(this,arguments)}function $n(){return($n=(0,G.Z)(function*(V){const q=Bt(V),et=(yield Pr()).transaction(mr,"readwrite");yield et.objectStore(mr).delete(q),yield et.complete})).apply(this,arguments)}function hr(V,q){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,G.Z)(function*(V,q){const ce=Bt(V),Ot=(yield Pr()).transaction(mr,"readwrite"),jt=Ot.objectStore(mr),Rn=yield jt.get(ce),jn=q(Rn);return void 0===jn?yield jt.delete(ce):yield jt.put(jn,ce),yield Ot.complete,jn&&(!Rn||Rn.fid!==jn.fid)&&He(V,jn.fid),jn})).apply(this,arguments)}function nn(V){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,G.Z)(function*(V){let q;const ce=yield hr(V.appConfig,et=>{const Ot=Et(et),jt=Qe(V,Ot);return q=jt.registrationPromise,jt.installationEntry});return""===ce.fid?{installationEntry:yield q}:{installationEntry:ce,registrationPromise:q}})).apply(this,arguments)}function Et(V){return Mn(V||{fid:rn(),registrationStatus:0})}function Qe(V,q){if(0===q.registrationStatus){if(!navigator.onLine)return{installationEntry:q,registrationPromise:Promise.reject(pt.create("app-offline"))};const ce={fid:q.fid,registrationStatus:1,registrationTime:Date.now()},et=function Mt(V,q){return Ve.apply(this,arguments)}(V,ce);return{installationEntry:ce,registrationPromise:et}}return 1===q.registrationStatus?{installationEntry:q,registrationPromise:bt(V)}:{installationEntry:q}}function Ve(){return(Ve=(0,G.Z)(function*(V,q){try{const ce=yield Ct(V,q);return bn(V.appConfig,ce)}catch(ce){throw Ye(ce)&&409===ce.customData.serverCode?yield Er(V.appConfig):yield bn(V.appConfig,{fid:q.fid,registrationStatus:0}),ce}})).apply(this,arguments)}function bt(V){return wn.apply(this,arguments)}function wn(){return(wn=(0,G.Z)(function*(V){let q=yield cn(V.appConfig);for(;1===q.registrationStatus;)yield ut(100),q=yield cn(V.appConfig);if(0===q.registrationStatus){const{installationEntry:ce,registrationPromise:et}=yield nn(V);return et||ce}return q})).apply(this,arguments)}function cn(V){return hr(V,q=>{if(!q)throw pt.create("installation-not-found");return Mn(q)})}function Mn(V){return function wr(V){return 1===V.registrationStatus&&V.registrationTime+1e4<Date.now()}(V)?{fid:V.fid,registrationStatus:0}:V}function rr(V,q){return tr.apply(this,arguments)}function tr(){return(tr=(0,G.Z)(function*({appConfig:V,heartbeatServiceProvider:q},ce){const et=at(V,ce),Ot=le(V,ce),jt=q.getImmediate({optional:!0});if(jt){const qr=yield jt.getHeartbeatsHeader();qr&&Ot.append("x-firebase-client",qr)}const jn={method:"POST",headers:Ot,body:JSON.stringify({installation:{sdkVersion:Te,appId:V.appId}})},Gr=yield Tt(()=>fetch(et,jn));if(Gr.ok)return $e(yield Gr.json());throw yield De("Generate Auth Token",Gr)})).apply(this,arguments)}function at(V,{fid:q}){return`${Ut(V)}/${q}/authTokens:generate`}function rt(V){return ye.apply(this,arguments)}function ye(){return(ye=(0,G.Z)(function*(V,q=!1){let ce;const et=yield hr(V.appConfig,jt=>{if(!We(jt))throw pt.create("not-registered");const Rn=jt.authToken;if(!q&&Ae(Rn))return jt;if(1===Rn.requestStatus)return ce=Z(V,q),jt;{if(!navigator.onLine)throw pt.create("app-offline");const jn=Ge(jt);return ce=L(V,jn),jn}});return ce?yield ce:et.authToken})).apply(this,arguments)}function Z(V,q){return M.apply(this,arguments)}function M(){return(M=(0,G.Z)(function*(V,q){let ce=yield w(V.appConfig);for(;1===ce.authToken.requestStatus;)yield ut(100),ce=yield w(V.appConfig);const et=ce.authToken;return 0===et.requestStatus?rt(V,q):et})).apply(this,arguments)}function w(V){return hr(V,q=>{if(!We(q))throw pt.create("not-registered");return function It(V){return 1===V.requestStatus&&V.requestTime+1e4<Date.now()}(q.authToken)?Object.assign(Object.assign({},q),{authToken:{requestStatus:0}}):q})}function L(V,q){return be.apply(this,arguments)}function be(){return(be=(0,G.Z)(function*(V,q){try{const ce=yield rr(V,q),et=Object.assign(Object.assign({},q),{authToken:ce});return yield bn(V.appConfig,et),ce}catch(ce){if(!Ye(ce)||401!==ce.customData.serverCode&&404!==ce.customData.serverCode){const et=Object.assign(Object.assign({},q),{authToken:{requestStatus:0}});yield bn(V.appConfig,et)}else yield Er(V.appConfig);throw ce}})).apply(this,arguments)}function We(V){return void 0!==V&&2===V.registrationStatus}function Ae(V){return 2===V.requestStatus&&!function Ne(V){const q=Date.now();return q<V.creationTime||V.creationTime+V.expiresIn<q+36e5}(V)}function Ge(V){const q={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},V),{authToken:q})}function Re(){return(Re=(0,G.Z)(function*(V){const q=V,{installationEntry:ce,registrationPromise:et}=yield nn(q);return et?et.catch(console.error):rt(q).catch(console.error),ce.fid})).apply(this,arguments)}function _e(){return(_e=(0,G.Z)(function*(V,q=!1){const ce=V;return yield J(ce),(yield rt(ce,q)).token})).apply(this,arguments)}function J(V){return Q.apply(this,arguments)}function Q(){return(Q=(0,G.Z)(function*(V){const{registrationPromise:q}=yield nn(V);q&&(yield q)})).apply(this,arguments)}function $r(V){return pt.create("missing-app-config-values",{valueName:V})}const bi="installations",Me=V=>{const q=V.getProvider("app").getImmediate(),ce=function Ur(V){if(!V||!V.options)throw $r("App Configuration");if(!V.name)throw $r("App Name");const q=["projectId","apiKey","appId"];for(const ce of q)if(!V.options[ce])throw $r(ce);return{appName:V.name,projectId:V.options.projectId,apiKey:V.options.apiKey,appId:V.options.appId}}(q);return{app:q,appConfig:ce,heartbeatServiceProvider:(0,z._getProvider)(q,"heartbeat"),_delete:()=>Promise.resolve()}},ie=V=>{const q=V.getProvider("app").getImmediate(),ce=(0,z._getProvider)(q,bi).getImmediate();return{getId:()=>function we(V){return Re.apply(this,arguments)}(ce),getToken:Ot=>function se(V){return _e.apply(this,arguments)}(ce,Ot)}};(function Be(){(0,z._registerComponent)(new Ue.wA(bi,Me,"PUBLIC")),(0,z._registerComponent)(new Ue.wA("installations-internal",ie,"PRIVATE"))})(),(0,z.registerVersion)(ge,"0.5.8"),(0,z.registerVersion)(ge,"0.5.8","esm2017");const St="@firebase/remote-config",lr=new Ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ci{constructor(q,ce,et,Ot){this.client=q,this.storage=ce,this.storageCache=et,this.logger=Ot}isCachedDataFresh(q,ce){if(!ce)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const et=Date.now()-ce,Ot=et<=q;return this.logger.debug(`Config fetch cache check. Cache age millis: ${et}. Cache max age millis (minimumFetchIntervalMillis setting): ${q}. Is cache hit: ${Ot}.`),Ot}fetch(q){var ce=this;return(0,G.Z)(function*(){const[et,Ot]=yield Promise.all([ce.storage.getLastSuccessfulFetchTimestampMillis(),ce.storage.getLastSuccessfulFetchResponse()]);if(Ot&&ce.isCachedDataFresh(q.cacheMaxAgeMillis,et))return Ot;q.eTag=Ot&&Ot.eTag;const jt=yield ce.client.fetch(q),Rn=[ce.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===jt.status&&Rn.push(ce.storage.setLastSuccessfulFetchResponse(jt)),yield Promise.all(Rn),jt})()}}function ns(V=navigator){return V.languages&&V.languages[0]||V.language}class ys{constructor(q,ce,et,Ot,jt,Rn){this.firebaseInstallations=q,this.sdkVersion=ce,this.namespace=et,this.projectId=Ot,this.apiKey=jt,this.appId=Rn}fetch(q){var ce=this;return(0,G.Z)(function*(){const[et,Ot]=yield Promise.all([ce.firebaseInstallations.getId(),ce.firebaseInstallations.getToken()]),Rn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ce.projectId}/namespaces/${ce.namespace}:fetch?key=${ce.apiKey}`,jn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":q.eTag||"*"},Gr={sdk_version:ce.sdkVersion,app_instance_id:et,app_instance_id_token:Ot,app_id:ce.appId,language_code:ns()},qr={method:"POST",headers:jn,body:JSON.stringify(Gr)},pi=fetch(Rn,qr),Sr=new Promise((Wo,Ys)=>{q.signal.addEventListener(()=>{const Da=new Error("The operation was aborted.");Da.name="AbortError",Ys(Da)})});let Is;try{yield Promise.race([pi,Sr]),Is=yield pi}catch(Wo){let Ys="fetch-client-network";throw"AbortError"===Wo.name&&(Ys="fetch-timeout"),lr.create(Ys,{originalErrorMessage:Wo.message})}let xs=Is.status;const ra=Is.headers.get("ETag")||void 0;let Do,Rs;if(200===Is.status){let Wo;try{Wo=yield Is.json()}catch(Ys){throw lr.create("fetch-client-parse",{originalErrorMessage:Ys.message})}Do=Wo.entries,Rs=Wo.state}if("INSTANCE_STATE_UNSPECIFIED"===Rs?xs=500:"NO_CHANGE"===Rs?xs=304:("NO_TEMPLATE"===Rs||"EMPTY_CONFIG"===Rs)&&(Do={}),304!==xs&&200!==xs)throw lr.create("fetch-status",{httpStatus:xs});return{status:xs,eTag:ra,config:Do}})()}}class Mi{constructor(q,ce){this.client=q,this.storage=ce}fetch(q){var ce=this;return(0,G.Z)(function*(){const et=(yield ce.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ce.attemptFetch(q,et)})()}attemptFetch(q,{throttleEndTimeMillis:ce,backoffCount:et}){var Ot=this;return(0,G.Z)(function*(){yield function Zi(V,q){return new Promise((ce,et)=>{const Ot=Math.max(q-Date.now(),0),jt=setTimeout(ce,Ot);V.addEventListener(()=>{clearTimeout(jt),et(lr.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}(q.signal,ce);try{const jt=yield Ot.client.fetch(q);return yield Ot.storage.deleteThrottleMetadata(),jt}catch(jt){if(!function Mo(V){if(!(V instanceof Ce.ZR&&V.customData))return!1;const q=Number(V.customData.httpStatus);return 429===q||500===q||503===q||504===q}(jt))throw jt;const Rn={throttleEndTimeMillis:Date.now()+(0,Ce.$s)(et),backoffCount:et+1};return yield Ot.storage.setThrottleMetadata(Rn),Ot.attemptFetch(q,Rn)}})()}}class so{constructor(q,ce,et,Ot,jt){this.app=q,this._client=ce,this._storageCache=et,this._storage=Ot,this._logger=jt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ks(V,q){const ce=V.target.error||void 0;return lr.create(q,{originalErrorMessage:ce&&ce.message})}const Ps="app_namespace_store";class Ls{constructor(q,ce,et,Ot=function qo(){return new Promise((V,q)=>{try{const ce=indexedDB.open("firebase_remote_config",1);ce.onerror=et=>{q(ks(et,"storage-open"))},ce.onsuccess=et=>{V(et.target.result)},ce.onupgradeneeded=et=>{0===et.oldVersion&&et.target.result.createObjectStore(Ps,{keyPath:"compositeKey"})}}catch(ce){q(lr.create("storage-open",{originalErrorMessage:ce}))}})}()){this.appId=q,this.appName=ce,this.namespace=et,this.openDbPromise=Ot}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(q){return this.set("last_fetch_status",q)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(q){return this.set("last_successful_fetch_timestamp_millis",q)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(q){return this.set("last_successful_fetch_response",q)}getActiveConfig(){return this.get("active_config")}setActiveConfig(q){return this.set("active_config",q)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(q){return this.set("active_config_etag",q)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(q){return this.set("throttle_metadata",q)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(q){var ce=this;return(0,G.Z)(function*(){const et=yield ce.openDbPromise;return new Promise((Ot,jt)=>{const jn=et.transaction([Ps],"readonly").objectStore(Ps),Gr=ce.createCompositeKey(q);try{const qr=jn.get(Gr);qr.onerror=pi=>{jt(ks(pi,"storage-get"))},qr.onsuccess=pi=>{const Sr=pi.target.result;Ot(Sr?Sr.value:void 0)}}catch(qr){jt(lr.create("storage-get",{originalErrorMessage:qr&&qr.message}))}})})()}set(q,ce){var et=this;return(0,G.Z)(function*(){const Ot=yield et.openDbPromise;return new Promise((jt,Rn)=>{const Gr=Ot.transaction([Ps],"readwrite").objectStore(Ps),qr=et.createCompositeKey(q);try{const pi=Gr.put({compositeKey:qr,value:ce});pi.onerror=Sr=>{Rn(ks(Sr,"storage-set"))},pi.onsuccess=()=>{jt()}}catch(pi){Rn(lr.create("storage-set",{originalErrorMessage:pi&&pi.message}))}})})()}delete(q){var ce=this;return(0,G.Z)(function*(){const et=yield ce.openDbPromise;return new Promise((Ot,jt)=>{const jn=et.transaction([Ps],"readwrite").objectStore(Ps),Gr=ce.createCompositeKey(q);try{const qr=jn.delete(Gr);qr.onerror=pi=>{jt(ks(pi,"storage-delete"))},qr.onsuccess=()=>{Ot()}}catch(qr){jt(lr.create("storage-delete",{originalErrorMessage:qr&&qr.message}))}})})()}createCompositeKey(q){return[this.appId,this.appName,this.namespace,q].join()}}class Ji{constructor(q){this.storage=q}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var q=this;return(0,G.Z)(function*(){const ce=q.storage.getLastFetchStatus(),et=q.storage.getLastSuccessfulFetchTimestampMillis(),Ot=q.storage.getActiveConfig(),jt=yield ce;jt&&(q.lastFetchStatus=jt);const Rn=yield et;Rn&&(q.lastSuccessfulFetchTimestampMillis=Rn);const jn=yield Ot;jn&&(q.activeConfig=jn)})()}setLastFetchStatus(q){return this.lastFetchStatus=q,this.storage.setLastFetchStatus(q)}setLastSuccessfulFetchTimestampMillis(q){return this.lastSuccessfulFetchTimestampMillis=q,this.storage.setLastSuccessfulFetchTimestampMillis(q)}setActiveConfig(q){return this.activeConfig=q,this.storage.setActiveConfig(q)}}function is(){return ji.apply(this,arguments)}function ji(){return(ji=(0,G.Z)(function*(){if(!(0,Ce.hl)())return!1;try{return yield(0,Ce.eu)()}catch(V){return!1}})).apply(this,arguments)}!function Or(){(0,z._registerComponent)(new Ue.wA("remote-config",function V(q,{instanceIdentifier:ce}){const et=q.getProvider("app").getImmediate(),Ot=q.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw lr.create("registration-window");if(!(0,Ce.hl)())throw lr.create("indexed-db-unavailable");const{projectId:jt,apiKey:Rn,appId:jn}=et.options;if(!jt)throw lr.create("registration-project-id");if(!Rn)throw lr.create("registration-api-key");if(!jn)throw lr.create("registration-app-id");const Gr=new Ls(jn,et.name,ce=ce||"firebase"),qr=new Ji(Gr),pi=new ze.Yd(St);pi.logLevel=ze.in.ERROR;const Sr=new ys(Ot,z.SDK_VERSION,ce,jt,Rn,jn),Is=new Mi(Sr,Gr),xs=new Ci(Is,Gr,qr,pi),ra=new so(et,xs,qr,Gr,pi);return function ct(V){const q=(0,Ce.m9)(V);q._initializePromise||(q._initializePromise=q._storageCache.loadFromStorage().then(()=>{q._isInitializationComplete=!0}))}(ra),ra},"PUBLIC").setMultipleInstances(!0)),(0,z.registerVersion)(St,"0.3.7"),(0,z.registerVersion)(St,"0.3.7","esm2017")}();const xi="/firebase-messaging-sw.js",Ri="/firebase-cloud-messaging-push-scope",ss="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cs="google.c.a.c_id",Li="google.c.a.c_l",As="google.c.a.ts",Vs="google.c.a.e";var $i=(()=>{return(V=$i||($i={})).PUSH_RECEIVED="push-received",V.NOTIFICATION_CLICKED="notification-clicked",$i;var V})();function Zr(V){const q=new Uint8Array(V);return btoa(String.fromCharCode(...q)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ds(V){const ce=(V+"=".repeat((4-V.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),et=atob(ce),Ot=new Uint8Array(et.length);for(let jt=0;jt<et.length;++jt)Ot[jt]=et.charCodeAt(jt);return Ot}const Bs="fcm_token_details_db",fs="fcm_token_object_Store";function Us(V){return ci.apply(this,arguments)}function ci(){return ci=(0,G.Z)(function*(V){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(jt=>jt.name).includes(Bs))return null;let q=null;return(yield(0,Ce.X3)(Bs,5,function(){var et=(0,G.Z)(function*(Ot,jt,Rn,jn){var Gr;if(jt<2||!Ot.objectStoreNames.contains(fs))return;const qr=jn.objectStore(fs),pi=yield qr.index("fcmSenderId").get(V);if(yield qr.clear(),pi)if(2===jt){const Sr=pi;if(!Sr.auth||!Sr.p256dh||!Sr.endpoint)return;q={token:Sr.fcmToken,createTime:null!==(Gr=Sr.createTime)&&void 0!==Gr?Gr:Date.now(),subscriptionOptions:{auth:Sr.auth,p256dh:Sr.p256dh,endpoint:Sr.endpoint,swScope:Sr.swScope,vapidKey:"string"==typeof Sr.vapidKey?Sr.vapidKey:Zr(Sr.vapidKey)}}}else if(3===jt){const Sr=pi;q={token:Sr.fcmToken,createTime:Sr.createTime,subscriptionOptions:{auth:Zr(Sr.auth),p256dh:Zr(Sr.p256dh),endpoint:Sr.endpoint,swScope:Sr.swScope,vapidKey:Zr(Sr.vapidKey)}}}else if(4===jt){const Sr=pi;q={token:Sr.fcmToken,createTime:Sr.createTime,subscriptionOptions:{auth:Zr(Sr.auth),p256dh:Zr(Sr.p256dh),endpoint:Sr.endpoint,swScope:Sr.swScope,vapidKey:Zr(Sr.vapidKey)}}}});return function(Ot,jt,Rn,jn){return et.apply(this,arguments)}}())).close(),yield(0,Ce.Lj)(Bs),yield(0,Ce.Lj)("fcm_vapid_details_db"),yield(0,Ce.Lj)("undefined"),Qt(q)?q:null}),ci.apply(this,arguments)}function Qt(V){if(!V||!V.subscriptionOptions)return!1;const{subscriptionOptions:q}=V;return"number"==typeof V.createTime&&V.createTime>0&&"string"==typeof V.token&&V.token.length>0&&"string"==typeof q.auth&&q.auth.length>0&&"string"==typeof q.p256dh&&q.p256dh.length>0&&"string"==typeof q.endpoint&&q.endpoint.length>0&&"string"==typeof q.swScope&&q.swScope.length>0&&"string"==typeof q.vapidKey&&q.vapidKey.length>0}const Ti="firebase-messaging-store";let bs=null;function os(){return bs||(bs=(0,Ce.X3)("firebase-messaging-database",1,(V,q)=>{0===q&&V.createObjectStore(Ti)})),bs}function Lr(V){return j.apply(this,arguments)}function j(){return(j=(0,G.Z)(function*(V){const q=Ft(V),et=yield(yield os()).transaction(Ti).objectStore(Ti).get(q);if(et)return et;{const Ot=yield Us(V.appConfig.senderId);if(Ot)return yield oe(V,Ot),Ot}})).apply(this,arguments)}function oe(V,q){return $.apply(this,arguments)}function $(){return($=(0,G.Z)(function*(V,q){const ce=Ft(V),Ot=(yield os()).transaction(Ti,"readwrite");return yield Ot.objectStore(Ti).put(q,ce),yield Ot.complete,q})).apply(this,arguments)}function Ee(V){return dt.apply(this,arguments)}function dt(){return(dt=(0,G.Z)(function*(V){const q=Ft(V),et=(yield os()).transaction(Ti,"readwrite");yield et.objectStore(Ti).delete(q),yield et.complete})).apply(this,arguments)}function Ft({appConfig:V}){return V.appId}const kn=new Ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fi(V,q){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,G.Z)(function*(V,q){const ce=yield K(V),et=k(q),Ot={method:"POST",headers:ce,body:JSON.stringify(et)};let jt;try{jt=yield(yield fetch(wi(V.appConfig),Ot)).json()}catch(Rn){throw kn.create("token-subscribe-failed",{errorInfo:Rn})}if(jt.error)throw kn.create("token-subscribe-failed",{errorInfo:jt.error.message});if(!jt.token)throw kn.create("token-subscribe-no-token");return jt.token})).apply(this,arguments)}function Hr(V,q){return jr.apply(this,arguments)}function jr(){return(jr=(0,G.Z)(function*(V,q){const ce=yield K(V),et=k(q.subscriptionOptions),Ot={method:"PATCH",headers:ce,body:JSON.stringify(et)};let jt;try{jt=yield(yield fetch(`${wi(V.appConfig)}/${q.token}`,Ot)).json()}catch(Rn){throw kn.create("token-update-failed",{errorInfo:Rn})}if(jt.error)throw kn.create("token-update-failed",{errorInfo:jt.error.message});if(!jt.token)throw kn.create("token-update-no-token");return jt.token})).apply(this,arguments)}function Oi(V,q){return ni.apply(this,arguments)}function ni(){return(ni=(0,G.Z)(function*(V,q){const et={method:"DELETE",headers:yield K(V)};try{const jt=yield(yield fetch(`${wi(V.appConfig)}/${q}`,et)).json();if(jt.error)throw kn.create("token-unsubscribe-failed",{errorInfo:jt.error.message})}catch(Ot){throw kn.create("token-unsubscribe-failed",{errorInfo:Ot})}})).apply(this,arguments)}function wi({projectId:V}){return`https://fcmregistrations.googleapis.com/v1/projects/${V}/registrations`}function K(V){return U.apply(this,arguments)}function U(){return(U=(0,G.Z)(function*({appConfig:V,installations:q}){const ce=yield q.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V.apiKey,"x-goog-firebase-installations-auth":`FIS ${ce}`})})).apply(this,arguments)}function k({p256dh:V,auth:q,endpoint:ce,vapidKey:et}){const Ot={web:{endpoint:ce,auth:q,p256dh:V}};return et!==ss&&(Ot.web.applicationPubKey=et),Ot}const fe=6048e5;function Wt(V){return zn.apply(this,arguments)}function zn(){return(zn=(0,G.Z)(function*(V){const q=yield Fa(V.swRegistration,V.vapidKey),ce={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:q.endpoint,auth:Zr(q.getKey("auth")),p256dh:Zr(q.getKey("p256dh"))},et=yield Lr(V.firebaseDependencies);if(et){if(Ka(et.subscriptionOptions,ce))return Date.now()>=et.createTime+fe?oo(V,{token:et.token,createTime:Date.now(),subscriptionOptions:ce}):et.token;try{yield Oi(V.firebaseDependencies,et.token)}catch(Ot){console.warn(Ot)}return pn(V.firebaseDependencies,ce)}return pn(V.firebaseDependencies,ce)})).apply(this,arguments)}function ui(V){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,G.Z)(function*(V){const q=yield Lr(V.firebaseDependencies);q&&(yield Oi(V.firebaseDependencies,q.token),yield Ee(V.firebaseDependencies));const ce=yield V.swRegistration.pushManager.getSubscription();return!ce||ce.unsubscribe()})).apply(this,arguments)}function oo(V,q){return es.apply(this,arguments)}function es(){return(es=(0,G.Z)(function*(V,q){try{const ce=yield Hr(V.firebaseDependencies,q),et=Object.assign(Object.assign({},q),{token:ce,createTime:Date.now()});return yield oe(V.firebaseDependencies,et),ce}catch(ce){throw yield ui(V),ce}})).apply(this,arguments)}function pn(V,q){return gr.apply(this,arguments)}function gr(){return(gr=(0,G.Z)(function*(V,q){const et={token:yield fi(V,q),createTime:Date.now(),subscriptionOptions:q};return yield oe(V,et),et.token})).apply(this,arguments)}function Fa(V,q){return ki.apply(this,arguments)}function ki(){return(ki=(0,G.Z)(function*(V,q){return(yield V.pushManager.getSubscription())||V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ds(q)})})).apply(this,arguments)}function Ka(V,q){return q.vapidKey===V.vapidKey&&q.endpoint===V.endpoint&&q.auth===V.auth&&q.p256dh===V.p256dh}function ao(V){const q={from:V.from,collapseKey:V.collapse_key,messageId:V.fcmMessageId};return function lo(V,q){if(!q.notification)return;V.notification={};const ce=q.notification.title;ce&&(V.notification.title=ce);const et=q.notification.body;et&&(V.notification.body=et);const Ot=q.notification.image;Ot&&(V.notification.image=Ot)}(q,V),function Bo(V,q){!q.data||(V.data=q.data)}(q,V),function Uo(V,q){if(!q.fcmOptions)return;V.fcmOptions={};const ce=q.fcmOptions.link;ce&&(V.fcmOptions.link=ce);const et=q.fcmOptions.analytics_label;et&&(V.fcmOptions.analyticsLabel=et)}(q,V),q}function La(V){return"object"==typeof V&&!!V&&cs in V}function uo(V,q){const ce=[];for(let et=0;et<V.length;et++)ce.push(V.charAt(et)),et<q.length&&ce.push(q.charAt(et));return ce.join("")}function ps(V){return kn.create("missing-app-config-values",{valueName:V})}uo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),uo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wi{constructor(q,ce,et){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ot=function Ro(V){if(!V||!V.options)throw ps("App Configuration Object");if(!V.name)throw ps("App Name");const q=["projectId","apiKey","appId","messagingSenderId"],{options:ce}=V;for(const et of q)if(!ce[et])throw ps(et);return{appName:V.name,projectId:ce.projectId,apiKey:ce.apiKey,appId:ce.appId,senderId:ce.messagingSenderId}}(q);this.firebaseDependencies={app:q,appConfig:Ot,installations:ce,analyticsProvider:et}}_delete(){return Promise.resolve()}}function Ks(V){return co.apply(this,arguments)}function co(){return(co=(0,G.Z)(function*(V){try{V.swRegistration=yield navigator.serviceWorker.register(xi,{scope:Ri}),V.swRegistration.update().catch(()=>{})}catch(q){throw kn.create("failed-service-worker-registration",{browserErrorMessage:q.message})}})).apply(this,arguments)}function re(V,q){return v.apply(this,arguments)}function v(){return(v=(0,G.Z)(function*(V,q){if(!q&&!V.swRegistration&&(yield Ks(V)),q||!V.swRegistration){if(!(q instanceof ServiceWorkerRegistration))throw kn.create("invalid-sw-registration");V.swRegistration=q}})).apply(this,arguments)}function D(V,q){return B.apply(this,arguments)}function B(){return(B=(0,G.Z)(function*(V,q){q?V.vapidKey=q:V.vapidKey||(V.vapidKey=ss)})).apply(this,arguments)}function Oe(){return(Oe=(0,G.Z)(function*(V,q){if(!navigator)throw kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kn.create("permission-blocked");return yield D(V,null==q?void 0:q.vapidKey),yield re(V,null==q?void 0:q.serviceWorkerRegistration),Wt(V)})).apply(this,arguments)}function it(V,q,ce){return ot.apply(this,arguments)}function ot(){return(ot=(0,G.Z)(function*(V,q,ce){const et=Nt(q);(yield V.firebaseDependencies.analyticsProvider.get()).logEvent(et,{message_id:ce[cs],message_name:ce[Li],message_time:ce[As],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Nt(V){switch(V){case $i.NOTIFICATION_CLICKED:return"notification_open";case $i.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Hn(){return(Hn=(0,G.Z)(function*(V,q){const ce=q.data;if(!ce.isFirebaseMessaging)return;V.onMessageHandler&&ce.messageType===$i.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(ao(ce)):V.onMessageHandler.next(ao(ce)));const et=ce.data;La(et)&&"1"===et[Vs]&&(yield it(V,ce.messageType,et))})).apply(this,arguments)}const Qn="@firebase/messaging",kr=V=>{const q=new Wi(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ce=>function Jt(V,q){return Hn.apply(this,arguments)}(q,ce)),q},ur=V=>{const q=V.getProvider("messaging").getImmediate();return{getToken:et=>function ue(V,q){return Oe.apply(this,arguments)}(q,et)}};function gi(){return Di.apply(this,arguments)}function Di(){return(Di=(0,G.Z)(function*(){try{yield(0,Ce.eu)()}catch(V){return!1}return"undefined"!=typeof window&&(0,Ce.hl)()&&(0,Ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Vr(){(0,z._registerComponent)(new Ue.wA("messaging",kr,"PUBLIC")),(0,z._registerComponent)(new Ue.wA("messaging-internal",ur,"PRIVATE")),(0,z.registerVersion)(Qn,"0.9.12"),(0,z.registerVersion)(Qn,"0.9.12","esm2017")}();const Hs="analytics",ri="firebase_id",vo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ho="https://www.googletagmanager.com/gtag/js",Nn=new ze.Yd("@firebase/analytics");function or(V){return Promise.all(V.map(q=>q.catch(ce=>ce)))}function Ar(V,q){const ce=document.createElement("script");ce.src=`${Ho}?l=${V}&id=${q}`,ce.async=!0,document.head.appendChild(ce)}function Ni(V,q,ce,et,Ot,jt){return as.apply(this,arguments)}function as(){return(as=(0,G.Z)(function*(V,q,ce,et,Ot,jt){const Rn=et[Ot];try{if(Rn)yield q[Rn];else{const Gr=(yield or(ce)).find(qr=>qr.measurementId===Ot);Gr&&(yield q[Gr.appId])}}catch(jn){Nn.error(jn)}V("config",Ot,jt)})).apply(this,arguments)}function ii(V,q,ce,et,Ot){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,G.Z)(function*(V,q,ce,et,Ot){try{let jt=[];if(Ot&&Ot.send_to){let Rn=Ot.send_to;Array.isArray(Rn)||(Rn=[Rn]);const jn=yield or(ce);for(const Gr of Rn){const qr=jn.find(Sr=>Sr.measurementId===Gr),pi=qr&&q[qr.appId];if(!pi){jt=[];break}jt.push(pi)}}0===jt.length&&(jt=Object.values(q)),yield Promise.all(jt),V("event",et,Ot||{})}catch(jt){Nn.error(jt)}})).apply(this,arguments)}function Tl(){const V=window.document.getElementsByTagName("script");for(const q of Object.values(V))if(q.src&&q.src.includes(Ho))return q;return null}const ai=new Ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Cr=new class Xn{constructor(q={},ce=1e3){this.throttleMetadata=q,this.intervalMillis=ce}getThrottleMetadata(q){return this.throttleMetadata[q]}setThrottleMetadata(q,ce){this.throttleMetadata[q]=ce}deleteThrottleMetadata(q){delete this.throttleMetadata[q]}};function Sl(V){return new Headers({Accept:"application/json","x-goog-api-key":V})}function An(V){return zt.apply(this,arguments)}function zt(){return(zt=(0,G.Z)(function*(V){var q;const{appId:ce,apiKey:et}=V,Ot={method:"GET",headers:Sl(et)},jt=vo.replace("{app-id}",ce),Rn=yield fetch(jt,Ot);if(200!==Rn.status&&304!==Rn.status){let jn="";try{const Gr=yield Rn.json();(null===(q=Gr.error)||void 0===q?void 0:q.message)&&(jn=Gr.error.message)}catch(Gr){}throw ai.create("config-fetch-failed",{httpStatus:Rn.status,responseMessage:jn})}return Rn.json()})).apply(this,arguments)}function Dn(V){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,G.Z)(function*(V,q=Cr,ce){const{appId:et,apiKey:Ot,measurementId:jt}=V.options;if(!et)throw ai.create("no-app-id");if(!Ot){if(jt)return{measurementId:jt,appId:et};throw ai.create("no-api-key")}const Rn=q.getThrottleMetadata(et)||{backoffCount:0,throttleEndTimeMillis:Date.now()},jn=new I;return setTimeout((0,G.Z)(function*(){jn.abort()}),void 0!==ce?ce:6e4),aa({appId:et,apiKey:Ot,measurementId:jt},Rn,jn,q)})).apply(this,arguments)}function aa(V,q,ce){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,G.Z)(function*(V,{throttleEndTimeMillis:q,backoffCount:ce},et,Ot=Cr){const{appId:jt,measurementId:Rn}=V;try{yield N(et,q)}catch(jn){if(Rn)return Nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Rn} provided in the "measurementId" field in the local Firebase config. [${jn.message}]`),{appId:jt,measurementId:Rn};throw jn}try{const jn=yield An(V);return Ot.deleteThrottleMetadata(jt),jn}catch(jn){if(!x(jn)){if(Ot.deleteThrottleMetadata(jt),Rn)return Nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Rn} provided in the "measurementId" field in the local Firebase config. [${jn.message}]`),{appId:jt,measurementId:Rn};throw jn}const Gr=503===Number(jn.customData.httpStatus)?(0,Ce.$s)(ce,Ot.intervalMillis,30):(0,Ce.$s)(ce,Ot.intervalMillis),qr={throttleEndTimeMillis:Date.now()+Gr,backoffCount:ce+1};return Ot.setThrottleMetadata(jt,qr),Nn.debug(`Calling attemptFetch again in ${Gr} millis`),aa(V,qr,et,Ot)}})).apply(this,arguments)}function N(V,q){return new Promise((ce,et)=>{const Ot=Math.max(q-Date.now(),0),jt=setTimeout(ce,Ot);V.addEventListener(()=>{clearTimeout(jt),et(ai.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}function x(V){if(!(V instanceof Ce.ZR&&V.customData))return!1;const q=Number(V.customData.httpStatus);return 429===q||500===q||503===q||504===q}class I{constructor(){this.listeners=[]}addEventListener(q){this.listeners.push(q)}abort(){this.listeners.forEach(q=>q())}}function W(){return X.apply(this,arguments)}function X(){return(X=(0,G.Z)(function*(){if(!(0,Ce.hl)())return Nn.warn(ai.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ce.eu)()}catch(V){return Nn.warn(ai.create("indexeddb-unavailable",{errorInfo:V}).message),!1}return!0})).apply(this,arguments)}function Ke(){return(Ke=(0,G.Z)(function*(V,q,ce,et,Ot,jt,Rn){var jn;const Gr=Dn(V);Gr.then(xs=>{ce[xs.measurementId]=xs.appId,V.options.measurementId&&xs.measurementId!==V.options.measurementId&&Nn.warn(`The measurement ID in the local Firebase config (${V.options.measurementId}) does not match the measurement ID fetched from the server (${xs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xs=>Nn.error(xs)),q.push(Gr);const qr=W().then(xs=>{if(xs)return et.getId()}),[pi,Sr]=yield Promise.all([Gr,qr]);Tl()||Ar(jt,pi.measurementId),Ot("js",new Date);const Is=null!==(jn=null==Rn?void 0:Rn.config)&&void 0!==jn?jn:{};return Is.origin="firebase",Is.update=!0,null!=Sr&&(Is[ri]=Sr),Ot("config",pi.measurementId,Is),pi.measurementId})).apply(this,arguments)}class lt{constructor(q){this.app=q}_delete(){return delete Zt[this.app.options.appId],Promise.resolve()}}let Zt={},Zn=[];const Fn={};let xr,ar,ir="dataLayer",Eo=!1;function Zs(V,q,ce){!function jo(){const V=[];if((0,Ce.ru)()&&V.push("This is a browser extension environment."),(0,Ce.zI)()||V.push("Cookies are not available."),V.length>0){const q=V.map((et,Ot)=>`(${Ot+1}) ${et}`).join(" "),ce=ai.create("invalid-analytics-context",{errorInfo:q});Nn.warn(ce.message)}}();const et=V.options.appId;if(!et)throw ai.create("no-app-id");if(!V.options.apiKey){if(!V.options.measurementId)throw ai.create("no-api-key");Nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${V.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zt[et])throw ai.create("already-exists",{id:et});if(!Eo){!function Tr(V){let q=[];Array.isArray(window[V])?q=window[V]:window[V]=q}(ir);const{wrappedGtag:jt,gtagCore:Rn}=function Ea(V,q,ce,et,Ot){let jt=function(...Rn){window[et].push(arguments)};return window[Ot]&&"function"==typeof window[Ot]&&(jt=window[Ot]),window[Ot]=function _i(V,q,ce,et){function jt(){return(jt=(0,G.Z)(function*(Rn,jn,Gr){try{"event"===Rn?yield ii(V,q,ce,jn,Gr):"config"===Rn?yield Ni(V,q,ce,et,jn,Gr):V("set",jn)}catch(qr){Nn.error(qr)}})).apply(this,arguments)}return function Ot(Rn,jn,Gr){return jt.apply(this,arguments)}}(jt,V,q,ce),{gtagCore:jt,wrappedGtag:window[Ot]}}(Zt,Zn,Fn,ir,"gtag");ar=jt,xr=Rn,Eo=!0}return Zt[et]=function ve(V,q,ce,et,Ot,jt,Rn){return Ke.apply(this,arguments)}(V,Zn,Fn,q,xr,ir,ce),new lt(V)}function ol(){return(ol=(0,G.Z)(function*(V,q,ce,et,Ot){if(Ot&&Ot.global)V("event",ce,et);else{const jt=yield q;V("event",ce,Object.assign(Object.assign({},et),{send_to:jt}))}})).apply(this,arguments)}function wo(){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,G.Z)(function*(){if((0,Ce.ru)()||!(0,Ce.zI)()||!(0,Ce.hl)())return!1;try{return yield(0,Ce.eu)()}catch(V){return!1}})).apply(this,arguments)}const yu="@firebase/analytics";!function wa(){(0,z._registerComponent)(new Ue.wA(Hs,(q,{options:ce})=>Zs(q.getProvider("app").getImmediate(),q.getProvider("installations-internal").getImmediate(),ce),"PUBLIC")),(0,z._registerComponent)(new Ue.wA("analytics-internal",function V(q){try{const ce=q.getProvider(Hs).getImmediate();return{logEvent:(et,Ot,jt)=>function Wn(V,q,ce,et){V=(0,Ce.m9)(V),function vi(V,q,ce,et,Ot){return ol.apply(this,arguments)}(ar,Zt[V.app.options.appId],q,ce,et).catch(Ot=>Nn.error(Ot))}(ce,et,Ot,jt)}}catch(ce){throw ai.create("interop-component-reg-failed",{reason:ce})}},"PRIVATE")),(0,z.registerVersion)(yu,"0.7.8"),(0,z.registerVersion)(yu,"0.7.8","esm2017")}();var ko=S(4408),ua=S(7565);const js=new class Cs extends ua.v{}(class la extends ko.o{constructor(q,ce){super(q,ce),this.scheduler=q,this.work=ce}schedule(q,ce=0){return ce>0?super.schedule(q,ce):(this.delay=ce,this.state=q,this.scheduler.flush(this),this)}execute(q,ce){return ce>0||this.closed?super.execute(q,ce):this._execute(q,ce)}requestAsyncId(q,ce,et=0){return null!=et&&et>0||null==et&&this.delay>0?super.requestAsyncId(q,ce,et):q.flush(this)}});var ca=S(4986),fo=S(9751),Ds=S(8505),no=S(9468),qa=S(5363);const Ua=new u.GfV("7.3.0"),$s="__angularfire_symbol__analyticsIsSupportedValue",Ca="__angularfire_symbol__analyticsIsSupported",al="__angularfire_symbol__remoteConfigIsSupportedValue",ql="__angularfire_symbol__remoteConfigIsSupported",Yo="__angularfire_symbol__messagingIsSupportedValue",da="__angularfire_symbol__messagingIsSupported";function Eu(V,q,ce){if(q){if(1===q.length)return q[0];const jt=q.filter(Rn=>Rn.app===ce);if(1===jt.length)return jt[0]}return ce.container.getProvider(V).getImmediate({optional:!0})}globalThis[Ca]||(globalThis[Ca]=wo().then(V=>globalThis[$s]=V).catch(()=>globalThis[$s]=!1)),globalThis[da]||(globalThis[da]=gi().then(V=>globalThis[Yo]=V).catch(()=>globalThis[Yo]=!1)),globalThis[ql]||(globalThis[ql]=is().then(V=>globalThis[al]=V).catch(()=>globalThis[al]=!1));const Qo=(V,q)=>{const ce=q?[q]:(0,C.C6)(),et=[];return ce.forEach(Ot=>{Ot.container.getProvider(V).instances.forEach(Rn=>{et.includes(Rn)||et.push(Rn)})}),et};function Xo(){}class $o{constructor(q,ce=js){this.zone=q,this.delegate=ce}now(){return this.delegate.now()}schedule(q,ce,et){const Ot=this.zone;return this.delegate.schedule(function(Rn){Ot.runGuarded(()=>{q.apply(this,[Rn])})},ce,et)}}class xl{constructor(q){this.zone=q,this.task=null}call(q,ce){const et=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo)),ce.pipe((0,Ds.b)({next:et,complete:et,error:et})).subscribe(q).add(et)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Za=(()=>{class V{constructor(ce){this.ngZone=ce,this.outsideAngular=ce.runOutsideAngular(()=>new $o(Zone.current)),this.insideAngular=ce.run(()=>new $o(Zone.current,ca.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return V.\u0275fac=function(ce){return new(ce||V)(u.LFG(u.R0b))},V.\u0275prov=u.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function Ns(){const V=globalThis.\u0275AngularFireScheduler;if(!V)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return V}function Zl(V){return Ns().ngZone.runOutsideAngular(()=>V())}function Jo(V){return Ns().ngZone.run(()=>V())}function ta(V){return Ns(),function fa(V){return function(ce){return(ce=ce.lift(new xl(V.ngZone))).pipe((0,no.R)(V.outsideAngular),(0,qa.Q)(V.insideAngular))}}(Ns())(V)}const na=(V,q)=>function(){const et=arguments;return q&&setTimeout(()=>{"scheduled"===q.state&&q.invoke()},10),Jo(()=>V.apply(void 0,et))},ll=(V,q)=>function(){let ce;const et=arguments;for(let jt=0;jt<arguments.length;jt++)"function"==typeof et[jt]&&(q&&(ce||(ce=Jo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo)))),et[jt]=na(et[jt],ce));const Ot=Zl(()=>V.apply(this,et));if(!q){if(Ot instanceof fo.y){const jt=Ns();return Ot.pipe((0,no.R)(jt.outsideAngular),(0,qa.Q)(jt.insideAngular))}return Jo(()=>Ot)}return Ot instanceof fo.y?Ot.pipe(ta):Ot instanceof Promise?Jo(()=>new Promise((jt,Rn)=>Ot.then(jn=>Jo(()=>jt(jn)),jn=>Jo(()=>Rn(jn))))):"function"==typeof Ot&&ce?function(){return setTimeout(()=>{ce&&"scheduled"===ce.state&&ce.invoke()},10),Ot.apply(this,arguments)}:Jo(()=>Ot)}},573:(fn,ht,S)=>{S.d(ht,{$:()=>Wt,A:()=>Te,E:()=>ie,G:()=>er,I:()=>Mi,K:()=>Ne,L:()=>ji,M:()=>us,N:()=>cs,P:()=>Ua,Q:()=>Li,R:()=>vu,T:()=>ss,U:()=>$i,V:()=>Zr,W:()=>Us,X:()=>Xt,Y:()=>fi,Z:()=>Hr,_:()=>wi,a:()=>ws,a0:()=>ui,a1:()=>oo,a2:()=>pn,a3:()=>Fa,a4:()=>Ka,a5:()=>lo,a6:()=>Bo,a7:()=>La,a8:()=>uo,a9:()=>Ks,aA:()=>Sr,aB:()=>fa,aC:()=>he,aG:()=>Cr,aJ:()=>Vs,aa:()=>re,ab:()=>D,ae:()=>it,af:()=>Nt,ag:()=>Jt,aj:()=>Ti,ak:()=>ms,am:()=>vo,an:()=>Ni,ao:()=>Ht,ap:()=>kt,aq:()=>gt,ar:()=>Q,as:()=>Ut,at:()=>Qu,au:()=>ul,av:()=>$e,aw:()=>le,ax:()=>mt,ay:()=>Ge,az:()=>Rs,b:()=>yn,c:()=>Qi,d:()=>Xo,e:()=>Eu,f:()=>V,g:()=>Rn,h:()=>et,i:()=>jo,j:()=>qr,k:()=>ma,l:()=>Cs,m:()=>Ju,n:()=>Dc,o:()=>ge,q:()=>gs,r:()=>Ba,s:()=>la,u:()=>no,x:()=>qs,z:()=>tt});var u=S(5861),C=S(2090),G=S(9681),z=S(655),Ce=S(1877),Ue=S(4859);const ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const tt=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ze=function Xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Dt=new C.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pt=new Ce.Yd("@firebase/auth");function Ye(A,...g){pt.logLevel<=Ce.in.ERROR&&pt.error(`Auth (${G.SDK_VERSION}): ${A}`,...g)}function Ut(A,...g){throw Le(A,...g)}function $e(A,...g){return Le(A,...g)}function De(A,g,y){const O=Object.assign(Object.assign({},Ze()),{[g]:y});return new C.LL("auth","Firebase",O).create(g,{appName:A.name})}function Se(A,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Ut(A,"argument-error"),De(A,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Le(A,...g){if("string"!=typeof A){const y=g[0],O=[...g.slice(1)];return O[0]&&(O[0].appName=A.name),A._errorFactory.create(y,...O)}return Dt.create(A,...g)}function le(A,g,...y){if(!A)throw Le(g,...y)}function Tt(A){const g="INTERNAL ASSERTION FAILED: "+A;throw Ye(g),new Error(g)}function kt(A,g){A||Tt(g)}const _t=new Map;function mt(A){kt(A instanceof Function,"Expected a class definition");let g=_t.get(A);return g?(kt(g instanceof A,"Instance stored in cache mismatched with class"),g):(g=new A,_t.set(A,g),g)}function ut(){var A;return"undefined"!=typeof self&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function Kt(){return"http:"===tn()||"https:"===tn()}function tn(){var A;return"undefined"!=typeof self&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class At{constructor(g,y){this.shortDelay=g,this.longDelay=y,kt(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,C.uI)()||(0,C.b$)()}get(){return function dn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kt()||(0,C.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bt(A,g){kt(A.emulator,"Emulator should always be set here");const{url:y}=A.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class vn{static initialize(g,y,O){this.fetchImpl=g,y&&(this.headersImpl=y),O&&(this.responseImpl=O)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const He={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},vt=new At(3e4,6e4);function sn(A,g){return A.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:A.tenantId}):g}function an(A,g,y,O){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,u.Z)(function*(A,g,y,O,ae={}){return vr(A,ae,(0,u.Z)(function*(){let xe={},Lt={};O&&("GET"===g?Lt=O:xe={body:JSON.stringify(O)});const mn=(0,C.xO)(Object.assign({key:A.config.apiKey},Lt)).slice(1),Yn=yield A._getAdditionalHeaders();return Yn["Content-Type"]="application/json",A.languageCode&&(Yn["X-Firebase-Locale"]=A.languageCode),vn.fetch()(Pn(A,A.config.apiHost,y,mn),Object.assign({method:g,headers:Yn,referrerPolicy:"no-referrer"},xe))}))})).apply(this,arguments)}function vr(A,g,y){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(A,g,y){A._canInitEmulator=!1;const O=Object.assign(Object.assign({},He),g);try{const ae=new mr(A),xe=yield Promise.race([y(),ae.promise]);ae.clearNetworkTimeout();const Lt=yield xe.json();if("needConfirmation"in Lt)throw dr(A,"account-exists-with-different-credential",Lt);if(xe.ok&&!("errorMessage"in Lt))return Lt;{const mn=xe.ok?Lt.errorMessage:Lt.error.message,[Yn,nr]=mn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Yn)throw dr(A,"credential-already-in-use",Lt);if("EMAIL_EXISTS"===Yn)throw dr(A,"email-already-in-use",Lt);const Qr=O[Yn]||Yn.toLowerCase().replace(/[_\s]+/g,"-");if(nr)throw De(A,Qr,nr);Ut(A,Qr)}}catch(ae){if(ae instanceof C.ZR)throw ae;Ut(A,"network-request-failed")}})).apply(this,arguments)}function cr(A,g,y,O){return sr.apply(this,arguments)}function sr(){return(sr=(0,u.Z)(function*(A,g,y,O,ae={}){const xe=yield an(A,g,y,O,ae);return"mfaPendingCredential"in xe&&Ut(A,"multi-factor-auth-required",{_serverResponse:xe}),xe})).apply(this,arguments)}function Pn(A,g,y,O){const ae=`${g}${y}?${O}`;return A.config.emulator?Bt(A.config,ae):`${A.config.apiScheme}://${ae}`}class mr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,O)=>{this.timer=setTimeout(()=>O($e(this.auth,"network-request-failed")),vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dr(A,g,y){const O={appName:A.name};y.email&&(O.email=y.email),y.phoneNumber&&(O.phoneNumber=y.phoneNumber);const ae=$e(A,g,O);return ae.customData._tokenResponse=y,ae}function bn(){return(bn=(0,u.Z)(function*(A,g){return an(A,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function En(A,g){return Er.apply(this,arguments)}function Er(){return(Er=(0,u.Z)(function*(A,g){return an(A,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function $n(A,g){return hr.apply(this,arguments)}function hr(){return(hr=(0,u.Z)(function*(A,g){return an(A,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ir(A){if(A)try{const g=new Date(Number(A));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Et(){return(Et=(0,u.Z)(function*(A,g=!1){const y=(0,C.m9)(A),O=yield y.getIdToken(g),ae=Mt(O);le(ae&&ae.exp&&ae.auth_time&&ae.iat,y.auth,"internal-error");const xe="object"==typeof ae.firebase?ae.firebase:void 0,Lt=null==xe?void 0:xe.sign_in_provider;return{claims:ae,token:O,authTime:Ir(Qe(ae.auth_time)),issuedAtTime:Ir(Qe(ae.iat)),expirationTime:Ir(Qe(ae.exp)),signInProvider:Lt||null,signInSecondFactor:(null==xe?void 0:xe.sign_in_second_factor)||null}})).apply(this,arguments)}function Qe(A){return 1e3*Number(A)}function Mt(A){const[g,y,O]=A.split(".");if(void 0===g||void 0===y||void 0===O)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const ae=(0,C.tV)(y);return ae?JSON.parse(ae):(Ye("Failed to decode base64 JWT payload"),null)}catch(ae){return Ye("Caught error parsing JWT payload as JSON",ae),null}}function bt(A,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*(A,g,y=!1){if(y)return g;try{return yield g}catch(O){throw O instanceof C.ZR&&cn(O)&&A.auth.currentUser===A&&(yield A.auth.signOut()),O}})).apply(this,arguments)}function cn({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}class Mn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const O=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),O}{this.errorBackoff=3e4;const ae=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,ae)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const O=this.getInterval(g);this.timerId=setTimeout((0,u.Z)(function*(){yield y.iteration()}),O)}iteration(){var g=this;return(0,u.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&g.schedule(!0))}g.schedule()})()}}class wr{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rr(A){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(A){var g;const y=A.auth,O=yield A.getIdToken(),ae=yield bt(A,$n(y,{idToken:O}));le(null==ae?void 0:ae.users.length,y,"internal-error");const xe=ae.users[0];A._notifyReloadListener(xe);const Lt=(null===(g=xe.providerUserInfo)||void 0===g?void 0:g.length)?Z(xe.providerUserInfo):[],mn=ye(A.providerData,Lt),Qr=!!A.isAnonymous&&!(A.email&&xe.passwordHash||(null==mn?void 0:mn.length)),li={uid:xe.localId,displayName:xe.displayName||null,photoURL:xe.photoUrl||null,email:xe.email||null,emailVerified:xe.emailVerified||!1,phoneNumber:xe.phoneNumber||null,tenantId:xe.tenantId||null,providerData:mn,metadata:new wr(xe.createdAt,xe.lastLoginAt),isAnonymous:Qr};Object.assign(A,li)})).apply(this,arguments)}function rt(){return(rt=(0,u.Z)(function*(A){const g=(0,C.m9)(A);yield rr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function ye(A,g){return[...A.filter(O=>!g.some(ae=>ae.providerId===O.providerId)),...g]}function Z(A){return A.map(g=>{var{providerId:y}=g,O=(0,z._T)(g,["providerId"]);return{providerId:y,uid:O.rawId||"",displayName:O.displayName||null,email:O.email||null,phoneNumber:O.phoneNumber||null,photoURL:O.photoUrl||null}})}function w(){return(w=(0,u.Z)(function*(A,g){const y=yield vr(A,{},(0,u.Z)(function*(){const O=(0,C.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:ae,apiKey:xe}=A.config,Lt=Pn(A,ae,"/v1/token",`key=${xe}`),mn=yield A._getAdditionalHeaders();return mn["Content-Type"]="application/x-www-form-urlencoded",vn.fetch()(Lt,{method:"POST",headers:mn,body:O})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class L{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){le(g.idToken,"internal-error"),le(void 0!==g.idToken,"internal-error"),le(void 0!==g.refreshToken,"internal-error");const y="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function Ve(A){const g=Mt(A);return le(g,"internal-error"),le(void 0!==g.exp,"internal-error"),le(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var O=this;return(0,u.Z)(function*(){return le(!O.accessToken||O.refreshToken,g,"user-token-expired"),y||!O.accessToken||O.isExpired?O.refreshToken?(yield O.refresh(g,O.refreshToken),O.accessToken):null:O.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var O=this;return(0,u.Z)(function*(){const{accessToken:ae,refreshToken:xe,expiresIn:Lt}=yield function M(A,g){return w.apply(this,arguments)}(g,y);O.updateTokensAndExpiration(ae,xe,Number(Lt))})()}updateTokensAndExpiration(g,y,O){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*O}static fromJSON(g,y){const{refreshToken:O,accessToken:ae,expirationTime:xe}=y,Lt=new L;return O&&(le("string"==typeof O,"internal-error",{appName:g}),Lt.refreshToken=O),ae&&(le("string"==typeof ae,"internal-error",{appName:g}),Lt.accessToken=ae),xe&&(le("number"==typeof xe,"internal-error",{appName:g}),Lt.expirationTime=xe),Lt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new L,this.toJSON())}_performRefresh(){return Tt("not implemented")}}function be(A,g){le("string"==typeof A||void 0===A,"internal-error",{appName:g})}class We{constructor(g){var{uid:y,auth:O,stsTokenManager:ae}=g,xe=(0,z._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=O,this.stsTokenManager=ae,this.accessToken=ae.accessToken,this.displayName=xe.displayName||null,this.email=xe.email||null,this.emailVerified=xe.emailVerified||!1,this.phoneNumber=xe.phoneNumber||null,this.photoURL=xe.photoURL||null,this.isAnonymous=xe.isAnonymous||!1,this.tenantId=xe.tenantId||null,this.providerData=xe.providerData?[...xe.providerData]:[],this.metadata=new wr(xe.createdAt||void 0,xe.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,u.Z)(function*(){const O=yield bt(y,y.stsTokenManager.getToken(y.auth,g));return le(O,y.auth,"internal-error"),y.accessToken!==O&&(y.accessToken=O,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),O})()}getIdTokenResult(g){return function Rt(A){return Et.apply(this,arguments)}(this,g)}reload(){return function at(A){return rt.apply(this,arguments)}(this)}_assign(g){this!==g&&(le(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new We(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var O=this;return(0,u.Z)(function*(){let ae=!1;g.idToken&&g.idToken!==O.stsTokenManager.accessToken&&(O.stsTokenManager.updateFromServerResponse(g),ae=!0),y&&(yield rr(O)),yield O.auth._persistUserIfCurrent(O),ae&&O.auth._notifyListenersIfCurrent(O)})()}delete(){var g=this;return(0,u.Z)(function*(){const y=yield g.getIdToken();return yield bt(g,function Pr(A,g){return bn.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var O,ae,xe,Lt,mn,Yn,nr,Qr;const li=null!==(O=y.displayName)&&void 0!==O?O:void 0,Si=null!==(ae=y.email)&&void 0!==ae?ae:void 0,zo=null!==(xe=y.phoneNumber)&&void 0!==xe?xe:void 0,ga=null!==(Lt=y.photoURL)&&void 0!==Lt?Lt:void 0,Jl=null!==(mn=y.tenantId)&&void 0!==mn?mn:void 0,ro=null!==(Yn=y._redirectEventId)&&void 0!==Yn?Yn:void 0,Ic=null!==(nr=y.createdAt)&&void 0!==nr?nr:void 0,Ll=null!==(Qr=y.lastLoginAt)&&void 0!==Qr?Qr:void 0,{uid:xa,emailVerified:bu,isAnonymous:Tc,providerData:Fi,stsTokenManager:wu}=y;le(xa&&wu,g,"internal-error");const eu=L.fromJSON(this.name,wu);le("string"==typeof xa,g,"internal-error"),be(li,g.name),be(Si,g.name),le("boolean"==typeof bu,g,"internal-error"),le("boolean"==typeof Tc,g,"internal-error"),be(zo,g.name),be(ga,g.name),be(Jl,g.name),be(ro,g.name),be(Ic,g.name),be(Ll,g.name);const _a=new We({uid:xa,auth:g,email:Si,emailVerified:bu,displayName:li,isAnonymous:Tc,photoURL:ga,phoneNumber:zo,tenantId:Jl,stsTokenManager:eu,createdAt:Ic,lastLoginAt:Ll});return Fi&&Array.isArray(Fi)&&(_a.providerData=Fi.map(gl=>Object.assign({},gl))),ro&&(_a._redirectEventId=ro),_a}static _fromIdTokenResponse(g,y,O=!1){return(0,u.Z)(function*(){const ae=new L;ae.updateFromServerResponse(y);const xe=new We({uid:y.localId,auth:g,stsTokenManager:ae,isAnonymous:O});return yield rr(xe),xe})()}}const Ne=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(y,O){var ae=this;return(0,u.Z)(function*(){ae.storage[y]=O})()}_get(y){var O=this;return(0,u.Z)(function*(){const ae=O.storage[y];return void 0===ae?null:ae})()}_remove(y){var O=this;return(0,u.Z)(function*(){delete O.storage[y]})()}_addListener(y,O){}_removeListener(y,O){}}return A.type="NONE",A})();function Ge(A,g,y){return`firebase:${A}:${g}:${y}`}class It{constructor(g,y,O){this.persistence=g,this.auth=y,this.userKey=O;const{config:ae,name:xe}=this.auth;this.fullUserKey=Ge(this.userKey,ae.apiKey,xe),this.fullPersistenceKey=Ge("persistence",ae.apiKey,xe),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,u.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?We._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,u.Z)(function*(){if(y.persistence===g)return;const O=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,O?y.setCurrentUser(O):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,O="authUser"){return(0,u.Z)(function*(){if(!y.length)return new It(mt(Ne),g,O);const ae=(yield Promise.all(y.map(function(){var nr=(0,u.Z)(function*(Qr){if(yield Qr._isAvailable())return Qr});return function(Qr){return nr.apply(this,arguments)}}()))).filter(nr=>nr);let xe=ae[0]||mt(Ne);const Lt=Ge(O,g.config.apiKey,g.name);let mn=null;for(const nr of y)try{const Qr=yield nr._get(Lt);if(Qr){const li=We._fromJSON(g,Qr);nr!==xe&&(mn=li),xe=nr;break}}catch(Qr){}const Yn=ae.filter(nr=>nr._shouldAllowMigration);return xe._shouldAllowMigration&&Yn.length?(xe=Yn[0],mn&&(yield xe._set(Lt,mn.toJSON())),yield Promise.all(y.map(function(){var nr=(0,u.Z)(function*(Qr){if(Qr!==xe)try{yield Qr._remove(Lt)}catch(li){}});return function(Qr){return nr.apply(this,arguments)}}())),new It(xe,g,O)):new It(xe,g,O)})()}}function we(A){const g=A.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(J(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Re(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ne(g))return"Blackberry";if(Pe(g))return"Webos";if(se(g))return"Safari";if((g.includes("chrome/")||_e(g))&&!g.includes("edge/"))return"Chrome";if(Q(g))return"Android";{const O=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==O?void 0:O.length))return O[1]}return"Other"}function Re(A=(0,C.z$)()){return/firefox\//i.test(A)}function se(A=(0,C.z$)()){const g=A.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function _e(A=(0,C.z$)()){return/crios\//i.test(A)}function J(A=(0,C.z$)()){return/iemobile/i.test(A)}function Q(A=(0,C.z$)()){return/android/i.test(A)}function ne(A=(0,C.z$)()){return/blackberry/i.test(A)}function Pe(A=(0,C.z$)()){return/webos/i.test(A)}function gt(A=(0,C.z$)()){return/iphone|ipad|ipod/i.test(A)}function Ht(A=(0,C.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(A)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(A)}function On(A=(0,C.z$)()){return gt(A)||Q(A)||Pe(A)||ne(A)||/windows phone/i.test(A)||J(A)}function $r(A,g=[]){let y;switch(A){case"Browser":y=we((0,C.z$)());break;case"Worker":y=`${we((0,C.z$)())}-${A}`;break;default:y=A}const O=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${G.SDK_VERSION}/${O}`}class bi{constructor(g,y,O){this.app=g,this.heartbeatServiceProvider=y,this.config=O,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Me(this),this.idTokenSubscription=new Me(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=O.sdkClientVersion}_initializeWithPersistence(g,y){var O=this;return y&&(this._popupRedirectResolver=mt(y)),this._initializationPromise=this.queue((0,u.Z)(function*(){var ae,xe;if(!O._deleted&&(O.persistenceManager=yield It.create(O,g),!O._deleted)){if(null===(ae=O._popupRedirectResolver)||void 0===ae?void 0:ae._shouldInitProactively)try{yield O._popupRedirectResolver._initialize(O)}catch(Lt){}yield O.initializeCurrentUser(y),O.lastNotifiedUid=(null===(xe=O.currentUser)||void 0===xe?void 0:xe.uid)||null,!O._deleted&&(O._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,u.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y)}})()}initializeCurrentUser(g){var y=this;return(0,u.Z)(function*(){var O;let ae=yield y.assertedPersistence.getCurrentUser();if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const xe=null===(O=y.redirectUser)||void 0===O?void 0:O._redirectEventId,Lt=null==ae?void 0:ae._redirectEventId,mn=yield y.tryRedirectSignIn(g);(!xe||xe===Lt)&&(null==mn?void 0:mn.user)&&(ae=mn.user)}return ae?ae._redirectEventId?(le(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===ae._redirectEventId?y.directlySetCurrentUser(ae):y.reloadAndSetCurrentUserOrClear(ae)):y.reloadAndSetCurrentUserOrClear(ae):y.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var y=this;return(0,u.Z)(function*(){let O=null;try{O=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch(ae){yield y._setRedirectUser(null)}return O})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,u.Z)(function*(){try{yield rr(g)}catch(O){if("auth/network-request-failed"!==O.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function rn(){if("undefined"==typeof navigator)return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var g=this;return(0,u.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,u.Z)(function*(){const O=g?(0,C.m9)(g):null;return O&&le(O.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(O&&O._clone(y))})()}_updateCurrentUser(g){var y=this;return(0,u.Z)(function*(){if(!y._deleted)return g&&le(y.tenantId===g.tenantId,y,"tenant-id-mismatch"),y.queue((0,u.Z)(function*(){yield y.directlySetCurrentUser(g),y.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,u.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var y=this;return this.queue((0,u.Z)(function*(){yield y.assertedPersistence.setPersistence(mt(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new C.LL("auth","Firebase",g())}onAuthStateChanged(g,y,O){return this.registerStateListener(this.authStateSubscription,g,y,O)}onIdTokenChanged(g,y,O){return this.registerStateListener(this.idTokenSubscription,g,y,O)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var O=this;return(0,u.Z)(function*(){const ae=yield O.getOrInitRedirectPersistenceManager(y);return null===g?ae.removeCurrentUser():ae.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,u.Z)(function*(){if(!y.redirectPersistenceManager){const O=g&&mt(g)||y._popupRedirectResolver;le(O,y,"argument-error"),y.redirectPersistenceManager=yield It.create(y,[mt(O._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,u.Z)(function*(){var O,ae;return y._isInitialized&&(yield y.queue((0,u.Z)(function*(){}))),(null===(O=y._currentUser)||void 0===O?void 0:O._redirectEventId)===g?y._currentUser:(null===(ae=y.redirectUser)||void 0===ae?void 0:ae._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,u.Z)(function*(){if(g===y.currentUser)return y.queue((0,u.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const O=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==O&&(this.lastNotifiedUid=O,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,O,ae){if(this._deleted)return()=>{};const xe="function"==typeof y?y:y.next.bind(y),Lt=this._isInitialized?Promise.resolve():this._initializationPromise;return le(Lt,this,"internal-error"),Lt.then(()=>xe(this.currentUser)),"function"==typeof y?g.addObserver(y,O,ae):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,u.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=$r(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,u.Z)(function*(){var y;const O={"X-Client-Version":g.clientVersion};g.app.options.appId&&(O["X-Firebase-gmpid"]=g.app.options.appId);const ae=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return ae&&(O["X-Firebase-Client"]=ae),O})()}}function he(A){return(0,C.m9)(A)}class Me{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,C.ne)(y=>this.observer=y)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ie(A,g,y){const O=he(A);le(O._canInitEmulator,O,"emulator-config-failed"),le(/^https?:\/\//.test(g),O,"invalid-emulator-scheme");const ae=!!(null==y?void 0:y.disableWarnings),xe=Be(g),{host:Lt,port:mn}=function St(A){const g=Be(A),y=/(\/\/)?([^?#/]+)/.exec(A.substr(g.length));if(!y)return{host:"",port:null};const O=y[2].split("@").pop()||"",ae=/^(\[[^\]]+\])(:|$)/.exec(O);if(ae){const xe=ae[1];return{host:xe,port:Gt(O.substr(xe.length+1))}}{const[xe,Lt]=O.split(":");return{host:xe,port:Gt(Lt)}}}(g);O.config.emulator={url:`${xe}//${Lt}${null===mn?"":`:${mn}`}/`},O.settings.appVerificationDisabledForTesting=!0,O.emulatorConfig=Object.freeze({host:Lt,port:mn,protocol:xe.replace(":",""),options:Object.freeze({disableWarnings:ae})}),ae||function _n(){function A(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}function Be(A){const g=A.indexOf(":");return g<0?"":A.substr(0,g+1)}function Gt(A){if(!A)return null;const g=Number(A);return isNaN(g)?null:g}class er{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return Tt("not implemented")}_getIdTokenResponse(g){return Tt("not implemented")}_linkToIdToken(g,y){return Tt("not implemented")}_getReauthenticationResolver(g){return Tt("not implemented")}}function Ln(A,g){return lr.apply(this,arguments)}function lr(){return(lr=(0,u.Z)(function*(A,g){return an(A,"POST","/v1/accounts:resetPassword",sn(A,g))})).apply(this,arguments)}function zr(A,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(A,g){return an(A,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Rr(A,g){return si.apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(A,g){return an(A,"POST","/v1/accounts:update",sn(A,g))})).apply(this,arguments)}function fr(){return(fr=(0,u.Z)(function*(A,g){return cr(A,"POST","/v1/accounts:signInWithPassword",sn(A,g))})).apply(this,arguments)}function Vn(A,g){return pr.apply(this,arguments)}function pr(){return(pr=(0,u.Z)(function*(A,g){return an(A,"POST","/v1/accounts:sendOobCode",sn(A,g))})).apply(this,arguments)}function ti(A,g){return ct.apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(A,g){return Vn(A,g)})).apply(this,arguments)}function st(A,g){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,u.Z)(function*(A,g){return Vn(A,g)})).apply(this,arguments)}function on(A,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,u.Z)(function*(A,g){return Vn(A,g)})).apply(this,arguments)}function Cn(A,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(A,g){return Vn(A,g)})).apply(this,arguments)}function Fr(){return(Fr=(0,u.Z)(function*(A,g){return cr(A,"POST","/v1/accounts:signInWithEmailLink",sn(A,g))})).apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(A,g){return cr(A,"POST","/v1/accounts:signInWithEmailLink",sn(A,g))})).apply(this,arguments)}class ns extends er{constructor(g,y,O,ae=null){super("password",O),this._email=g,this._password=y,this._tenantId=ae}static _fromEmailAndPassword(g,y){return new ns(g,y,"password")}static _fromEmailAndCode(g,y,O=null){return new ns(g,y,"emailLink",O)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,u.Z)(function*(){switch(y.signInMethod){case"password":return function Xi(A,g){return fr.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Mr(A,g){return Fr.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Ut(g,"internal-error")}})()}_linkToIdToken(g,y){var O=this;return(0,u.Z)(function*(){switch(O.signInMethod){case"password":return zr(g,{idToken:y,returnSecureToken:!0,email:O._email,password:O._password});case"emailLink":return function mi(A,g){return Ci.apply(this,arguments)}(g,{idToken:y,email:O._email,oobCode:O._password});default:Ut(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ys(A,g){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,u.Z)(function*(A,g){return cr(A,"POST","/v1/accounts:signInWithIdp",sn(A,g))})).apply(this,arguments)}class Mi extends er{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Mi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Ut("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:O,signInMethod:ae}=y,xe=(0,z._T)(y,["providerId","signInMethod"]);if(!O||!ae)return null;const Lt=new Mi(O,ae);return Lt.idToken=xe.idToken||void 0,Lt.accessToken=xe.accessToken||void 0,Lt.secret=xe.secret,Lt.nonce=xe.nonce,Lt.pendingToken=xe.pendingToken||null,Lt}_getIdTokenResponse(g){return ys(g,this.buildRequest())}_linkToIdToken(g,y){const O=this.buildRequest();return O.idToken=y,ys(g,O)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,ys(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,C.xO)(y)}return g}}function Gs(A,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,u.Z)(function*(A,g){return an(A,"POST","/v1/accounts:sendVerificationCode",sn(A,g))})).apply(this,arguments)}function ks(){return(ks=(0,u.Z)(function*(A,g){return cr(A,"POST","/v1/accounts:signInWithPhoneNumber",sn(A,g))})).apply(this,arguments)}function xo(){return(xo=(0,u.Z)(function*(A,g){const y=yield cr(A,"POST","/v1/accounts:signInWithPhoneNumber",sn(A,g));if(y.temporaryProof)throw dr(A,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Fs={USER_NOT_FOUND:"user-not-found"};function Ls(){return(Ls=(0,u.Z)(function*(A,g){return cr(A,"POST","/v1/accounts:signInWithPhoneNumber",sn(A,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Fs)})).apply(this,arguments)}class Ji extends er{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Ji({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Ji({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function so(A,g){return ks.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function Ps(A,g){return xo.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function qo(A,g){return Ls.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:O,verificationCode:ae}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:O,code:ae}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:O,phoneNumber:ae,temporaryProof:xe}=g;return O||y||ae||xe?new Ji({verificationId:y,verificationCode:O,phoneNumber:ae,temporaryProof:xe}):null}}class rs{constructor(g){var y,O,ae,xe,Lt,mn;const Yn=(0,C.zd)((0,C.pd)(g)),nr=null!==(y=Yn.apiKey)&&void 0!==y?y:null,Qr=null!==(O=Yn.oobCode)&&void 0!==O?O:null,li=function Or(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ae=Yn.mode)&&void 0!==ae?ae:null);le(nr&&Qr&&li,"argument-error"),this.apiKey=nr,this.operation=li,this.code=Qr,this.continueUrl=null!==(xe=Yn.continueUrl)&&void 0!==xe?xe:null,this.languageCode=null!==(Lt=Yn.languageCode)&&void 0!==Lt?Lt:null,this.tenantId=null!==(mn=Yn.tenantId)&&void 0!==mn?mn:null}static parseLink(g){const y=function Js(A){const g=(0,C.zd)((0,C.pd)(A)).link,y=g?(0,C.zd)((0,C.pd)(g)).deep_link_id:null,O=(0,C.zd)((0,C.pd)(A)).deep_link_id;return(O?(0,C.zd)((0,C.pd)(O)).link:null)||O||y||g||A}(g);try{return new rs(y)}catch(O){return null}}}let ji=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(y,O){return ns._fromEmailAndPassword(y,O)}static credentialWithLink(y,O){const ae=rs.parseLink(O);return le(ae,"argument-error"),ns._fromEmailAndCode(y,ae.code,ae.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class xi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ri extends xi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ss extends Ri{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return le("providerId"in y&&"signInMethod"in y,"argument-error"),Mi._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return le(g.idToken||g.accessToken,"argument-error"),Mi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ss.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ss.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:O,oauthTokenSecret:ae,pendingToken:xe,nonce:Lt,providerId:mn}=g;if(!O&&!ae&&!y&&!xe||!mn)return null;try{return new ss(mn)._credential({idToken:y,accessToken:O,nonce:Lt,pendingToken:xe})}catch(Yn){return null}}}let us=(()=>{class A extends Ri{constructor(){super("facebook.com")}static credential(y){return Mi._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return A.credentialFromTaggedObject(y)}static credentialFromError(y){return A.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return A.credential(y.oauthAccessToken)}catch(O){return null}}}return A.FACEBOOK_SIGN_IN_METHOD="facebook.com",A.PROVIDER_ID="facebook.com",A})(),cs=(()=>{class A extends Ri{constructor(){super("google.com"),this.addScope("profile")}static credential(y,O){return Mi._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:O})}static credentialFromResult(y){return A.credentialFromTaggedObject(y)}static credentialFromError(y){return A.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:O,oauthAccessToken:ae}=y;if(!O&&!ae)return null;try{return A.credential(O,ae)}catch(xe){return null}}}return A.GOOGLE_SIGN_IN_METHOD="google.com",A.PROVIDER_ID="google.com",A})(),Li=(()=>{class A extends Ri{constructor(){super("github.com")}static credential(y){return Mi._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return A.credentialFromTaggedObject(y)}static credentialFromError(y){return A.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return A.credential(y.oauthAccessToken)}catch(O){return null}}}return A.GITHUB_SIGN_IN_METHOD="github.com",A.PROVIDER_ID="github.com",A})();class Vs extends er{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return ys(g,this.buildRequest())}_linkToIdToken(g,y){const O=this.buildRequest();return O.idToken=y,ys(g,O)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,ys(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:O,signInMethod:ae,pendingToken:xe}=y;return O&&ae&&xe&&O===ae?new Vs(O,xe):null}static _create(g,y){return new Vs(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $i extends xi{constructor(g){le(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return $i.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return $i.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Vs.fromJSON(g);return le(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:O}=g;if(!y||!O)return null;try{return Vs._create(O,y)}catch(ae){return null}}}let Zr=(()=>{class A extends Ri{constructor(){super("twitter.com")}static credential(y,O){return Mi._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:O})}static credentialFromResult(y){return A.credentialFromTaggedObject(y)}static credentialFromError(y){return A.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:O,oauthTokenSecret:ae}=y;if(!O||!ae)return null;try{return A.credential(O,ae)}catch(xe){return null}}}return A.TWITTER_SIGN_IN_METHOD="twitter.com",A.PROVIDER_ID="twitter.com",A})();function ds(A,g){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,u.Z)(function*(A,g){return cr(A,"POST","/v1/accounts:signUp",sn(A,g))})).apply(this,arguments)}class oi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,O,ae=!1){return(0,u.Z)(function*(){const xe=yield We._fromIdTokenResponse(g,O,ae),Lt=fs(O);return new oi({user:xe,providerId:Lt,_tokenResponse:O,operationType:y})})()}static _forOperation(g,y,O){return(0,u.Z)(function*(){yield g._updateTokensIfNecessary(O,!0);const ae=fs(O);return new oi({user:g,providerId:ae,_tokenResponse:O,operationType:y})})()}}function fs(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}function Us(A){return ci.apply(this,arguments)}function ci(){return(ci=(0,u.Z)(function*(A){var g;const y=he(A);if(yield y._initializationPromise,null===(g=y.currentUser)||void 0===g?void 0:g.isAnonymous)return new oi({user:y.currentUser,providerId:null,operationType:"signIn"});const O=yield ds(y,{returnSecureToken:!0}),ae=yield oi._fromIdTokenResponse(y,"signIn",O,!0);return yield y._updateCurrentUser(ae.user),ae})).apply(this,arguments)}class Qt extends C.ZR{constructor(g,y,O,ae){var xe;super(y.code,y.message),this.operationType=O,this.user=ae,Object.setPrototypeOf(this,Qt.prototype),this.customData={appName:g.name,tenantId:null!==(xe=g.tenantId)&&void 0!==xe?xe:void 0,_serverResponse:y.customData._serverResponse,operationType:O}}static _fromErrorAndOperation(g,y,O,ae){return new Qt(g,y,O,ae)}}function Nr(A,g,y,O){return("reauthenticate"===g?y._getReauthenticationResolver(A):y._getIdTokenResponse(A)).catch(xe=>{throw"auth/multi-factor-auth-required"===xe.code?Qt._fromErrorAndOperation(A,xe,g,O):xe})}function Yr(A){return new Set(A.map(({providerId:g})=>g).filter(g=>!!g))}function Ti(A,g){return bs.apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(A,g){const y=(0,C.m9)(A);yield j(!0,y,g);const{providerUserInfo:O}=yield En(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),ae=Yr(O||[]);return y.providerData=y.providerData.filter(xe=>ae.has(xe.providerId)),ae.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function os(A,g){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,u.Z)(function*(A,g,y=!1){const O=yield bt(A,g._linkToIdToken(A.auth,yield A.getIdToken()),y);return oi._forOperation(A,"link",O)})).apply(this,arguments)}function j(A,g,y){return oe.apply(this,arguments)}function oe(){return(oe=(0,u.Z)(function*(A,g,y){yield rr(g);const ae=!1===A?"provider-already-linked":"no-such-provider";le(Yr(g.providerData).has(y)===A,g.auth,ae)})).apply(this,arguments)}function $(A,g){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,u.Z)(function*(A,g,y=!1){const{auth:O}=A,ae="reauthenticate";try{const xe=yield bt(A,Nr(O,ae,g,A),y);le(xe.idToken,O,"internal-error");const Lt=Mt(xe.idToken);le(Lt,O,"internal-error");const{sub:mn}=Lt;return le(A.uid===mn,O,"user-mismatch"),oi._forOperation(A,ae,xe)}catch(xe){throw"auth/user-not-found"===(null==xe?void 0:xe.code)&&Ut(O,"user-mismatch"),xe}})).apply(this,arguments)}function dt(A,g){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,u.Z)(function*(A,g,y=!1){const O="signIn",ae=yield Nr(A,O,g),xe=yield oi._fromIdTokenResponse(A,O,ae);return y||(yield A._updateCurrentUser(xe.user)),xe})).apply(this,arguments)}function Xt(A,g){return kn.apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(A,g){return dt(he(A),g)})).apply(this,arguments)}function fi(A,g){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,u.Z)(function*(A,g){const y=(0,C.m9)(A);return yield j(!1,y,g.providerId),os(y,g)})).apply(this,arguments)}function Hr(A,g){return jr.apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(A,g){return $((0,C.m9)(A),g)})).apply(this,arguments)}function Oi(A,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,u.Z)(function*(A,g){return cr(A,"POST","/v1/accounts:signInWithCustomToken",sn(A,g))})).apply(this,arguments)}function wi(A,g){return K.apply(this,arguments)}function K(){return(K=(0,u.Z)(function*(A,g){const y=he(A),O=yield Oi(y,{token:g,returnSecureToken:!0}),ae=yield oi._fromIdTokenResponse(y,"signIn",O);return yield y._updateCurrentUser(ae.user),ae})).apply(this,arguments)}class U{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?k._fromServerResponse(g,y):Ut(g,"internal-error")}}class k extends U{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new k(y)}}function fe(A,g,y){var O;le((null===(O=y.url)||void 0===O?void 0:O.length)>0,A,"invalid-continue-uri"),le(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(le(y.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(le(y.android.packageName.length>0,A,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function Wt(A,g,y){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(A,g,y){const O=(0,C.m9)(A),ae={requestType:"PASSWORD_RESET",email:g};y&&fe(O,ae,y),yield st(O,ae)})).apply(this,arguments)}function ui(A,g,y){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,u.Z)(function*(A,g,y){yield Ln((0,C.m9)(A),{oobCode:g,newPassword:y})})).apply(this,arguments)}function oo(A,g){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(A,g){yield Rr((0,C.m9)(A),{oobCode:g})})).apply(this,arguments)}function pn(A,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(A,g){const y=(0,C.m9)(A),O=yield Ln(y,{oobCode:g}),ae=O.requestType;switch(le(ae,y,"internal-error"),ae){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(O.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(O.mfaInfo,y,"internal-error");default:le(O.email,y,"internal-error")}let xe=null;return O.mfaInfo&&(xe=U._fromServerResponse(he(y),O.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.newEmail:O.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.email:O.newEmail)||null,multiFactorInfo:xe},operation:ae}})).apply(this,arguments)}function Fa(A,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,u.Z)(function*(A,g){const{data:y}=yield pn((0,C.m9)(A),g);return y.email})).apply(this,arguments)}function Ka(A,g,y){return ao.apply(this,arguments)}function ao(){return(ao=(0,u.Z)(function*(A,g,y){const O=he(A),ae=yield ds(O,{returnSecureToken:!0,email:g,password:y}),xe=yield oi._fromIdTokenResponse(O,"signIn",ae);return yield O._updateCurrentUser(xe.user),xe})).apply(this,arguments)}function lo(A,g,y){return Xt((0,C.m9)(A),ji.credential(g,y))}function Bo(A,g,y){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(A,g,y){const O=(0,C.m9)(A),ae={requestType:"EMAIL_SIGNIN",email:g};le(y.handleCodeInApp,O,"argument-error"),y&&fe(O,ae,y),yield on(O,ae)})).apply(this,arguments)}function La(A,g){const y=rs.parseLink(g);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function uo(A,g,y){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,u.Z)(function*(A,g,y){const O=(0,C.m9)(A),ae=ji.credentialWithLink(g,y||ut());return le(ae._tenantId===(O.tenantId||null),O,"tenant-id-mismatch"),Xt(O,ae)})).apply(this,arguments)}function ps(A,g){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,u.Z)(function*(A,g){return an(A,"POST","/v1/accounts:createAuthUri",sn(A,g))})).apply(this,arguments)}function Ks(A,g){return co.apply(this,arguments)}function co(){return(co=(0,u.Z)(function*(A,g){const O={identifier:g,continueUri:Kt()?ut():"http://localhost"},{signinMethods:ae}=yield ps((0,C.m9)(A),O);return ae||[]})).apply(this,arguments)}function re(A,g){return v.apply(this,arguments)}function v(){return(v=(0,u.Z)(function*(A,g){const y=(0,C.m9)(A),ae={requestType:"VERIFY_EMAIL",idToken:yield A.getIdToken()};g&&fe(y.auth,ae,g);const{email:xe}=yield ti(y.auth,ae);xe!==A.email&&(yield A.reload())})).apply(this,arguments)}function D(A,g,y){return B.apply(this,arguments)}function B(){return(B=(0,u.Z)(function*(A,g,y){const O=(0,C.m9)(A),xe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield A.getIdToken(),newEmail:g};y&&fe(O.auth,xe,y);const{email:Lt}=yield Cn(O.auth,xe);Lt!==A.email&&(yield A.reload())})).apply(this,arguments)}function ue(A,g){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,u.Z)(function*(A,g){return an(A,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function it(A,g){return ot.apply(this,arguments)}function ot(){return(ot=(0,u.Z)(function*(A,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const O=(0,C.m9)(A),xe={idToken:yield O.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},Lt=yield bt(O,ue(O.auth,xe));O.displayName=Lt.displayName||null,O.photoURL=Lt.photoUrl||null;const mn=O.providerData.find(({providerId:Yn})=>"password"===Yn);mn&&(mn.displayName=O.displayName,mn.photoURL=O.photoURL),yield O._updateTokensIfNecessary(Lt)})).apply(this,arguments)}function Nt(A,g){return Hn((0,C.m9)(A),g,null)}function Jt(A,g){return Hn((0,C.m9)(A),null,g)}function Hn(A,g,y){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,u.Z)(function*(A,g,y){const{auth:O}=A,xe={idToken:yield A.getIdToken(),returnSecureToken:!0};g&&(xe.email=g),y&&(xe.password=y);const Lt=yield bt(A,zr(O,xe));yield A._updateTokensIfNecessary(Lt,!0)})).apply(this,arguments)}class kr{constructor(g,y,O={}){this.isNewUser=g,this.providerId=y,this.profile=O}}class ur extends kr{constructor(g,y,O,ae){super(g,y,O),this.username=ae}}class Vr extends kr{constructor(g,y){super(g,"facebook.com",y)}}class gi extends ur{constructor(g,y){super(g,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class Di extends kr{constructor(g,y){super(g,"google.com",y)}}class Bi extends ur{constructor(g,y,O){super(g,"twitter.com",y,O)}}function ms(A){const{user:g,_tokenResponse:y}=A;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function br(A){var g,y;if(!A)return null;const{providerId:O}=A,ae=A.rawUserInfo?JSON.parse(A.rawUserInfo):{},xe=A.isNewUser||"identitytoolkit#SignupNewUserResponse"===A.kind;if(!O&&(null==A?void 0:A.idToken)){const Lt=null===(y=null===(g=Mt(A.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(Lt)return new kr(xe,"anonymous"!==Lt&&"custom"!==Lt?Lt:null)}if(!O)return null;switch(O){case"facebook.com":return new Vr(xe,ae);case"github.com":return new gi(xe,ae);case"google.com":return new Di(xe,ae);case"twitter.com":return new Bi(xe,ae,A.screenName||null);case"custom":case"anonymous":return new kr(xe,null);default:return new kr(xe,O,ae)}}(y)}function gs(A,g,y,O){return(0,C.m9)(A).onIdTokenChanged(g,y,O)}function qs(A){return(0,C.m9)(A).signOut()}class Gi{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new Gi("enroll",g)}static _fromMfaPendingCredential(g){return new Gi("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,O;if(null==g?void 0:g.multiFactorSession){if(null===(y=g.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return Gi._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(O=g.multiFactorSession)||void 0===O?void 0:O.idToken)return Gi._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ts{constructor(g,y,O){this.session=g,this.hints=y,this.signInResolver=O}static _fromError(g,y){const O=he(g),ae=y.customData._serverResponse,xe=(ae.mfaInfo||[]).map(mn=>U._fromServerResponse(O,mn));le(ae.mfaPendingCredential,O,"internal-error");const Lt=Gi._fromMfaPendingCredential(ae.mfaPendingCredential);return new ts(Lt,xe,function(){var mn=(0,u.Z)(function*(Yn){const nr=yield Yn._process(O,Lt);delete ae.mfaInfo,delete ae.mfaPendingCredential;const Qr=Object.assign(Object.assign({},ae),{idToken:nr.idToken,refreshToken:nr.refreshToken});switch(y.operationType){case"signIn":const li=yield oi._fromIdTokenResponse(O,y.operationType,Qr);return yield O._updateCurrentUser(li.user),li;case"reauthenticate":return le(y.user,O,"internal-error"),oi._forOperation(y.user,y.operationType,Qr);default:Ut(O,"internal-error")}});return function(Yn){return mn.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,u.Z)(function*(){return y.signInResolver(g)})()}}function vo(A,g){var y;const O=(0,C.m9)(A),ae=g;return le(g.customData.operationType,O,"argument-error"),le(null===(y=ae.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,O,"argument-error"),ts._fromError(O,ae)}function Ho(A,g){return an(A,"POST","/v2/accounts/mfaEnrollment:start",sn(A,g))}class Ar{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(O=>U._fromServerResponse(g.auth,O)))})}static _fromUser(g){return new Ar(g)}getSession(){var g=this;return(0,u.Z)(function*(){return Gi._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var O=this;return(0,u.Z)(function*(){const ae=g,xe=yield O.getSession(),Lt=yield bt(O.user,ae._process(O.user.auth,xe,y));return yield O.user._updateTokensIfNecessary(Lt),O.user.reload()})()}unenroll(g){var y=this;return(0,u.Z)(function*(){const O="string"==typeof g?g:g.uid,ae=yield y.user.getIdToken(),xe=yield bt(y.user,function or(A,g){return an(A,"POST","/v2/accounts/mfaEnrollment:withdraw",sn(A,g))}(y.user.auth,{idToken:ae,mfaEnrollmentId:O}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Lt})=>Lt!==O),yield y.user._updateTokensIfNecessary(xe);try{yield y.user.reload()}catch(Lt){if("auth/user-token-expired"!==Lt.code)throw Lt}})()}}const Tr=new WeakMap;function Ni(A){const g=(0,C.m9)(A);return Tr.has(g)||Tr.set(g,Ar._fromUser(g)),Tr.get(g)}const as="__sak";class ii{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(as,"1"),this.storage.removeItem(as),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const yn=(()=>{class A extends ii{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,O)=>this.onStorageEvent(y,O),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ki(){const A=(0,C.z$)();return se(A)||gt(A)}()&&function Ur(){try{return!(!window||window===window.top)}catch(A){return!1}}(),this.fallbackToPolling=On(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const O of Object.keys(this.listeners)){const ae=this.storage.getItem(O),xe=this.localCache[O];ae!==xe&&y(O,xe,ae)}}onStorageEvent(y,O=!1){if(!y.key)return void this.forAllChangedKeys((mn,Yn,nr)=>{this.notifyListeners(mn,nr)});const ae=y.key;if(O?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const mn=this.storage.getItem(ae);if(y.newValue!==mn)null!==y.newValue?this.storage.setItem(ae,y.newValue):this.storage.removeItem(ae);else if(this.localCache[ae]===y.newValue&&!O)return}const xe=()=>{const mn=this.storage.getItem(ae);!O&&this.localCache[ae]===mn||this.notifyListeners(ae,mn)},Lt=this.storage.getItem(ae);!function xn(){return(0,C.w1)()&&10===document.documentMode}()||Lt===y.newValue||y.newValue===y.oldValue?xe():setTimeout(xe,10)}notifyListeners(y,O){this.localCache[y]=O;const ae=this.listeners[y];if(ae)for(const xe of Array.from(ae))xe(O&&JSON.parse(O))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,O,ae)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:O,newValue:ae}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,O){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(O)}_removeListener(y,O){this.listeners[y]&&(this.listeners[y].delete(O),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,O){var ae=()=>super._set,xe=this;return(0,u.Z)(function*(){yield ae().call(xe,y,O),xe.localCache[y]=JSON.stringify(O)})()}_get(y){var O=()=>super._get,ae=this;return(0,u.Z)(function*(){const xe=yield O().call(ae,y);return ae.localCache[y]=JSON.stringify(xe),xe})()}_remove(y){var O=()=>super._remove,ae=this;return(0,u.Z)(function*(){yield O().call(ae,y),delete ae.localCache[y]})()}}return A.type="LOCAL",A})(),ws=(()=>{class A extends ii{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,O){}_removeListener(y,O){}}return A.type="SESSION",A})();let Xn=(()=>{class A{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const O=this.receivers.find(xe=>xe.isListeningto(y));if(O)return O;const ae=new A(y);return this.receivers.push(ae),ae}isListeningto(y){return this.eventTarget===y}handleEvent(y){var O=this;return(0,u.Z)(function*(){const ae=y,{eventId:xe,eventType:Lt,data:mn}=ae.data,Yn=O.handlersMap[Lt];if(!(null==Yn?void 0:Yn.size))return;ae.ports[0].postMessage({status:"ack",eventId:xe,eventType:Lt});const nr=Array.from(Yn).map(function(){var li=(0,u.Z)(function*(Si){return Si(ae.origin,mn)});return function(Si){return li.apply(this,arguments)}}()),Qr=yield function eo(A){return Promise.all(A.map(function(){var g=(0,u.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(O){return{fulfilled:!1,reason:O}}});return function(y){return g.apply(this,arguments)}}()))}(nr);ae.ports[0].postMessage({status:"done",eventId:xe,eventType:Lt,response:Qr})})()}_subscribe(y,O){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(O)}_unsubscribe(y,O){this.handlersMap[y]&&O&&this.handlersMap[y].delete(O),(!O||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function Cr(A="",g=10){let y="";for(let O=0;O<g;O++)y+=Math.floor(10*Math.random());return A+y}class Sl{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,O=50){var ae=this;return(0,u.Z)(function*(){const xe="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!xe)throw new Error("connection_unavailable");let Lt,mn;return new Promise((Yn,nr)=>{const Qr=Cr("",20);xe.port1.start();const li=setTimeout(()=>{nr(new Error("unsupported_event"))},O);mn={messageChannel:xe,onMessage(Si){const zo=Si;if(zo.data.eventId===Qr)switch(zo.data.status){case"ack":clearTimeout(li),Lt=setTimeout(()=>{nr(new Error("timeout"))},3e3);break;case"done":clearTimeout(Lt),Yn(zo.data.response);break;default:clearTimeout(li),clearTimeout(Lt),nr(new Error("invalid_response"))}}},ae.handlers.add(mn),xe.port1.addEventListener("message",mn.onMessage),ae.target.postMessage({eventType:g,eventId:Qr,data:y},[xe.port2])}).finally(()=>{mn&&ae.removeMessageHandler(mn)})})()}}function An(){return window}function Dn(){return void 0!==An().WorkerGlobalScope&&"function"==typeof An().importScripts}function aa(){return(aa=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(A){return null}})).apply(this,arguments)}const x="firebaseLocalStorageDb",W="firebaseLocalStorage",X="fbase_key";class ve{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Ke(A,g){return A.transaction([W],g?"readwrite":"readonly").objectStore(W)}function Zt(){const A=indexedDB.open(x,1);return new Promise((g,y)=>{A.addEventListener("error",()=>{y(A.error)}),A.addEventListener("upgradeneeded",()=>{const O=A.result;try{O.createObjectStore(W,{keyPath:X})}catch(ae){y(ae)}}),A.addEventListener("success",(0,u.Z)(function*(){const O=A.result;O.objectStoreNames.contains(W)?g(O):(O.close(),yield function lt(){const A=indexedDB.deleteDatabase(x);return new ve(A).toPromise()}(),g(yield Zt()))}))})}function Zn(A,g,y){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(A,g,y){const O=Ke(A,!0).put({[X]:g,value:y});return new ve(O).toPromise()})).apply(this,arguments)}function yi(){return(yi=(0,u.Z)(function*(A,g){const y=Ke(A,!1).get(g),O=yield new ve(y).toPromise();return void 0===O?null:O.value})).apply(this,arguments)}function xr(A,g){const y=Ke(A,!0).delete(g);return new ve(y).toPromise()}const jo=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,u.Z)(function*(){return y.db||(y.db=yield Zt()),y.db})()}_withRetries(y){var O=this;return(0,u.Z)(function*(){let ae=0;for(;;)try{const xe=yield O._openDb();return yield y(xe)}catch(xe){if(ae++>3)throw xe;O.db&&(O.db.close(),O.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,u.Z)(function*(){return Dn()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,u.Z)(function*(){y.receiver=Xn._getInstance(function N(){return Dn()?self:null}()),y.receiver._subscribe("keyChanged",function(){var O=(0,u.Z)(function*(ae,xe){return{keyProcessed:(yield y._poll()).includes(xe.key)}});return function(ae,xe){return O.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var O=(0,u.Z)(function*(ae,xe){return["keyChanged"]});return function(ae,xe){return O.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,u.Z)(function*(){var O,ae;if(y.activeServiceWorker=yield function Ui(){return aa.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Sl(y.activeServiceWorker);const xe=yield y.sender._send("ping",{},800);!xe||(null===(O=xe[0])||void 0===O?void 0:O.fulfilled)&&(null===(ae=xe[0])||void 0===ae?void 0:ae.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var O=this;return(0,u.Z)(function*(){if(O.sender&&O.activeServiceWorker&&function Zo(){var A;return(null===(A=null==navigator?void 0:navigator.serviceWorker)||void 0===A?void 0:A.controller)||null}()===O.activeServiceWorker)try{yield O.sender._send("keyChanged",{key:y},O.serviceWorkerReceiverAvailable?800:50)}catch(ae){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Zt();return yield Zn(y,as,"1"),yield xr(y,as),!0}catch(y){}return!1})()}_withPendingWrite(y){var O=this;return(0,u.Z)(function*(){O.pendingWrites++;try{yield y()}finally{O.pendingWrites--}})()}_set(y,O){var ae=this;return(0,u.Z)(function*(){return ae._withPendingWrite((0,u.Z)(function*(){return yield ae._withRetries(xe=>Zn(xe,y,O)),ae.localCache[y]=O,ae.notifyServiceWorker(y)}))})()}_get(y){var O=this;return(0,u.Z)(function*(){const ae=yield O._withRetries(xe=>function ir(A,g){return yi.apply(this,arguments)}(xe,y));return O.localCache[y]=ae,ae})()}_remove(y){var O=this;return(0,u.Z)(function*(){return O._withPendingWrite((0,u.Z)(function*(){return yield O._withRetries(ae=>xr(ae,y)),delete O.localCache[y],O.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,u.Z)(function*(){const O=yield y._withRetries(Lt=>{const mn=Ke(Lt,!1).getAll();return new ve(mn).toPromise()});if(!O)return[];if(0!==y.pendingWrites)return[];const ae=[],xe=new Set;for(const{fbase_key:Lt,value:mn}of O)xe.add(Lt),JSON.stringify(y.localCache[Lt])!==JSON.stringify(mn)&&(y.notifyListeners(Lt,mn),ae.push(Lt));for(const Lt of Object.keys(y.localCache))y.localCache[Lt]&&!xe.has(Lt)&&(y.notifyListeners(Lt,null),ae.push(Lt));return ae})()}notifyListeners(y,O){this.localCache[y]=O;const ae=this.listeners[y];if(ae)for(const xe of Array.from(ae))xe(O)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,O){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(O)}_removeListener(y,O){this.listeners[y]&&(this.listeners[y].delete(O),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})();function Zs(A,g){return an(A,"POST","/v2/accounts/mfaSignIn:start",sn(A,g))}function hs(){return(hs=(0,u.Z)(function*(A){return(yield an(A,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zl(A){return new Promise((g,y)=>{const O=document.createElement("script");O.setAttribute("src",A),O.onload=g,O.onerror=ae=>{const xe=$e("internal-error");xe.customData=ae,y(xe)},O.type="text/javascript",O.charset="UTF-8",function bo(){var A,g;return null!==(g=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==g?g:document}().appendChild(O)})}function ls(A){return`__${A}${Math.floor(1e6*Math.random())}`}const Pi=1e12;class ho{constructor(g){this.auth=g,this.counter=Pi,this._widgets=new Map}render(g,y){const O=this.counter;return this._widgets.set(O,new Al(g,this.auth.name,y||{})),this.counter++,O}reset(g){var y;const O=g||Pi;null===(y=this._widgets.get(O))||void 0===y||y.delete(),this._widgets.delete(O)}getResponse(g){var y;return(null===(y=this._widgets.get(g||Pi))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,u.Z)(function*(){var O;return null===(O=y._widgets.get(g||Pi))||void 0===O||O.execute(),""})()}}class Al{constructor(g,y,O){this.params=O,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ae="string"==typeof g?document.getElementById(g):g;le(ae,"argument-error",{appName:y}),this.container=ae,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ml(A){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<A;O++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch(O){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(O){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wo=ls("rcb"),Kl=new At(3e4,6e4);class qi{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!An().grecaptcha}load(g,y=""){return le(function Va(A){return A.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(A)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(An().grecaptcha):new Promise((O,ae)=>{const xe=An().setTimeout(()=>{ae($e(g,"network-request-failed"))},Kl.get());An()[wo]=()=>{An().clearTimeout(xe),delete An()[wo];const mn=An().grecaptcha;if(!mn)return void ae($e(g,"internal-error"));const Yn=mn.render;mn.render=(nr,Qr)=>{const li=Yn(nr,Qr);return this.counter++,li},this.hostLanguage=y,O(mn)},zl(`https://www.google.com/recaptcha/api.js??${(0,C.xO)({onload:wo,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(xe),ae($e(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!An().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Gu{load(g){return(0,u.Z)(function*(){return new ho(g)})()}clearedOneInstance(){}}const Wn="recaptcha",yu={theme:"light",type:"image"};class vu{constructor(g,y=Object.assign({},yu),O){this.parameters=y,this.type=Wn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=he(O),this.isInvisible="invisible"===this.parameters.size,le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const ae="string"==typeof g?document.getElementById(g):g;le(ae,this.auth,"argument-error"),this.container=ae,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gu:new qi,this.validateStartingState()}verify(){var g=this;return(0,u.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),O=g.getAssertedRecaptcha();return O.getResponse(y)||new Promise(xe=>{const Lt=mn=>{!mn||(g.tokenChangeListeners.delete(Lt),xe(mn))};g.tokenChangeListeners.add(Lt),g.isInvisible&&O.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(O=>O(y)),"function"==typeof g)g(y);else if("string"==typeof g){const O=An()[g];"function"==typeof O&&O(y)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,u.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const O=document.createElement("div");y.appendChild(O),y=O}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,u.Z)(function*(){le(Kt()&&!Dn(),g.auth,"internal-error"),yield function wa(){let A=null;return new Promise(g=>{"complete"!==document.readyState?(A=()=>g(),window.addEventListener("load",A)):g()}).catch(g=>{throw A&&window.removeEventListener("load",A),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function ol(A){return hs.apply(this,arguments)}(g.auth);le(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ko{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Ji._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function la(A,g,y){return ua.apply(this,arguments)}function ua(){return(ua=(0,u.Z)(function*(A,g,y){const O=he(A),ae=yield fo(O,g,(0,C.m9)(y));return new ko(ae,xe=>Xt(O,xe))})).apply(this,arguments)}function Cs(A,g,y){return js.apply(this,arguments)}function js(){return(js=(0,u.Z)(function*(A,g,y){const O=(0,C.m9)(A);yield j(!1,O,"phone");const ae=yield fo(O.auth,g,(0,C.m9)(y));return new ko(ae,xe=>fi(O,xe))})).apply(this,arguments)}function Ba(A,g,y){return ca.apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(A,g,y){const O=(0,C.m9)(A),ae=yield fo(O.auth,g,(0,C.m9)(y));return new ko(ae,xe=>Hr(O,xe))})).apply(this,arguments)}function fo(A,g,y){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,u.Z)(function*(A,g,y){var O;const ae=yield y.verify();try{let xe;if(le("string"==typeof ae,A,"argument-error"),le(y.type===Wn,A,"argument-error"),xe="string"==typeof g?{phoneNumber:g}:g,"session"in xe){const Lt=xe.session;if("phoneNumber"in xe)return le("enroll"===Lt.type,A,"internal-error"),(yield Ho(A,{idToken:Lt.credential,phoneEnrollmentInfo:{phoneNumber:xe.phoneNumber,recaptchaToken:ae}})).phoneSessionInfo.sessionInfo;{le("signin"===Lt.type,A,"internal-error");const mn=(null===(O=xe.multiFactorHint)||void 0===O?void 0:O.uid)||xe.multiFactorUid;return le(mn,A,"missing-multi-factor-info"),(yield Zs(A,{mfaPendingCredential:Lt.credential,mfaEnrollmentId:mn,phoneSignInInfo:{recaptchaToken:ae}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Lt}=yield Gs(A,{phoneNumber:xe.phoneNumber,recaptchaToken:ae});return Lt}}finally{y._reset()}})).apply(this,arguments)}function no(A,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(A,g){yield os((0,C.m9)(A),g)})).apply(this,arguments)}let Ua=(()=>{class A{constructor(y){this.providerId=A.PROVIDER_ID,this.auth=he(y)}verifyPhoneNumber(y,O){return fo(this.auth,y,(0,C.m9)(O))}static credential(y,O){return Ji._fromVerification(y,O)}static credentialFromResult(y){return A.credentialFromTaggedObject(y)}static credentialFromError(y){return A.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:O,temporaryProof:ae}=y;return O&&ae?Ji._fromTokenResponse(O,ae):null}}return A.PROVIDER_ID="phone",A.PHONE_SIGN_IN_METHOD="phone",A})();function $s(A,g){return g?mt(g):(le(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}class Ca extends er{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ys(g,this._buildIdpRequest())}_linkToIdToken(g,y){return ys(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return ys(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function al(A){return dt(A.auth,new Ca(A),A.bypassAuthState)}function ql(A){const{auth:g,user:y}=A;return le(y,g,"internal-error"),$(y,new Ca(A),A.bypassAuthState)}function Yo(A){return da.apply(this,arguments)}function da(){return(da=(0,u.Z)(function*(A){const{auth:g,user:y}=A;return le(y,g,"internal-error"),os(y,new Ca(A),A.bypassAuthState)})).apply(this,arguments)}class Ms{constructor(g,y,O,ae,xe=!1){this.auth=g,this.resolver=O,this.user=ae,this.bypassAuthState=xe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,u.Z)(function*(O,ae){g.pendingPromise={resolve:O,reject:ae};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(xe){g.reject(xe)}});return function(O,ae){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,u.Z)(function*(){const{urlResponse:O,sessionId:ae,postBody:xe,tenantId:Lt,error:mn,type:Yn}=g;if(mn)return void y.reject(mn);const nr={auth:y.auth,requestUri:O,sessionId:ae,tenantId:Lt||void 0,postBody:xe||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Yn)(nr))}catch(Qr){y.reject(Qr)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return al;case"linkViaPopup":case"linkViaRedirect":return Yo;case"reauthViaPopup":case"reauthViaRedirect":return ql;default:Ut(this.auth,"internal-error")}}resolve(g){kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Co=new At(2e3,1e4);function Qi(A,g,y){return No.apply(this,arguments)}function No(){return(No=(0,u.Z)(function*(A,g,y){const O=he(A);Se(A,g,xi);const ae=$s(O,y);return new xl(O,"signInViaPopup",g,ae).executeNotNull()})).apply(this,arguments)}function Eu(A,g,y){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,u.Z)(function*(A,g,y){const O=(0,C.m9)(A);Se(O.auth,g,xi);const ae=$s(O.auth,y);return new xl(O.auth,"reauthViaPopup",g,ae,O).executeNotNull()})).apply(this,arguments)}function Xo(A,g,y){return $o.apply(this,arguments)}function $o(){return($o=(0,u.Z)(function*(A,g,y){const O=(0,C.m9)(A);Se(O.auth,g,xi);const ae=$s(O.auth,y);return new xl(O.auth,"linkViaPopup",g,ae,O).executeNotNull()})).apply(this,arguments)}let xl=(()=>{class A extends Ms{constructor(y,O,ae,xe,Lt){super(y,O,xe,Lt),this.provider=ae,this.authWindow=null,this.pollId=null,A.currentPopupAction&&A.currentPopupAction.cancel(),A.currentPopupAction=this}executeNotNull(){var y=this;return(0,u.Z)(function*(){const O=yield y.execute();return le(O,y.auth,"internal-error"),O})()}onExecution(){var y=this;return(0,u.Z)(function*(){kt(1===y.filter.length,"Popup operations only handle one event");const O=Cr();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],O),y.authWindow.associatedEvent=O,y.resolver._originValidation(y.auth).catch(ae=>{y.reject(ae)}),y.resolver._isIframeWebStorageSupported(y.auth,ae=>{ae||y.reject($e(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject($e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,A.currentPopupAction=null}pollUserCancellation(){const y=()=>{var O,ae;this.pollId=(null===(ae=null===(O=this.authWindow)||void 0===O?void 0:O.window)||void 0===ae?void 0:ae.closed)?window.setTimeout(()=>{this.pollId=null,this.reject($e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Co.get())};y()}}return A.currentPopupAction=null,A})();const Ns=new Map;class Zl extends Ms{constructor(g,y,O=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,O),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,u.Z)(function*(){let O=Ns.get(y.auth._key());if(!O){try{const xe=(yield function Jo(A,g){return ha.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;O=()=>Promise.resolve(xe)}catch(ae){O=()=>Promise.reject(ae)}Ns.set(y.auth._key(),O)}return y.bypassAuthState||Ns.set(y.auth._key(),()=>Promise.resolve(null)),O()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,O=this;return(0,u.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(O,g);if("unknown"!==g.type){if(g.eventId){const ae=yield O.auth._redirectUserForId(g.eventId);if(ae)return O.user=ae,y().call(O,g);O.resolve(null)}}else O.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function ha(){return(ha=(0,u.Z)(function*(A,g){const y=ll(g),O=na(A);if(!(yield O._isAvailable()))return!1;const ae="true"===(yield O._get(y));return yield O._remove(y),ae})).apply(this,arguments)}function ea(A,g){return ta.apply(this,arguments)}function ta(){return(ta=(0,u.Z)(function*(A,g){return na(A)._set(ll(g),"true")})).apply(this,arguments)}function fa(){Ns.clear()}function na(A){return mt(A._redirectPersistence)}function ll(A){return Ge("pendingRedirect",A.config.apiKey,A.name)}function V(A,g,y){return function q(A,g,y){return ce.apply(this,arguments)}(A,g,y)}function ce(){return(ce=(0,u.Z)(function*(A,g,y){const O=he(A);Se(A,g,xi);const ae=$s(O,y);return yield ea(ae,O),ae._openRedirect(O,g,"signInViaRedirect")})).apply(this,arguments)}function et(A,g,y){return function Ot(A,g,y){return jt.apply(this,arguments)}(A,g,y)}function jt(){return(jt=(0,u.Z)(function*(A,g,y){const O=(0,C.m9)(A);Se(O.auth,g,xi);const ae=$s(O.auth,y);yield ea(ae,O.auth);const xe=yield xs(O);return ae._openRedirect(O.auth,g,"reauthViaRedirect",xe)})).apply(this,arguments)}function Rn(A,g,y){return function jn(A,g,y){return Gr.apply(this,arguments)}(A,g,y)}function Gr(){return(Gr=(0,u.Z)(function*(A,g,y){const O=(0,C.m9)(A);Se(O.auth,g,xi);const ae=$s(O.auth,y);yield j(!1,O,g.providerId),yield ea(ae,O.auth);const xe=yield xs(O);return ae._openRedirect(O.auth,g,"linkViaRedirect",xe)})).apply(this,arguments)}function qr(A,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,u.Z)(function*(A,g){return yield he(A)._initializationPromise,Sr(A,g,!1)})).apply(this,arguments)}function Sr(A,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(A,g,y=!1){const O=he(A),ae=$s(O,g),Lt=yield new Zl(O,ae,y).execute();return Lt&&!y&&(delete Lt.user._redirectEventId,yield O._persistUserIfCurrent(Lt.user),yield O._setRedirectUser(null,g)),Lt})).apply(this,arguments)}function xs(A){return ra.apply(this,arguments)}function ra(){return(ra=(0,u.Z)(function*(A){const g=Cr(`${A.uid}:::`);return A._redirectEventId=g,yield A.auth._setRedirectUser(A),yield A.auth._persistUserIfCurrent(A),g})).apply(this,arguments)}class Rs{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(O=>{this.isEventForConsumer(g,O)&&(y=!0,this.sendToConsumer(g,O),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Da(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ys(A);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var O;if(g.error&&!Ys(g)){const ae=(null===(O=g.error.code)||void 0===O?void 0:O.split("auth/")[1])||"internal-error";y.onError($e(this.auth,ae))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const O=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&O}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wo(g))}saveEventToCache(g){this.cachedEventUids.add(Wo(g)),this.lastProcessedEventTime=Date.now()}}function Wo(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(g=>g).join("-")}function Ys({type:A,error:g}){return"unknown"===A&&"auth/no-auth-event"===(null==g?void 0:g.code)}function ul(A){return cl.apply(this,arguments)}function cl(){return(cl=(0,u.Z)(function*(A,g={}){return an(A,"GET","/v1/projects",g)})).apply(this,arguments)}const Ia=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rl=/^https?/;function Po(){return(Po=(0,u.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:g}=yield ul(A);for(const y of g)try{if(dl(y))return}catch(O){}Ut(A,"unauthorized-domain")})).apply(this,arguments)}function dl(A){const g=ut(),{protocol:y,hostname:O}=new URL(g);if(A.startsWith("chrome-extension://")){const Lt=new URL(A);return""===Lt.hostname&&""===O?"chrome-extension:"===y&&A.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&Lt.hostname===O}if(!Rl.test(y))return!1;if(Ia.test(A))return O===A;const ae=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ae+"|"+ae+")$","i").test(O)}const pa=new At(3e4,6e4);function kl(){const A=An().___jsl;if(null==A?void 0:A.H)for(const g of Object.keys(A.H))if(A.H[g].r=A.H[g].r||[],A.H[g].L=A.H[g].L||[],A.H[g].r=[...A.H[g].L],A.CP)for(let y=0;y<A.CP.length;y++)A.CP[y]=null}let hl=null;function Nl(A){return hl=hl||function Ku(A){return new Promise((g,y)=>{var O,ae,xe;function Lt(){kl(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{kl(),y($e(A,"network-request-failed"))},timeout:pa.get()})}if(null===(ae=null===(O=An().gapi)||void 0===O?void 0:O.iframes)||void 0===ae?void 0:ae.Iframe)g(gapi.iframes.getContext());else{if(!(null===(xe=An().gapi)||void 0===xe?void 0:xe.load)){const mn=ls("iframefcb");return An()[mn]=()=>{gapi.load?Lt():y($e(A,"network-request-failed"))},zl(`https://apis.google.com/js/api.js?onload=${mn}`).catch(Yn=>y(Yn))}Lt()}}).catch(g=>{throw hl=null,g})}(A),hl}const Ta=new At(5e3,15e3),qu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sa(A){const g=A.config;le(g.authDomain,A,"auth-domain-config-required");const y=g.emulator?Bt(g,"emulator/auth/iframe"):`https://${A.config.authDomain}/__/auth/iframe`,O={apiKey:g.apiKey,appName:A.name,v:G.SDK_VERSION},ae=fl.get(A.config.apiHost);ae&&(O.eid=ae);const xe=A._getFrameworks();return xe.length&&(O.fw=xe.join(",")),`${y}?${(0,C.xO)(O).slice(1)}`}function Zu(){return Zu=(0,u.Z)(function*(A){const g=yield Nl(A),y=An().gapi;return le(y,A,"internal-error"),g.open({where:document.body,url:Sa(A),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qu,dontclear:!0},O=>new Promise(function(){var ae=(0,u.Z)(function*(xe,Lt){yield O.restyle({setHideOnLeave:!1});const mn=$e(A,"network-request-failed"),Yn=An().setTimeout(()=>{Lt(mn)},Ta.get());function nr(){An().clearTimeout(Yn),xe(O)}O.ping(nr).then(nr,()=>{Lt(mn)})});return function(xe,Lt){return ae.apply(this,arguments)}}()))}),Zu.apply(this,arguments)}const ia={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Io{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Qu(A,g,y,O,ae,xe){le(A.config.authDomain,A,"auth-domain-config-required"),le(A.config.apiKey,A,"invalid-api-key");const Lt={apiKey:A.config.apiKey,appName:A.name,authType:y,redirectUrl:O,v:G.SDK_VERSION,eventId:ae};if(g instanceof xi){g.setDefaultLanguage(A.languageCode),Lt.providerId=g.providerId||"",(0,C.xb)(g.getCustomParameters())||(Lt.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Yn,nr]of Object.entries(xe||{}))Lt[Yn]=nr}if(g instanceof Ri){const Yn=g.getScopes().filter(nr=>""!==nr);Yn.length>0&&(Lt.scopes=Yn.join(","))}A.tenantId&&(Lt.tid=A.tenantId);const mn=Lt;for(const Yn of Object.keys(mn))void 0===mn[Yn]&&delete mn[Yn];return`${function Qc({config:A}){return A.emulator?Bt(A,"emulator/auth/handler"):`https://${A.authDomain}/__/auth/handler`}(A)}?${(0,C.xO)(mn).slice(1)}`}const Ts="webStorageSupport",ma=class po{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ws,this._completeRedirectFn=Sr}_openPopup(g,y,O,ae){var xe=this;return(0,u.Z)(function*(){var Lt;kt(null===(Lt=xe.eventManagers[g._key()])||void 0===Lt?void 0:Lt.manager,"_initialize() not called before _openPopup()");const mn=Qu(g,y,O,ut(),ae);return function Ya(A,g,y,O=500,ae=600){const xe=Math.max((window.screen.availHeight-ae)/2,0).toString(),Lt=Math.max((window.screen.availWidth-O)/2,0).toString();let mn="";const Yn=Object.assign(Object.assign({},ia),{width:O.toString(),height:ae.toString(),top:xe,left:Lt}),nr=(0,C.z$)().toLowerCase();y&&(mn=_e(nr)?"_blank":y),Re(nr)&&(g=g||"http://localhost",Yn.scrollbars="yes");const Qr=Object.entries(Yn).reduce((Si,[zo,ga])=>`${Si}${zo}=${ga},`,"");if(function hn(A=(0,C.z$)()){var g;return gt(A)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(nr)&&"_self"!==mn)return function Qa(A,g){const y=document.createElement("a");y.href=A,y.target=g;const O=document.createEvent("MouseEvent");O.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(O)}(g||"",mn),new Io(null);const li=window.open(g||"",mn,Qr);le(li,A,"popup-blocked");try{li.focus()}catch(Si){}return new Io(li)}(g,mn,Cr())})()}_openRedirect(g,y,O,ae){var xe=this;return(0,u.Z)(function*(){return yield xe._originValidation(g),function zt(A){An().location.href=A}(Qu(g,y,O,ut(),ae)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:ae,promise:xe}=this.eventManagers[y];return ae?Promise.resolve(ae):(kt(xe,"If manager is not set, promise should be"),xe)}const O=this.initAndGetManager(g);return this.eventManagers[y]={promise:O},O.catch(()=>{delete this.eventManagers[y]}),O}initAndGetManager(g){var y=this;return(0,u.Z)(function*(){const O=yield function Ha(A){return Zu.apply(this,arguments)}(g),ae=new Rs(g);return O.register("authEvent",xe=>(le(null==xe?void 0:xe.authEvent,g,"invalid-auth-event"),{status:ae.onEvent(xe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:ae},y.iframes[g._key()]=O,ae})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Ts,{type:Ts},ae=>{var xe;const Lt=null===(xe=null==ae?void 0:ae[0])||void 0===xe?void 0:xe[Ts];void 0!==Lt&&y(!!Lt),Ut(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Ol(A){return Po.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return On()||se()||gt()}};class Xl extends class Xu{constructor(g){this.factorId=g}_process(g,y,O){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,O);case"signin":return this._finalizeSignIn(g,y.credential);default:return Tt("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Xl(g)}_finalizeEnroll(g,y,O){return function Nn(A,g){return an(A,"POST","/v2/accounts/mfaEnrollment:finalize",sn(A,g))}(g,{idToken:y,displayName:O,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function vi(A,g){return an(A,"POST","/v2/accounts/mfaSignIn:finalize",sn(A,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ju=(()=>{class A{constructor(){}static assertion(y){return Xl._fromCredential(y)}}return A.FACTOR_ID="phone",A})();var Fl="@firebase/auth",ec="0.19.12";class ml{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,u.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(O=>{var ae;g((null===(ae=O)||void 0===ae?void 0:ae.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Dc(A=(0,G.getApp)()){const g=(0,G._getProvider)(A,"auth");return g.isInitialized()?g.getImmediate():function Ct(A,g){const y=(0,G._getProvider)(A,"auth");if(y.isInitialized()){const ae=y.getImmediate(),xe=y.getOptions();if((0,C.vZ)(xe,null!=g?g:{}))return ae;Ut(ae,"already-initialized")}return y.initialize({options:g})}(A,{popupRedirectResolver:ma,persistence:[jo,yn,ws]})}!function Cc(A){(0,G._registerComponent)(new Ue.wA("auth",(g,{options:y})=>{const O=g.getProvider("app").getImmediate(),ae=g.getProvider("heartbeat"),{apiKey:xe,authDomain:Lt}=O.options;return((mn,Yn)=>{le(xe&&!xe.includes(":"),"invalid-api-key",{appName:mn.name}),le(!(null==Lt?void 0:Lt.includes(":")),"argument-error",{appName:mn.name});const nr={apiKey:xe,authDomain:Lt,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$r(A)},Qr=new bi(mn,Yn,nr);return function xt(A,g){const y=(null==g?void 0:g.persistence)||[],O=(Array.isArray(y)?y:[y]).map(mt);(null==g?void 0:g.errorMap)&&A._updateErrorMap(g.errorMap),A._initializeWithPersistence(O,null==g?void 0:g.popupRedirectResolver)}(Qr,y),Qr})(O,ae)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,O)=>{g.getProvider("auth-internal").initialize()})),(0,G._registerComponent)(new Ue.wA("auth-internal",g=>{const y=he(g.getProvider("auth").getImmediate());return new ml(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,G.registerVersion)(Fl,ec,function Xa(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(A)),(0,G.registerVersion)(Fl,ec,"esm2017")}("Browser")},1627:(fn,ht,S)=>{S.d(ht,{vA:()=>Xc,JH:()=>Ai,G$:()=>es,tn:()=>sa,wj:()=>id,AM:()=>ke,FQ:()=>Ha,mI:()=>ia,iU:()=>ja,dH:()=>nh,U7:()=>rh,Wu:()=>Yd,Lx:()=>hf,EW:()=>yf,U2:()=>Sc,N8:()=>bf,Sb:()=>nc,$o:()=>ad,nP:()=>wf,Kk:()=>pf,vh:()=>gf,S1:()=>ed,yv:()=>qd,Jr:()=>Zd,Vt:()=>df,MQ:()=>Cu,jM:()=>Jc,g2:()=>Go,R:()=>Jd,HE:()=>eh,Bd:()=>th,VF:()=>zp,IO:()=>vf,iH:()=>Kd,qT:()=>uf,Od:()=>To,i3:()=>Tu,Bt:()=>ud,t8:()=>_l,Sl:()=>Fo,cy:()=>iu,TQ:()=>Du,e0:()=>rd,Vx:()=>$a});var u=S(5861),C=S(9681),G=S(4859),z=S(2090),Ce=S(1877);const Ue="@firebase/database";let ge="";function ke(f){ge=f}class me{constructor(c){this.domStorage_=c,this.prefix_="firebase:"}set(c,d){null==d?this.domStorage_.removeItem(this.prefixedName_(c)):this.domStorage_.setItem(this.prefixedName_(c),(0,z.Pz)(d))}get(c){const d=this.domStorage_.getItem(this.prefixedName_(c));return null==d?null:(0,z.cI)(d)}remove(c){this.domStorage_.removeItem(this.prefixedName_(c))}prefixedName_(c){return this.prefix_+c}toString(){return this.domStorage_.toString()}}class Te{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(c,d){null==d?delete this.cache_[c]:this.cache_[c]=d}get(c){return(0,z.r3)(this.cache_,c)?this.cache_[c]:null}remove(c){delete this.cache_[c]}}const Fe=function(f){try{if("undefined"!=typeof window&&void 0!==window[f]){const c=window[f];return c.setItem("firebase:sentinel","cache"),c.removeItem("firebase:sentinel"),new me(c)}}catch(c){}return new Te},Xe=Fe("localStorage"),tt=Fe("sessionStorage"),Ze=new Ce.Yd("@firebase/database"),Dt=function(){let f=1;return function(){return f++}}(),Je=function(f){const c=(0,z.dS)(f),d=new z.gQ;d.update(c);const _=d.digest();return z.US.encodeByteArray(_)},pt=function(...f){let c="";for(let d=0;d<f.length;d++){const _=f[d];Array.isArray(_)||_&&"object"==typeof _&&"number"==typeof _.length?c+=pt.apply(null,_):c+="object"==typeof _?(0,z.Pz)(_):_,c+=" "}return c};let Ye=null,Ut=!0;const $e=function(f,c){(0,z.hu)(!c||!0===f||!1===f,"Can't turn on custom loggers persistently."),!0===f?(Ze.logLevel=Ce.in.VERBOSE,Ye=Ze.log.bind(Ze),c&&tt.set("logging_enabled",!0)):"function"==typeof f?Ye=f:(Ye=null,tt.remove("logging_enabled"))},De=function(...f){if(!0===Ut&&(Ut=!1,null===Ye&&!0===tt.get("logging_enabled")&&$e(!0)),Ye){const c=pt.apply(null,f);Ye(c)}},Se=function(f){return function(...c){De(f,...c)}},Le=function(...f){const c="FIREBASE INTERNAL ERROR: "+pt(...f);Ze.error(c)},le=function(...f){const c=`FIREBASE FATAL ERROR: ${pt(...f)}`;throw Ze.error(c),new Error(c)},Tt=function(...f){const c="FIREBASE WARNING: "+pt(...f);Ze.warn(c)},_t=function(f){return"number"==typeof f&&(f!=f||f===Number.POSITIVE_INFINITY||f===Number.NEGATIVE_INFINITY)},Ct="[MIN_NAME]",xt="[MAX_NAME]",ut=function(f,c){if(f===c)return 0;if(f===Ct||c===xt)return-1;if(c===Ct||f===xt)return 1;{const d=vr(f),_=vr(c);return null!==d?null!==_?d-_==0?f.length-c.length:d-_:-1:null!==_?1:f<c?-1:1}},Kt=function(f,c){return f===c?0:f<c?-1:1},tn=function(f,c){if(c&&f in c)return c[f];throw new Error("Missing required key ("+f+") in object: "+(0,z.Pz)(c))},dn=function(f){if("object"!=typeof f||null===f)return(0,z.Pz)(f);const c=[];for(const _ in f)c.push(_);c.sort();let d="{";for(let _=0;_<c.length;_++)0!==_&&(d+=","),d+=(0,z.Pz)(c[_]),d+=":",d+=dn(f[c[_]]);return d+="}",d},rn=function(f,c){const d=f.length;if(d<=c)return[f];const _=[];for(let T=0;T<d;T+=c)_.push(f.substring(T,T+c>d?d:T+c));return _};function At(f,c){for(const d in f)f.hasOwnProperty(d)&&c(d,f[d])}const Bt=function(f){(0,z.hu)(!_t(f),"Invalid JSON number");const _=1023;let T,H,Y,Ie,qe;0===f?(H=0,Y=0,T=1/f==-1/0?1:0):(T=f<0,(f=Math.abs(f))>=Math.pow(2,1-_)?(Ie=Math.min(Math.floor(Math.log(f)/Math.LN2),_),H=Ie+_,Y=Math.round(f*Math.pow(2,52-Ie)-Math.pow(2,52))):(H=0,Y=Math.round(f/Math.pow(2,-1074))));const ft=[];for(qe=52;qe;qe-=1)ft.push(Y%2?1:0),Y=Math.floor(Y/2);for(qe=11;qe;qe-=1)ft.push(H%2?1:0),H=Math.floor(H/2);ft.push(T?1:0),ft.reverse();const Yt=ft.join("");let $t="";for(qe=0;qe<64;qe+=8){let gn=parseInt(Yt.substr(qe,8),2).toString(16);1===gn.length&&(gn="0"+gn),$t+=gn}return $t.toLowerCase()},sn=new RegExp("^-?(0*)\\d{1,10}$"),an=-2147483648,Gn=2147483647,vr=function(f){if(sn.test(f)){const c=Number(f);if(c>=an&&c<=Gn)return c}return null},Kn=function(f){try{f()}catch(c){setTimeout(()=>{throw Tt("Exception was thrown by user callback.",c.stack||""),c},Math.floor(0))}},sr=function(f,c){const d=setTimeout(f,c);return"object"==typeof d&&d.unref&&d.unref(),d};class Pn{constructor(c,d){this.appName_=c,this.appCheckProvider=d,this.appCheck=null==d?void 0:d.getImmediate({optional:!0}),this.appCheck||null==d||d.get().then(_=>this.appCheck=_)}getToken(c){return this.appCheck?this.appCheck.getToken(c):new Promise((d,_)=>{setTimeout(()=>{this.appCheck?this.getToken(c).then(d,_):d(null)},0)})}addTokenChangeListener(c){var d;null===(d=this.appCheckProvider)||void 0===d||d.get().then(_=>_.addTokenListener(c))}notifyForInvalidToken(){Tt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class mr{constructor(c,d,_){this.appName_=c,this.firebaseOptions_=d,this.authProvider_=_,this.auth_=null,this.auth_=_.getImmediate({optional:!0}),this.auth_||_.onInit(T=>this.auth_=T)}getToken(c){return this.auth_?this.auth_.getToken(c).catch(d=>d&&"auth/token-not-initialized"===d.code?(De("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(d)):new Promise((d,_)=>{setTimeout(()=>{this.auth_?this.getToken(c).then(d,_):d(null)},0)})}addTokenChangeListener(c){this.auth_?this.auth_.addAuthTokenListener(c):this.authProvider_.get().then(d=>d.addAuthTokenListener(c))}removeTokenChangeListener(c){this.authProvider_.get().then(d=>d.removeAuthTokenListener(c))}notifyForInvalidToken(){let c='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';c+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tt(c)}}let dr=(()=>{class f{constructor(d){this.accessToken=d}getToken(d){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(d){d(this.accessToken)}removeTokenChangeListener(d){}notifyForInvalidToken(){}}return f.OWNER="owner",f})();const hr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Et="websocket",Qe="long_polling";class Mt{constructor(c,d,_,T,H=!1,Y="",Ie=!1){this.secure=d,this.namespace=_,this.webSocketOnly=T,this.nodeAdmin=H,this.persistenceKey=Y,this.includeNamespaceInQueryParams=Ie,this._host=c.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xe.get("host:"+c)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(c){c!==this.internalHost&&(this.internalHost=c,this.isCacheableHost()&&Xe.set("host:"+this._host,this.internalHost))}toString(){let c=this.toURLString();return this.persistenceKey&&(c+="<"+this.persistenceKey+">"),c}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function bt(f,c,d){let _;if((0,z.hu)("string"==typeof c,"typeof type must == string"),(0,z.hu)("object"==typeof d,"typeof params must == object"),c===Et)_=(f.secure?"wss://":"ws://")+f.internalHost+"/.ws?";else{if(c!==Qe)throw new Error("Unknown connection type: "+c);_=(f.secure?"https://":"http://")+f.internalHost+"/.lp?"}(function Ve(f){return f.host!==f.internalHost||f.isCustomHost()||f.includeNamespaceInQueryParams})(f)&&(d.ns=f.namespace);const T=[];return At(d,(H,Y)=>{T.push(H+"="+Y)}),_+T.join("&")}class wn{constructor(){this.counters_={}}incrementCounter(c,d=1){(0,z.r3)(this.counters_,c)||(this.counters_[c]=0),this.counters_[c]+=d}get(){return(0,z.p$)(this.counters_)}}const cn={},Mn={};function wr(f){const c=f.toString();return cn[c]||(cn[c]=new wn),cn[c]}class tr{constructor(c){this.onMessage_=c,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(c,d){this.closeAfterResponse=c,this.onClose=d,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(c,d){for(this.pendingResponses[c]=d;this.pendingResponses[this.currentResponseNum];){const _=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let T=0;T<_.length;++T)_[T]&&Kn(()=>{this.onMessage_(_[T])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class J{constructor(c,d,_,T,H,Y,Ie){this.connId=c,this.repoInfo=d,this.applicationId=_,this.appCheckToken=T,this.authToken=H,this.transportSessionId=Y,this.lastSessionId=Ie,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Se(c),this.stats_=wr(d),this.urlFn=qe=>(this.appCheckToken&&(qe.ac=this.appCheckToken),bt(d,Qe,qe))}open(c,d){this.curSegmentNum=0,this.onDisconnect_=d,this.myPacketOrderer=new tr(c),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(f){if((0,z.Yr)()||"complete"===document.readyState)f();else{let c=!1;const d=function(){document.body?c||(c=!0,f()):setTimeout(d,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",d,!1),window.addEventListener("load",d,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&d()}),window.attachEvent("onload",d))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Q((...H)=>{const[Y,Ie,qe,ft,Yt]=H;if(this.incrementIncomingBytes_(H),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===Y)this.id=Ie,this.password=qe;else{if("close"!==Y)throw new Error("Unrecognized command received: "+Y);Ie?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Ie,()=>{this.onClosed_()})):this.onClosed_()}},(...H)=>{const[Y,Ie]=H;this.incrementIncomingBytes_(H),this.myPacketOrderer.handleResponse(Y,Ie)},()=>{this.onClosed_()},this.urlFn);const _={start:"t"};_.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(_.cb=this.scriptTagHolder.uniqueCallbackIdentifier),_.v="5",this.transportSessionId&&(_.s=this.transportSessionId),this.lastSessionId&&(_.ls=this.lastSessionId),this.applicationId&&(_.p=this.applicationId),this.appCheckToken&&(_.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&hr.test(location.hostname)&&(_.r="f");const T=this.urlFn(_);this.log_("Connecting via long-poll to "+T),this.scriptTagHolder.addTag(T,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){J.forceAllow_=!0}static forceDisallow(){J.forceDisallow_=!0}static isAvailable(){return!((0,z.Yr)()||!J.forceAllow_&&(J.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(c){const d=(0,z.Pz)(c);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const _=(0,z.h$)(d),T=rn(_,1840);for(let H=0;H<T.length;H++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,T.length,T[H]),this.curSegmentNum++}addDisconnectPingFrame(c,d){if((0,z.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const _={dframe:"t"};_.id=c,_.pw=d,this.myDisconnFrame.src=this.urlFn(_),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(c){const d=(0,z.Pz)(c).length;this.bytesReceived+=d,this.stats_.incrementCounter("bytes_received",d)}}class Q{constructor(c,d,_,T){if(this.onDisconnect=_,this.urlFn=T,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,z.Yr)())this.commandCB=c,this.onMessageCB=d;else{this.uniqueCallbackIdentifier=Dt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=c,window["pRTLPCB"+this.uniqueCallbackIdentifier]=d,this.myIFrame=Q.createIFrame_();let H="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(H='<script>document.domain="'+document.domain+'";<\/script>');const Y="<html><body>"+H+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(Y),this.myIFrame.doc.close()}catch(Ie){De("frame writing exception"),Ie.stack&&De(Ie.stack),De(Ie)}}}static createIFrame_(){const c=document.createElement("iframe");if(c.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(c);try{c.contentWindow.document||De("No IE domain setting required")}catch(d){const _=document.domain;c.src="javascript:void((function(){document.open();document.domain='"+_+"';document.close();})())"}return c.contentDocument?c.doc=c.contentDocument:c.contentWindow?c.doc=c.contentWindow.document:c.document&&(c.doc=c.document),c}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const c=this.onDisconnect;c&&(this.onDisconnect=null,c())}startLongPoll(c,d){for(this.myID=c,this.myPW=d,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const c={};c.id=this.myID,c.pw=this.myPW,c.ser=this.currentSerial;let d=this.urlFn(c),_="",T=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+_.length<=1870;){const Y=this.pendingSegs.shift();_=_+"&seg"+T+"="+Y.seg+"&ts"+T+"="+Y.ts+"&d"+T+"="+Y.d,T++}return d+=_,this.addLongPollTag_(d,this.currentSerial),!0}return!1}enqueueSegment(c,d,_){this.pendingSegs.push({seg:c,ts:d,d:_}),this.alive&&this.newRequest_()}addLongPollTag_(c,d){this.outstandingRequests.add(d);const _=()=>{this.outstandingRequests.delete(d),this.newRequest_()},T=setTimeout(_,Math.floor(25e3));this.addTag(c,()=>{clearTimeout(T),_()})}addTag(c,d){(0,z.Yr)()?this.doNodeLongPoll(c,d):setTimeout(()=>{try{if(!this.sendNewPolls)return;const _=this.myIFrame.doc.createElement("script");_.type="text/javascript",_.async=!0,_.src=c,_.onload=_.onreadystatechange=function(){const T=_.readyState;(!T||"loaded"===T||"complete"===T)&&(_.onload=_.onreadystatechange=null,_.parentNode&&_.parentNode.removeChild(_),d())},_.onerror=()=>{De("Long-poll script failed to load: "+c),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(_)}catch(_){}},Math.floor(1))}}let gt=null;"undefined"!=typeof MozWebSocket?gt=MozWebSocket:"undefined"!=typeof WebSocket&&(gt=WebSocket);let Ht=(()=>{class f{constructor(d,_,T,H,Y,Ie,qe){this.connId=d,this.applicationId=T,this.appCheckToken=H,this.authToken=Y,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Se(this.connId),this.stats_=wr(_),this.connURL=f.connectionURL_(_,Ie,qe,H),this.nodeAdmin=_.nodeAdmin}static connectionURL_(d,_,T,H){const Y={v:"5"};return!(0,z.Yr)()&&"undefined"!=typeof location&&location.hostname&&hr.test(location.hostname)&&(Y.r="f"),_&&(Y.s=_),T&&(Y.ls=T),H&&(Y.ac=H),bt(d,Et,Y)}open(d,_){this.onDisconnect=_,this.onMessage=d,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xe.set("previous_websocket_failure",!0);try{if((0,z.Yr)()){const H={headers:{"User-Agent":`Firebase/5/${ge}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(H.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(H.headers["X-Firebase-AppCheck"]=this.appCheckToken);const Y=process.env,Ie=0===this.connURL.indexOf("wss://")?Y.HTTPS_PROXY||Y.https_proxy:Y.HTTP_PROXY||Y.http_proxy;Ie&&(H.proxy={origin:Ie}),this.mySock=new gt(this.connURL,[],H)}else this.mySock=new gt(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(T){this.log_("Error instantiating WebSocket.");const H=T.message||T.data;return H&&this.log_(H),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=T=>{this.handleIncomingFrame(T)},this.mySock.onerror=T=>{this.log_("WebSocket error.  Closing connection.");const H=T.message||T.data;H&&this.log_(H),this.onClosed_()}}start(){}static forceDisallow(){f.forceDisallow_=!0}static isAvailable(){let d=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const T=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);T&&T.length>1&&parseFloat(T[1])<4.4&&(d=!0)}return!d&&null!==gt&&!f.forceDisallow_}static previouslyFailed(){return Xe.isInMemoryStorage||!0===Xe.get("previous_websocket_failure")}markConnectionHealthy(){Xe.remove("previous_websocket_failure")}appendFrame_(d){if(this.frames.push(d),this.frames.length===this.totalFrames){const _=this.frames.join("");this.frames=null;const T=(0,z.cI)(_);this.onMessage(T)}}handleNewFrameCount_(d){this.totalFrames=d,this.frames=[]}extractFrameCount_(d){if((0,z.hu)(null===this.frames,"We already have a frame buffer"),d.length<=6){const _=Number(d);if(!isNaN(_))return this.handleNewFrameCount_(_),null}return this.handleNewFrameCount_(1),d}handleIncomingFrame(d){if(null===this.mySock)return;const _=d.data;if(this.bytesReceived+=_.length,this.stats_.incrementCounter("bytes_received",_.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(_);else{const T=this.extractFrameCount_(_);null!==T&&this.appendFrame_(T)}}send(d){this.resetKeepAlive();const _=(0,z.Pz)(d);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);const T=rn(_,16384);T.length>1&&this.sendString_(String(T.length));for(let H=0;H<T.length;H++)this.sendString_(T[H])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(d){try{this.mySock.send(d)}catch(_){this.log_("Exception thrown from WebSocket.send():",_.message||_.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return f.responsesRequiredToBeHealthy=2,f.healthyTimeout=3e4,f})();class hn{constructor(c){this.initTransports_(c)}static get ALL_TRANSPORTS(){return[J,Ht]}initTransports_(c){const d=Ht&&Ht.isAvailable();let _=d&&!Ht.previouslyFailed();if(c.webSocketOnly&&(d||Tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),_=!0),_)this.transports_=[Ht];else{const T=this.transports_=[];for(const H of hn.ALL_TRANSPORTS)H&&H.isAvailable()&&T.push(H)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class lr{constructor(c,d,_,T,H,Y,Ie,qe,ft,Yt){this.id=c,this.repoInfo_=d,this.applicationId_=_,this.appCheckToken_=T,this.authToken_=H,this.onMessage_=Y,this.onReady_=Ie,this.onDisconnect_=qe,this.onKill_=ft,this.lastSessionId=Yt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Se("c:"+this.id+":"),this.transportManager_=new hn(d),this.log_("Connection created"),this.start_()}start_(){const c=this.transportManager_.initialTransport();this.conn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.conn_),_=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(d,_)},Math.floor(0));const T=c.healthyTimeout||0;T>0&&(this.healthyTimeout_=sr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(T)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(c){return d=>{c===this.conn_?this.onConnectionLost_(d):c===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(c){return d=>{2!==this.state_&&(c===this.rx_?this.onPrimaryMessageReceived_(d):c===this.secondaryConn_?this.onSecondaryMessageReceived_(d):this.log_("message on old connection"))}}sendRequest(c){this.sendData_({t:"d",d:c})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(c){if("t"in c){const d=c.t;"a"===d?this.upgradeIfSecondaryHealthy_():"r"===d?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===d&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(c){const d=tn("t",c),_=tn("d",c);if("c"===d)this.onSecondaryControl_(_);else{if("d"!==d)throw new Error("Unknown protocol layer: "+d);this.pendingDataMessages.push(_)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(c){const d=tn("t",c),_=tn("d",c);"c"===d?this.onControl_(_):"d"===d&&this.onDataMessage_(_)}onDataMessage_(c){this.onPrimaryResponse_(),this.onMessage_(c)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(c){const d=tn("t",c);if("d"in c){const _=c.d;if("h"===d)this.onHandshake_(_);else if("n"===d){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let T=0;T<this.pendingDataMessages.length;++T)this.onDataMessage_(this.pendingDataMessages[T]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===d?this.onConnectionShutdown_(_):"r"===d?this.onReset_(_):"e"===d?Le("Server Error: "+_):"o"===d?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Le("Unknown control packet command: "+d)}}onHandshake_(c){const d=c.ts,_=c.v,T=c.h;this.sessionId=c.s,this.repoInfo_.host=T,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,d),"5"!==_&&Tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const c=this.transportManager_.upgradeTransport();c&&this.startUpgrade_(c)}startUpgrade_(c){this.secondaryConn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.secondaryConn_),_=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(d,_),sr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(c){this.log_("Reset packet received.  New host: "+c),this.repoInfo_.host=c,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(c,d){this.log_("Realtime connection established."),this.conn_=c,this.state_=1,this.onReady_&&(this.onReady_(d,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):sr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const c=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===c||this.rx_===c)&&this.close()}onConnectionLost_(c){this.conn_=null,c||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xe.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(c){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(c),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(c){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(c)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class zr{put(c,d,_,T){}merge(c,d,_,T){}refreshAuthToken(c){}refreshAppCheckToken(c){}onDisconnectPut(c,d,_){}onDisconnectMerge(c,d,_){}onDisconnectCancel(c,d){}reportStats(c){}}class qn{constructor(c){this.allowedEvents_=c,this.listeners_={},(0,z.hu)(Array.isArray(c)&&c.length>0,"Requires a non-empty array")}trigger(c,...d){if(Array.isArray(this.listeners_[c])){const _=[...this.listeners_[c]];for(let T=0;T<_.length;T++)_[T].callback.apply(_[T].context,d)}}on(c,d,_){this.validateEventType_(c),this.listeners_[c]=this.listeners_[c]||[],this.listeners_[c].push({callback:d,context:_});const T=this.getInitialEvent(c);T&&d.apply(_,T)}off(c,d,_){this.validateEventType_(c);const T=this.listeners_[c]||[];for(let H=0;H<T.length;H++)if(T[H].callback===d&&(!_||_===T[H].context))return void T.splice(H,1)}validateEventType_(c){(0,z.hu)(this.allowedEvents_.find(d=>d===c),"Unknown event: "+c)}}class Rr extends qn{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,z.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Rr}getInitialEvent(c){return(0,z.hu)("online"===c,"Unknown event type: "+c),[this.online_]}currentlyOnline(){return this.online_}}class fr{constructor(c,d){if(void 0===d){this.pieces_=c.split("/");let _=0;for(let T=0;T<this.pieces_.length;T++)this.pieces_[T].length>0&&(this.pieces_[_]=this.pieces_[T],_++);this.pieces_.length=_,this.pieceNum_=0}else this.pieces_=c,this.pieceNum_=d}toString(){let c="";for(let d=this.pieceNum_;d<this.pieces_.length;d++)""!==this.pieces_[d]&&(c+="/"+this.pieces_[d]);return c||"/"}}function Vn(){return new fr("")}function pr(f){return f.pieceNum_>=f.pieces_.length?null:f.pieces_[f.pieceNum_]}function ti(f){return f.pieces_.length-f.pieceNum_}function ct(f){let c=f.pieceNum_;return c<f.pieces_.length&&c++,new fr(f.pieces_,c)}function st(f){return f.pieceNum_<f.pieces_.length?f.pieces_[f.pieces_.length-1]:null}function on(f,c=0){return f.pieces_.slice(f.pieceNum_+c)}function ln(f){if(f.pieceNum_>=f.pieces_.length)return null;const c=[];for(let d=f.pieceNum_;d<f.pieces_.length-1;d++)c.push(f.pieces_[d]);return new fr(c,0)}function Cn(f,c){const d=[];for(let _=f.pieceNum_;_<f.pieces_.length;_++)d.push(f.pieces_[_]);if(c instanceof fr)for(let _=c.pieceNum_;_<c.pieces_.length;_++)d.push(c.pieces_[_]);else{const _=c.split("/");for(let T=0;T<_.length;T++)_[T].length>0&&d.push(_[T])}return new fr(d,0)}function Un(f){return f.pieceNum_>=f.pieces_.length}function Mr(f,c){const d=pr(f),_=pr(c);if(null===d)return c;if(d===_)return Mr(ct(f),ct(c));throw new Error("INTERNAL ERROR: innerPath ("+c+") is not within outerPath ("+f+")")}function Fr(f,c){const d=on(f,0),_=on(c,0);for(let T=0;T<d.length&&T<_.length;T++){const H=ut(d[T],_[T]);if(0!==H)return H}return d.length===_.length?0:d.length<_.length?-1:1}function mi(f,c){if(ti(f)!==ti(c))return!1;for(let d=f.pieceNum_,_=c.pieceNum_;d<=f.pieces_.length;d++,_++)if(f.pieces_[d]!==c.pieces_[_])return!1;return!0}function Ci(f,c){let d=f.pieceNum_,_=c.pieceNum_;if(ti(f)>ti(c))return!1;for(;d<f.pieces_.length;){if(f.pieces_[d]!==c.pieces_[_])return!1;++d,++_}return!0}class ns{constructor(c,d){this.errorPrefix_=d,this.parts_=on(c,0),this.byteLength_=Math.max(1,this.parts_.length);for(let _=0;_<this.parts_.length;_++)this.byteLength_+=(0,z.ug)(this.parts_[_]);Mo(this)}}function Mo(f){if(f.byteLength_>768)throw new Error(f.errorPrefix_+"has a key path longer than 768 bytes ("+f.byteLength_+").");if(f.parts_.length>32)throw new Error(f.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Mi(f))}function Mi(f){return 0===f.parts_.length?"":"in property '"+f.parts_.join(".")+"'"}class Gs extends qn{constructor(){let c,d;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(d="visibilitychange",c="hidden"):void 0!==document.mozHidden?(d="mozvisibilitychange",c="mozHidden"):void 0!==document.msHidden?(d="msvisibilitychange",c="msHidden"):void 0!==document.webkitHidden&&(d="webkitvisibilitychange",c="webkitHidden")),this.visible_=!0,d&&document.addEventListener(d,()=>{const _=!document[c];_!==this.visible_&&(this.visible_=_,this.trigger("visible",_))},!1)}static getInstance(){return new Gs}getInitialEvent(c){return(0,z.hu)("visible"===c,"Unknown event type: "+c),[this.visible_]}}const vs=1e3;let rs,Ji=(()=>{class f extends zr{constructor(d,_,T,H,Y,Ie,qe,ft){if(super(),this.repoInfo_=d,this.applicationId_=_,this.onDataUpdate_=T,this.onConnectStatus_=H,this.onServerInfoUpdate_=Y,this.authTokenProvider_=Ie,this.appCheckTokenProvider_=qe,this.authOverride_=ft,this.id=f.nextPersistentConnectionId_++,this.log_=Se("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=vs,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ft&&!(0,z.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gs.getInstance().on("visible",this.onVisible_,this),-1===d.host.indexOf("fblocal")&&Rr.getInstance().on("online",this.onOnline_,this)}sendRequest(d,_,T){const H=++this.requestNumber_,Y={r:H,a:d,b:_};this.log_((0,z.Pz)(Y)),(0,z.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(Y),T&&(this.requestCBHash_[H]=T)}get(d){this.initConnection_();const _=new z.BH,T={p:d._path.toString(),q:d._queryObject},H={action:"g",request:T,onComplete:Ie=>{const qe=Ie.d;"ok"===Ie.s?(this.onDataUpdate_(T.p,qe,!1,null),_.resolve(qe)):_.reject(qe)}};this.outstandingGets_.push(H),this.outstandingGetCount_++;const Y=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const Ie=this.outstandingGets_[Y];void 0===Ie||H!==Ie||(delete this.outstandingGets_[Y],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+Y+" timed out on connection"),_.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(Y),_.promise}listen(d,_,T,H){this.initConnection_();const Y=d._queryIdentifier,Ie=d._path.toString();this.log_("Listen called for "+Ie+" "+Y),this.listens.has(Ie)||this.listens.set(Ie,new Map),(0,z.hu)(d._queryParams.isDefault()||!d._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,z.hu)(!this.listens.get(Ie).has(Y),"listen() called twice for same path/queryId.");const qe={onComplete:H,hashFn:_,query:d,tag:T};this.listens.get(Ie).set(Y,qe),this.connected_&&this.sendListen_(qe)}sendGet_(d){const _=this.outstandingGets_[d];this.sendRequest("g",_.request,T=>{delete this.outstandingGets_[d],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),_.onComplete&&_.onComplete(T)})}sendListen_(d){const _=d.query,T=_._path.toString(),H=_._queryIdentifier;this.log_("Listen on "+T+" for "+H);const Y={p:T};d.tag&&(Y.q=_._queryObject,Y.t=d.tag),Y.h=d.hashFn(),this.sendRequest("q",Y,qe=>{const ft=qe.d,Yt=qe.s;f.warnOnListenWarnings_(ft,_),(this.listens.get(T)&&this.listens.get(T).get(H))===d&&(this.log_("listen response",qe),"ok"!==Yt&&this.removeListen_(T,H),d.onComplete&&d.onComplete(Yt,ft))})}static warnOnListenWarnings_(d,_){if(d&&"object"==typeof d&&(0,z.r3)(d,"w")){const T=(0,z.DV)(d,"w");if(Array.isArray(T)&&~T.indexOf("no_index")){const H='".indexOn": "'+_._queryParams.getIndex().toString()+'"',Y=_._path.toString();Tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${H} at ${Y} to your security rules for better performance.`)}}}refreshAuthToken(d){this.authToken_=d,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(d)}reduceReconnectDelayIfAdminCredential_(d){(d&&40===d.length||(0,z.GJ)(d))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(d){this.appCheckToken_=d,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const d=this.authToken_,_=(0,z.w9)(d)?"auth":"gauth",T={cred:d};null===this.authOverride_?T.noauth=!0:"object"==typeof this.authOverride_&&(T.authvar=this.authOverride_),this.sendRequest(_,T,H=>{const Y=H.s,Ie=H.d||"error";this.authToken_===d&&("ok"===Y?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(Y,Ie))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},d=>{const _=d.s,T=d.d||"error";"ok"===_?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(_,T)})}unlisten(d,_){const T=d._path.toString(),H=d._queryIdentifier;this.log_("Unlisten called for "+T+" "+H),(0,z.hu)(d._queryParams.isDefault()||!d._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(T,H)&&this.connected_&&this.sendUnlisten_(T,H,d._queryObject,_)}sendUnlisten_(d,_,T,H){this.log_("Unlisten on "+d+" for "+_);const Y={p:d};H&&(Y.q=T,Y.t=H),this.sendRequest("n",Y)}onDisconnectPut(d,_,T){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",d,_,T):this.onDisconnectRequestQueue_.push({pathString:d,action:"o",data:_,onComplete:T})}onDisconnectMerge(d,_,T){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",d,_,T):this.onDisconnectRequestQueue_.push({pathString:d,action:"om",data:_,onComplete:T})}onDisconnectCancel(d,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",d,null,_):this.onDisconnectRequestQueue_.push({pathString:d,action:"oc",data:null,onComplete:_})}sendOnDisconnect_(d,_,T,H){const Y={p:_,d:T};this.log_("onDisconnect "+d,Y),this.sendRequest(d,Y,Ie=>{H&&setTimeout(()=>{H(Ie.s,Ie.d)},Math.floor(0))})}put(d,_,T,H){this.putInternal("p",d,_,T,H)}merge(d,_,T,H){this.putInternal("m",d,_,T,H)}putInternal(d,_,T,H,Y){this.initConnection_();const Ie={p:_,d:T};void 0!==Y&&(Ie.h=Y),this.outstandingPuts_.push({action:d,request:Ie,onComplete:H}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+_)}sendPut_(d){const _=this.outstandingPuts_[d].action,T=this.outstandingPuts_[d].request,H=this.outstandingPuts_[d].onComplete;this.outstandingPuts_[d].queued=this.connected_,this.sendRequest(_,T,Y=>{this.log_(_+" response",Y),delete this.outstandingPuts_[d],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),H&&H(Y.s,Y.d)})}reportStats(d){if(this.connected_){const _={c:d};this.log_("reportStats",_),this.sendRequest("s",_,T=>{"ok"!==T.s&&this.log_("reportStats","Error sending stats: "+T.d)})}}onDataMessage_(d){if("r"in d){this.log_("from server: "+(0,z.Pz)(d));const _=d.r,T=this.requestCBHash_[_];T&&(delete this.requestCBHash_[_],T(d.b))}else{if("error"in d)throw"A server-side error has occurred: "+d.error;"a"in d&&this.onDataPush_(d.a,d.b)}}onDataPush_(d,_){this.log_("handleServerMessage",d,_),"d"===d?this.onDataUpdate_(_.p,_.d,!1,_.t):"m"===d?this.onDataUpdate_(_.p,_.d,!0,_.t):"c"===d?this.onListenRevoked_(_.p,_.q):"ac"===d?this.onAuthRevoked_(_.s,_.d):"apc"===d?this.onAppCheckRevoked_(_.s,_.d):"sd"===d?this.onSecurityDebugPacket_(_):Le("Unrecognized action received from server: "+(0,z.Pz)(d)+"\nAre you using the latest client?")}onReady_(d,_){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(d),this.lastSessionId=_,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(d){(0,z.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(d))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(d){d&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vs,this.realtime_||this.scheduleConnect_(0)),this.visible_=d}onOnline_(d){d?(this.log_("Browser went online."),this.reconnectDelay_=vs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=vs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const d=(new Date).getTime()-this.lastConnectionAttemptTime_;let _=Math.max(0,this.reconnectDelay_-d);_=Math.random()*_,this.log_("Trying to reconnect in "+_+"ms"),this.scheduleConnect_(_),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var d=this;return(0,u.Z)(function*(){if(d.shouldReconnect_()){d.log_("Making a connection attempt"),d.lastConnectionAttemptTime_=(new Date).getTime(),d.lastConnectionEstablishedTime_=null;const _=d.onDataMessage_.bind(d),T=d.onReady_.bind(d),H=d.onRealtimeDisconnect_.bind(d),Y=d.id+":"+f.nextConnectionId_++,Ie=d.lastSessionId;let qe=!1,ft=null;const Yt=function(){ft?ft.close():(qe=!0,H())};d.realtime_={close:Yt,sendRequest:function(_r){(0,z.hu)(ft,"sendRequest call when we're not connected not allowed."),ft.sendRequest(_r)}};const gn=d.forceTokenRefresh_;d.forceTokenRefresh_=!1;try{const[_r,Br]=yield Promise.all([d.authTokenProvider_.getToken(gn),d.appCheckTokenProvider_.getToken(gn)]);qe?De("getToken() completed but was canceled"):(De("getToken() completed. Creating connection."),d.authToken_=_r&&_r.accessToken,d.appCheckToken_=Br&&Br.token,ft=new lr(Y,d.repoInfo_,d.applicationId_,d.appCheckToken_,d.authToken_,_,T,H,Ii=>{Tt(Ii+" ("+d.repoInfo_.toString()+")"),d.interrupt("server_kill")},Ie))}catch(_r){d.log_("Failed to get token: "+_r),qe||(d.repoInfo_.nodeAdmin&&Tt(_r),Yt())}}})()}interrupt(d){De("Interrupting connection for reason: "+d),this.interruptReasons_[d]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(d){De("Resuming connection for reason: "+d),delete this.interruptReasons_[d],(0,z.xb)(this.interruptReasons_)&&(this.reconnectDelay_=vs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(d){const _=d-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:_})}cancelSentTransactions_(){for(let d=0;d<this.outstandingPuts_.length;d++){const _=this.outstandingPuts_[d];_&&"h"in _.request&&_.queued&&(_.onComplete&&_.onComplete("disconnect"),delete this.outstandingPuts_[d],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(d,_){let T;T=_?_.map(Y=>dn(Y)).join("$"):"default";const H=this.removeListen_(d,T);H&&H.onComplete&&H.onComplete("permission_denied")}removeListen_(d,_){const T=new fr(d).toString();let H;if(this.listens.has(T)){const Y=this.listens.get(T);H=Y.get(_),Y.delete(_),0===Y.size&&this.listens.delete(T)}else H=void 0;return H}onAuthRevoked_(d,_){De("Auth token revoked: "+d+"/"+_),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===d||"permission_denied"===d)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(d,_){De("App check token revoked: "+d+"/"+_),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===d||"permission_denied"===d)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(d){this.securityDebugCallback_?this.securityDebugCallback_(d):"msg"in d&&console.log("FIREBASE: "+d.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const d of this.listens.values())for(const _ of d.values())this.sendListen_(_);for(let d=0;d<this.outstandingPuts_.length;d++)this.outstandingPuts_[d]&&this.sendPut_(d);for(;this.onDisconnectRequestQueue_.length;){const d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(let d=0;d<this.outstandingGets_.length;d++)this.outstandingGets_[d]&&this.sendGet_(d)}sendConnectStats_(){const d={};let _="js";(0,z.Yr)()&&(_=this.repoInfo_.nodeAdmin?"admin_node":"node"),d["sdk."+_+"."+ge.replace(/\./g,"-")]=1,(0,z.uI)()?d["framework.cordova"]=1:(0,z.b$)()&&(d["framework.reactnative"]=1),this.reportStats(d)}shouldReconnect_(){const d=Rr.getInstance().currentlyOnline();return(0,z.xb)(this.interruptReasons_)&&d}}return f.nextPersistentConnectionId_=0,f.nextConnectionId_=0,f})();class Or{constructor(c,d){this.name=c,this.node=d}static Wrap(c,d){return new Or(c,d)}}class Js{getCompare(){return this.compare.bind(this)}indexedValueChanged(c,d){const _=new Or(Ct,c),T=new Or(Ct,d);return 0!==this.compare(_,T)}minPost(){return Or.MIN}}class is extends Js{static get __EMPTY_NODE(){return rs}static set __EMPTY_NODE(c){rs=c}compare(c,d){return ut(c.name,d.name)}isDefinedOn(c){throw(0,z.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(c,d){return!1}minPost(){return Or.MIN}maxPost(){return new Or(xt,rs)}makePost(c,d){return(0,z.hu)("string"==typeof c,"KeyIndex indexValue must always be a string."),new Or(c,rs)}toString(){return".key"}}const ji=new is;class xi{constructor(c,d,_,T,H=null){this.isReverse_=T,this.resultGenerator_=H,this.nodeStack_=[];let Y=1;for(;!c.isEmpty();)if(c=c,Y=d?_(c.key,d):1,T&&(Y*=-1),Y<0)c=this.isReverse_?c.left:c.right;else{if(0===Y){this.nodeStack_.push(c);break}this.nodeStack_.push(c),c=this.isReverse_?c.right:c.left}}getNext(){if(0===this.nodeStack_.length)return null;let d,c=this.nodeStack_.pop();if(d=this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value},this.isReverse_)for(c=c.left;!c.isEmpty();)this.nodeStack_.push(c),c=c.right;else for(c=c.right;!c.isEmpty();)this.nodeStack_.push(c),c=c.left;return d}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const c=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value}}}let As,Ri=(()=>{class f{constructor(d,_,T,H,Y){this.key=d,this.value=_,this.color=null!=T?T:f.RED,this.left=null!=H?H:us.EMPTY_NODE,this.right=null!=Y?Y:us.EMPTY_NODE}copy(d,_,T,H,Y){return new f(null!=d?d:this.key,null!=_?_:this.value,null!=T?T:this.color,null!=H?H:this.left,null!=Y?Y:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(d){return this.left.inorderTraversal(d)||!!d(this.key,this.value)||this.right.inorderTraversal(d)}reverseTraversal(d){return this.right.reverseTraversal(d)||d(this.key,this.value)||this.left.reverseTraversal(d)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(d,_,T){let H=this;const Y=T(d,H.key);return H=Y<0?H.copy(null,null,null,H.left.insert(d,_,T),null):0===Y?H.copy(null,_,null,null,null):H.copy(null,null,null,null,H.right.insert(d,_,T)),H.fixUp_()}removeMin_(){if(this.left.isEmpty())return us.EMPTY_NODE;let d=this;return!d.left.isRed_()&&!d.left.left.isRed_()&&(d=d.moveRedLeft_()),d=d.copy(null,null,null,d.left.removeMin_(),null),d.fixUp_()}remove(d,_){let T,H;if(T=this,_(d,T.key)<0)!T.left.isEmpty()&&!T.left.isRed_()&&!T.left.left.isRed_()&&(T=T.moveRedLeft_()),T=T.copy(null,null,null,T.left.remove(d,_),null);else{if(T.left.isRed_()&&(T=T.rotateRight_()),!T.right.isEmpty()&&!T.right.isRed_()&&!T.right.left.isRed_()&&(T=T.moveRedRight_()),0===_(d,T.key)){if(T.right.isEmpty())return us.EMPTY_NODE;H=T.right.min_(),T=T.copy(H.key,H.value,null,null,T.right.removeMin_())}T=T.copy(null,null,null,null,T.right.remove(d,_))}return T.fixUp_()}isRed_(){return this.color}fixUp_(){let d=this;return d.right.isRed_()&&!d.left.isRed_()&&(d=d.rotateLeft_()),d.left.isRed_()&&d.left.left.isRed_()&&(d=d.rotateRight_()),d.left.isRed_()&&d.right.isRed_()&&(d=d.colorFlip_()),d}moveRedLeft_(){let d=this.colorFlip_();return d.right.left.isRed_()&&(d=d.copy(null,null,null,null,d.right.rotateRight_()),d=d.rotateLeft_(),d=d.colorFlip_()),d}moveRedRight_(){let d=this.colorFlip_();return d.left.left.isRed_()&&(d=d.rotateRight_(),d=d.colorFlip_()),d}rotateLeft_(){const d=this.copy(null,null,f.RED,null,this.right.left);return this.right.copy(null,null,this.color,d,null)}rotateRight_(){const d=this.copy(null,null,f.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,d)}colorFlip_(){const d=this.left.copy(null,null,!this.left.color,null,null),_=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,d,_)}checkMaxDepth_(){const d=this.check_();return Math.pow(2,d)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const d=this.left.check_();if(d!==this.right.check_())throw new Error("Black depths differ");return d+(this.isRed_()?0:1)}}return f.RED=!0,f.BLACK=!1,f})();class us{constructor(c,d=us.EMPTY_NODE){this.comparator_=c,this.root_=d}insert(c,d){return new us(this.comparator_,this.root_.insert(c,d,this.comparator_).copy(null,null,Ri.BLACK,null,null))}remove(c){return new us(this.comparator_,this.root_.remove(c,this.comparator_).copy(null,null,Ri.BLACK,null,null))}get(c){let d,_=this.root_;for(;!_.isEmpty();){if(d=this.comparator_(c,_.key),0===d)return _.value;d<0?_=_.left:d>0&&(_=_.right)}return null}getPredecessorKey(c){let d,_=this.root_,T=null;for(;!_.isEmpty();){if(d=this.comparator_(c,_.key),0===d){if(_.left.isEmpty())return T?T.key:null;for(_=_.left;!_.right.isEmpty();)_=_.right;return _.key}d<0?_=_.left:d>0&&(T=_,_=_.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(c){return this.root_.inorderTraversal(c)}reverseTraversal(c){return this.root_.reverseTraversal(c)}getIterator(c){return new xi(this.root_,null,this.comparator_,!1,c)}getIteratorFrom(c,d){return new xi(this.root_,c,this.comparator_,!1,d)}getReverseIteratorFrom(c,d){return new xi(this.root_,c,this.comparator_,!0,d)}getReverseIterator(c){return new xi(this.root_,null,this.comparator_,!0,c)}}function cs(f,c){return ut(f.name,c.name)}function Li(f,c){return ut(f,c)}us.EMPTY_NODE=new class ss{copy(c,d,_,T,H){return this}insert(c,d,_){return new Ri(c,d,null)}remove(c,d){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(c){return!1}reverseTraversal(c){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Es=function(f){return"number"==typeof f?"number:"+Bt(f):"string:"+f},$i=function(f){if(f.isLeafNode()){const c=f.val();(0,z.hu)("string"==typeof c||"number"==typeof c||"object"==typeof c&&(0,z.r3)(c,".sv"),"Priority must be a string or number.")}else(0,z.hu)(f===As||f.isEmpty(),"priority of unexpected type.");(0,z.hu)(f===As||f.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Zr,Bs,oi,ds=(()=>{class f{constructor(d,_=f.__childrenNodeConstructor.EMPTY_NODE){this.value_=d,this.priorityNode_=_,this.lazyHash_=null,(0,z.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$i(this.priorityNode_)}static set __childrenNodeConstructor(d){Zr=d}static get __childrenNodeConstructor(){return Zr}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(d){return new f(this.value_,d)}getImmediateChild(d){return".priority"===d?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE}getChild(d){return Un(d)?this:".priority"===pr(d)?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(d,_){return null}updateImmediateChild(d,_){return".priority"===d?this.updatePriority(_):_.isEmpty()&&".priority"!==d?this:f.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(d,_).updatePriority(this.priorityNode_)}updateChild(d,_){const T=pr(d);return null===T?_:_.isEmpty()&&".priority"!==T?this:((0,z.hu)(".priority"!==T||1===ti(d),".priority must be the last token in a path"),this.updateImmediateChild(T,f.__childrenNodeConstructor.EMPTY_NODE.updateChild(ct(d),_)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(d,_){return!1}val(d){return d&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let d="";this.priorityNode_.isEmpty()||(d+="priority:"+Es(this.priorityNode_.val())+":");const _=typeof this.value_;d+=_+":",d+="number"===_?Bt(this.value_):this.value_,this.lazyHash_=Je(d)}return this.lazyHash_}getValue(){return this.value_}compareTo(d){return d===f.__childrenNodeConstructor.EMPTY_NODE?1:d instanceof f.__childrenNodeConstructor?-1:((0,z.hu)(d.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(d))}compareToLeafNode_(d){const _=typeof d.value_,T=typeof this.value_,H=f.VALUE_TYPE_ORDER.indexOf(_),Y=f.VALUE_TYPE_ORDER.indexOf(T);return(0,z.hu)(H>=0,"Unknown leaf type: "+_),(0,z.hu)(Y>=0,"Unknown leaf type: "+T),H===Y?"object"===T?0:this.value_<d.value_?-1:this.value_===d.value_?0:1:Y-H}withIndex(){return this}isIndexed(){return!0}equals(d){if(d===this)return!0;if(d.isLeafNode()){const _=d;return this.value_===_.value_&&this.priorityNode_.equals(_.priorityNode_)}return!1}}return f.VALUE_TYPE_ORDER=["object","boolean","number","string"],f})();const Qt=new class ci extends Js{compare(c,d){const _=c.node.getPriority(),T=d.node.getPriority(),H=_.compareTo(T);return 0===H?ut(c.name,d.name):H}isDefinedOn(c){return!c.getPriority().isEmpty()}indexedValueChanged(c,d){return!c.getPriority().equals(d.getPriority())}minPost(){return Or.MIN}maxPost(){return new Or(xt,new ds("[PRIORITY-POST]",oi))}makePost(c,d){const _=Bs(c);return new Or(d,new ds("[PRIORITY-POST]",_))}toString(){return".priority"}},Nr=Math.log(2);class Yr{constructor(c){this.count=parseInt(Math.log(c+1)/Nr,10),this.current_=this.count-1;const T=(H=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=c+1&T}nextBitIsOne(){const c=!(this.bits_&1<<this.current_);return this.current_--,c}}const Ti=function(f,c,d,_){f.sort(c);const T=function(qe,ft){const Yt=ft-qe;let $t,gn;if(0===Yt)return null;if(1===Yt)return $t=f[qe],gn=d?d($t):$t,new Ri(gn,$t.node,Ri.BLACK,null,null);{const _r=parseInt(Yt/2,10)+qe,Br=T(qe,_r),Ii=T(_r+1,ft);return $t=f[_r],gn=d?d($t):$t,new Ri(gn,$t.node,Ri.BLACK,Br,Ii)}},Ie=function(qe){let ft=null,Yt=null,$t=f.length;const gn=function(Br,Ii){const Os=$t-Br,tl=$t;$t-=Br;const vl=T(Os+1,tl),nl=f[Os],ih=d?d(nl):nl;_r(new Ri(ih,nl.node,Ii,null,vl))},_r=function(Br){ft?(ft.left=Br,ft=Br):(Yt=Br,ft=Br)};for(let Br=0;Br<qe.count;++Br){const Ii=qe.nextBitIsOne(),Os=Math.pow(2,qe.count-(Br+1));Ii?gn(Os,Ri.BLACK):(gn(Os,Ri.BLACK),gn(Os,Ri.RED))}return Yt}(new Yr(f.length));return new us(_||c,Ie)};let bs;const os={};class Lr{constructor(c,d){this.indexes_=c,this.indexSet_=d}static get Default(){return(0,z.hu)(os&&Qt,"ChildrenNode.ts has not been loaded"),bs=bs||new Lr({".priority":os},{".priority":Qt}),bs}get(c){const d=(0,z.DV)(this.indexes_,c);if(!d)throw new Error("No index defined for "+c);return d instanceof us?d:null}hasIndex(c){return(0,z.r3)(this.indexSet_,c.toString())}addIndex(c,d){(0,z.hu)(c!==ji,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const _=[];let T=!1;const H=d.getIterator(Or.Wrap);let Ie,Y=H.getNext();for(;Y;)T=T||c.isDefinedOn(Y.node),_.push(Y),Y=H.getNext();Ie=T?Ti(_,c.getCompare()):os;const qe=c.toString(),ft=Object.assign({},this.indexSet_);ft[qe]=c;const Yt=Object.assign({},this.indexes_);return Yt[qe]=Ie,new Lr(Yt,ft)}addToIndexes(c,d){const _=(0,z.UI)(this.indexes_,(T,H)=>{const Y=(0,z.DV)(this.indexSet_,H);if((0,z.hu)(Y,"Missing index implementation for "+H),T===os){if(Y.isDefinedOn(c.node)){const Ie=[],qe=d.getIterator(Or.Wrap);let ft=qe.getNext();for(;ft;)ft.name!==c.name&&Ie.push(ft),ft=qe.getNext();return Ie.push(c),Ti(Ie,Y.getCompare())}return os}{const Ie=d.get(c.name);let qe=T;return Ie&&(qe=qe.remove(new Or(c.name,Ie))),qe.insert(c,c.node)}});return new Lr(_,this.indexSet_)}removeFromIndexes(c,d){const _=(0,z.UI)(this.indexes_,T=>{if(T===os)return T;{const H=d.get(c.name);return H?T.remove(new Or(c.name,H)):T}});return new Lr(_,this.indexSet_)}}let j,oe=(()=>{class f{constructor(d,_,T){this.children_=d,this.priorityNode_=_,this.indexMap_=T,this.lazyHash_=null,this.priorityNode_&&$i(this.priorityNode_),this.children_.isEmpty()&&(0,z.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return j||(j=new f(new us(Li),null,Lr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||j}updatePriority(d){return this.children_.isEmpty()?this:new f(this.children_,d,this.indexMap_)}getImmediateChild(d){if(".priority"===d)return this.getPriority();{const _=this.children_.get(d);return null===_?j:_}}getChild(d){const _=pr(d);return null===_?this:this.getImmediateChild(_).getChild(ct(d))}hasChild(d){return null!==this.children_.get(d)}updateImmediateChild(d,_){if((0,z.hu)(_,"We should always be passing snapshot nodes"),".priority"===d)return this.updatePriority(_);{const T=new Or(d,_);let H,Y;_.isEmpty()?(H=this.children_.remove(d),Y=this.indexMap_.removeFromIndexes(T,this.children_)):(H=this.children_.insert(d,_),Y=this.indexMap_.addToIndexes(T,this.children_));const Ie=H.isEmpty()?j:this.priorityNode_;return new f(H,Ie,Y)}}updateChild(d,_){const T=pr(d);if(null===T)return _;{(0,z.hu)(".priority"!==pr(d)||1===ti(d),".priority must be the last token in a path");const H=this.getImmediateChild(T).updateChild(ct(d),_);return this.updateImmediateChild(T,H)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(d){if(this.isEmpty())return null;const _={};let T=0,H=0,Y=!0;if(this.forEachChild(Qt,(Ie,qe)=>{_[Ie]=qe.val(d),T++,Y&&f.INTEGER_REGEXP_.test(Ie)?H=Math.max(H,Number(Ie)):Y=!1}),!d&&Y&&H<2*T){const Ie=[];for(const qe in _)Ie[qe]=_[qe];return Ie}return d&&!this.getPriority().isEmpty()&&(_[".priority"]=this.getPriority().val()),_}hash(){if(null===this.lazyHash_){let d="";this.getPriority().isEmpty()||(d+="priority:"+Es(this.getPriority().val())+":"),this.forEachChild(Qt,(_,T)=>{const H=T.hash();""!==H&&(d+=":"+_+":"+H)}),this.lazyHash_=""===d?"":Je(d)}return this.lazyHash_}getPredecessorChildName(d,_,T){const H=this.resolveIndex_(T);if(H){const Y=H.getPredecessorKey(new Or(d,_));return Y?Y.name:null}return this.children_.getPredecessorKey(d)}getFirstChildName(d){const _=this.resolveIndex_(d);if(_){const T=_.minKey();return T&&T.name}return this.children_.minKey()}getFirstChild(d){const _=this.getFirstChildName(d);return _?new Or(_,this.children_.get(_)):null}getLastChildName(d){const _=this.resolveIndex_(d);if(_){const T=_.maxKey();return T&&T.name}return this.children_.maxKey()}getLastChild(d){const _=this.getLastChildName(d);return _?new Or(_,this.children_.get(_)):null}forEachChild(d,_){const T=this.resolveIndex_(d);return T?T.inorderTraversal(H=>_(H.name,H.node)):this.children_.inorderTraversal(_)}getIterator(d){return this.getIteratorFrom(d.minPost(),d)}getIteratorFrom(d,_){const T=this.resolveIndex_(_);if(T)return T.getIteratorFrom(d,H=>H);{const H=this.children_.getIteratorFrom(d.name,Or.Wrap);let Y=H.peek();for(;null!=Y&&_.compare(Y,d)<0;)H.getNext(),Y=H.peek();return H}}getReverseIterator(d){return this.getReverseIteratorFrom(d.maxPost(),d)}getReverseIteratorFrom(d,_){const T=this.resolveIndex_(_);if(T)return T.getReverseIteratorFrom(d,H=>H);{const H=this.children_.getReverseIteratorFrom(d.name,Or.Wrap);let Y=H.peek();for(;null!=Y&&_.compare(Y,d)>0;)H.getNext(),Y=H.peek();return H}}compareTo(d){return this.isEmpty()?d.isEmpty()?0:-1:d.isLeafNode()||d.isEmpty()?1:d===Ee?-1:0}withIndex(d){if(d===ji||this.indexMap_.hasIndex(d))return this;{const _=this.indexMap_.addIndex(d,this.children_);return new f(this.children_,this.priorityNode_,_)}}isIndexed(d){return d===ji||this.indexMap_.hasIndex(d)}equals(d){if(d===this)return!0;if(d.isLeafNode())return!1;{const _=d;if(this.getPriority().equals(_.getPriority())){if(this.children_.count()===_.children_.count()){const T=this.getIterator(Qt),H=_.getIterator(Qt);let Y=T.getNext(),Ie=H.getNext();for(;Y&&Ie;){if(Y.name!==Ie.name||!Y.node.equals(Ie.node))return!1;Y=T.getNext(),Ie=H.getNext()}return null===Y&&null===Ie}return!1}return!1}}resolveIndex_(d){return d===ji?null:this.indexMap_.get(d.toString())}}return f.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,f})();const Ee=new class $ extends oe{constructor(){super(new us(Li),oe.EMPTY_NODE,Lr.Default)}compareTo(c){return c===this?0:1}equals(c){return c===this}getPriority(){return this}getImmediateChild(c){return oe.EMPTY_NODE}isEmpty(){return!1}};function Ft(f,c=null){if(null===f)return oe.EMPTY_NODE;if("object"==typeof f&&".priority"in f&&(c=f[".priority"]),(0,z.hu)(null===c||"string"==typeof c||"number"==typeof c||"object"==typeof c&&".sv"in c,"Invalid priority type found: "+typeof c),"object"==typeof f&&".value"in f&&null!==f[".value"]&&(f=f[".value"]),"object"!=typeof f||".sv"in f)return new ds(f,Ft(c));if(f instanceof Array){let d=oe.EMPTY_NODE;return At(f,(_,T)=>{if((0,z.r3)(f,_)&&"."!==_.substring(0,1)){const H=Ft(T);(H.isLeafNode()||!H.isEmpty())&&(d=d.updateImmediateChild(_,H))}}),d.updatePriority(Ft(c))}{const d=[];let _=!1;if(At(f,(Y,Ie)=>{if("."!==Y.substring(0,1)){const qe=Ft(Ie);qe.isEmpty()||(_=_||!qe.getPriority().isEmpty(),d.push(new Or(Y,qe)))}}),0===d.length)return oe.EMPTY_NODE;const H=Ti(d,cs,Y=>Y.name,Li);if(_){const Y=Ti(d,Qt.getCompare());return new oe(H,Ft(c),new Lr({".priority":Y},{".priority":Qt}))}return new oe(H,Ft(c),Lr.Default)}}Object.defineProperties(Or,{MIN:{value:new Or(Ct,oe.EMPTY_NODE)},MAX:{value:new Or(xt,Ee)}}),is.__EMPTY_NODE=oe.EMPTY_NODE,ds.__childrenNodeConstructor=oe,function Vs(f){As=f}(Ee),function Us(f){oi=f}(Ee),function fs(f){Bs=f}(Ft);class Xt extends Js{constructor(c){super(),this.indexPath_=c,(0,z.hu)(!Un(c)&&".priority"!==pr(c),"Can't create PathIndex with empty path or .priority key")}extractChild(c){return c.getChild(this.indexPath_)}isDefinedOn(c){return!c.getChild(this.indexPath_).isEmpty()}compare(c,d){const _=this.extractChild(c.node),T=this.extractChild(d.node),H=_.compareTo(T);return 0===H?ut(c.name,d.name):H}makePost(c,d){const _=Ft(c),T=oe.EMPTY_NODE.updateChild(this.indexPath_,_);return new Or(d,T)}maxPost(){const c=oe.EMPTY_NODE.updateChild(this.indexPath_,Ee);return new Or(xt,c)}toString(){return on(this.indexPath_,0).join("/")}}const fi=new class kn extends Js{compare(c,d){const _=c.node.compareTo(d.node);return 0===_?ut(c.name,d.name):_}isDefinedOn(c){return!0}indexedValueChanged(c,d){return!c.equals(d)}minPost(){return Or.MIN}maxPost(){return Or.MAX}makePost(c,d){const _=Ft(c);return new Or(d,_)}toString(){return".value"}},Wr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ni=function(){let f=0;const c=[];return function(d){const _=d===f;let T;f=d;const H=new Array(8);for(T=7;T>=0;T--)H[T]=Wr.charAt(d%64),d=Math.floor(d/64);(0,z.hu)(0===d,"Cannot push at time == 0");let Y=H.join("");if(_){for(T=11;T>=0&&63===c[T];T--)c[T]=0;c[T]++}else for(T=0;T<12;T++)c[T]=Math.floor(64*Math.random());for(T=0;T<12;T++)Y+=Wr.charAt(c[T]);return(0,z.hu)(20===Y.length,"nextPushId: Length should be 20."),Y}}(),wi=function(f){if(f===""+Gn)return"-";const c=vr(f);if(null!=c)return""+(c+1);const d=new Array(f.length);for(let Y=0;Y<d.length;Y++)d[Y]=f.charAt(Y);if(d.length<786)return d.push("-"),d.join("");let _=d.length-1;for(;_>=0&&"z"===d[_];)_--;if(-1===_)return xt;const H=Wr.charAt(Wr.indexOf(d[_])+1);return d[_]=H,d.slice(0,_+1).join("")},K=function(f){if(f===""+an)return Ct;const c=vr(f);if(null!=c)return""+(c-1);const d=new Array(f.length);for(let _=0;_<d.length;_++)d[_]=f.charAt(_);return"-"===d[d.length-1]?1===d.length?""+Gn:(delete d[d.length-1],d.join("")):(d[d.length-1]=Wr.charAt(Wr.indexOf(d[d.length-1])-1),d.join("")+"z".repeat(786-d.length))};function U(f){return{type:"value",snapshotNode:f}}function k(f,c){return{type:"child_added",snapshotNode:c,childName:f}}function fe(f,c){return{type:"child_removed",snapshotNode:c,childName:f}}function Wt(f,c,d){return{type:"child_changed",snapshotNode:c,childName:f,oldSnap:d}}class ui{constructor(c){this.index_=c}updateChild(c,d,_,T,H,Y){(0,z.hu)(c.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Ie=c.getImmediateChild(d);return Ie.getChild(T).equals(_.getChild(T))&&Ie.isEmpty()===_.isEmpty()||(null!=Y&&(_.isEmpty()?c.hasChild(d)?Y.trackChildChange(fe(d,Ie)):(0,z.hu)(c.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Ie.isEmpty()?Y.trackChildChange(k(d,_)):Y.trackChildChange(Wt(d,_,Ie))),c.isLeafNode()&&_.isEmpty())?c:c.updateImmediateChild(d,_).withIndex(this.index_)}updateFullNode(c,d,_){return null!=_&&(c.isLeafNode()||c.forEachChild(Qt,(T,H)=>{d.hasChild(T)||_.trackChildChange(fe(T,H))}),d.isLeafNode()||d.forEachChild(Qt,(T,H)=>{if(c.hasChild(T)){const Y=c.getImmediateChild(T);Y.equals(H)||_.trackChildChange(Wt(T,H,Y))}else _.trackChildChange(k(T,H))})),d.withIndex(this.index_)}updatePriority(c,d){return c.isEmpty()?oe.EMPTY_NODE:c.updatePriority(d)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Yi{constructor(c){this.indexedFilter_=new ui(c.getIndex()),this.index_=c.getIndex(),this.startPost_=Yi.getStartPost_(c),this.endPost_=Yi.getEndPost_(c)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(c){return this.index_.compare(this.getStartPost(),c)<=0&&this.index_.compare(c,this.getEndPost())<=0}updateChild(c,d,_,T,H,Y){return this.matches(new Or(d,_))||(_=oe.EMPTY_NODE),this.indexedFilter_.updateChild(c,d,_,T,H,Y)}updateFullNode(c,d,_){d.isLeafNode()&&(d=oe.EMPTY_NODE);let T=d.withIndex(this.index_);T=T.updatePriority(oe.EMPTY_NODE);const H=this;return d.forEachChild(Qt,(Y,Ie)=>{H.matches(new Or(Y,Ie))||(T=T.updateImmediateChild(Y,oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(c,T,_)}updatePriority(c,d){return c}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(c){if(c.hasStart()){const d=c.getIndexStartName();return c.getIndex().makePost(c.getIndexStartValue(),d)}return c.getIndex().minPost()}static getEndPost_(c){if(c.hasEnd()){const d=c.getIndexEndName();return c.getIndex().makePost(c.getIndexEndValue(),d)}return c.getIndex().maxPost()}}class oo{constructor(c){this.rangedFilter_=new Yi(c),this.index_=c.getIndex(),this.limit_=c.getLimit(),this.reverse_=!c.isViewFromLeft()}updateChild(c,d,_,T,H,Y){return this.rangedFilter_.matches(new Or(d,_))||(_=oe.EMPTY_NODE),c.getImmediateChild(d).equals(_)?c:c.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(c,d,_,T,H,Y):this.fullLimitUpdateChild_(c,d,_,H,Y)}updateFullNode(c,d,_){let T;if(d.isLeafNode()||d.isEmpty())T=oe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<d.numChildren()&&d.isIndexed(this.index_)){let H;T=oe.EMPTY_NODE.withIndex(this.index_),H=this.reverse_?d.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let Y=0;for(;H.hasNext()&&Y<this.limit_;){const Ie=H.getNext();let qe;if(qe=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),Ie)<=0:this.index_.compare(Ie,this.rangedFilter_.getEndPost())<=0,!qe)break;T=T.updateImmediateChild(Ie.name,Ie.node),Y++}}else{let H,Y,Ie,qe;if(T=d.withIndex(this.index_),T=T.updatePriority(oe.EMPTY_NODE),this.reverse_){qe=T.getReverseIterator(this.index_),H=this.rangedFilter_.getEndPost(),Y=this.rangedFilter_.getStartPost();const $t=this.index_.getCompare();Ie=(gn,_r)=>$t(_r,gn)}else qe=T.getIterator(this.index_),H=this.rangedFilter_.getStartPost(),Y=this.rangedFilter_.getEndPost(),Ie=this.index_.getCompare();let ft=0,Yt=!1;for(;qe.hasNext();){const $t=qe.getNext();!Yt&&Ie(H,$t)<=0&&(Yt=!0),Yt&&ft<this.limit_&&Ie($t,Y)<=0?ft++:T=T.updateImmediateChild($t.name,oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(c,T,_)}updatePriority(c,d){return c}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(c,d,_,T,H){let Y;if(this.reverse_){const $t=this.index_.getCompare();Y=(gn,_r)=>$t(_r,gn)}else Y=this.index_.getCompare();const Ie=c;(0,z.hu)(Ie.numChildren()===this.limit_,"");const qe=new Or(d,_),ft=this.reverse_?Ie.getFirstChild(this.index_):Ie.getLastChild(this.index_),Yt=this.rangedFilter_.matches(qe);if(Ie.hasChild(d)){const $t=Ie.getImmediateChild(d);let gn=T.getChildAfterChild(this.index_,ft,this.reverse_);for(;null!=gn&&(gn.name===d||Ie.hasChild(gn.name));)gn=T.getChildAfterChild(this.index_,gn,this.reverse_);const _r=null==gn?1:Y(gn,qe);if(Yt&&!_.isEmpty()&&_r>=0)return null!=H&&H.trackChildChange(Wt(d,_,$t)),Ie.updateImmediateChild(d,_);{null!=H&&H.trackChildChange(fe(d,$t));const Ii=Ie.updateImmediateChild(d,oe.EMPTY_NODE);return null!=gn&&this.rangedFilter_.matches(gn)?(null!=H&&H.trackChildChange(k(gn.name,gn.node)),Ii.updateImmediateChild(gn.name,gn.node)):Ii}}return _.isEmpty()?c:Yt&&Y(ft,qe)>=0?(null!=H&&(H.trackChildChange(fe(ft.name,ft.node)),H.trackChildChange(k(d,_))),Ie.updateImmediateChild(d,_).updateImmediateChild(ft.name,oe.EMPTY_NODE)):c}}class es{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,z.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,z.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ct}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,z.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,z.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,z.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qt}copy(){const c=new es;return c.limitSet_=this.limitSet_,c.limit_=this.limit_,c.startSet_=this.startSet_,c.indexStartValue_=this.indexStartValue_,c.startNameSet_=this.startNameSet_,c.indexStartName_=this.indexStartName_,c.endSet_=this.endSet_,c.indexEndValue_=this.indexEndValue_,c.endNameSet_=this.endNameSet_,c.indexEndName_=this.indexEndName_,c.index_=this.index_,c.viewFrom_=this.viewFrom_,c}}function ki(f,c,d){const _=f.copy();return _.startSet_=!0,void 0===c&&(c=null),_.indexStartValue_=c,null!=d?(_.startNameSet_=!0,_.indexStartName_=d):(_.startNameSet_=!1,_.indexStartName_=""),_}function ao(f,c,d){const _=f.copy();return _.endSet_=!0,void 0===c&&(c=null),_.indexEndValue_=c,void 0!==d?(_.endNameSet_=!0,_.indexEndName_=d):(_.endNameSet_=!1,_.indexEndName_=""),_}function Bo(f,c){const d=f.copy();return d.index_=c,d}function Uo(f){const c={};if(f.isDefault())return c;let d;return f.index_===Qt?d="$priority":f.index_===fi?d="$value":f.index_===ji?d="$key":((0,z.hu)(f.index_ instanceof Xt,"Unrecognized index type!"),d=f.index_.toString()),c.orderBy=(0,z.Pz)(d),f.startSet_&&(c.startAt=(0,z.Pz)(f.indexStartValue_),f.startNameSet_&&(c.startAt+=","+(0,z.Pz)(f.indexStartName_))),f.endSet_&&(c.endAt=(0,z.Pz)(f.indexEndValue_),f.endNameSet_&&(c.endAt+=","+(0,z.Pz)(f.indexEndName_))),f.limitSet_&&(f.isViewFromLeft()?c.limitToFirst=f.limit_:c.limitToLast=f.limit_),c}function La(f){const c={};if(f.startSet_&&(c.sp=f.indexStartValue_,f.startNameSet_&&(c.sn=f.indexStartName_)),f.endSet_&&(c.ep=f.indexEndValue_,f.endNameSet_&&(c.en=f.indexEndName_)),f.limitSet_){c.l=f.limit_;let d=f.viewFrom_;""===d&&(d=f.isViewFromLeft()?"l":"r"),c.vf=d}return f.index_!==Qt&&(c.i=f.index_.toString()),c}class uo extends zr{constructor(c,d,_,T){super(),this.repoInfo_=c,this.onDataUpdate_=d,this.authTokenProvider_=_,this.appCheckTokenProvider_=T,this.log_=Se("p:rest:"),this.listens_={}}reportStats(c){throw new Error("Method not implemented.")}static getListenId_(c,d){return void 0!==d?"tag$"+d:((0,z.hu)(c._queryParams.isDefault(),"should have a tag if it's not a default query."),c._path.toString())}listen(c,d,_,T){const H=c._path.toString();this.log_("Listen called for "+H+" "+c._queryIdentifier);const Y=uo.getListenId_(c,_),Ie={};this.listens_[Y]=Ie;const qe=Uo(c._queryParams);this.restRequest_(H+".json",qe,(ft,Yt)=>{let $t=Yt;if(404===ft&&($t=null,ft=null),null===ft&&this.onDataUpdate_(H,$t,!1,_),(0,z.DV)(this.listens_,Y)===Ie){let gn;gn=ft?401===ft?"permission_denied":"rest_error:"+ft:"ok",T(gn,null)}})}unlisten(c,d){const _=uo.getListenId_(c,d);delete this.listens_[_]}get(c){const d=Uo(c._queryParams),_=c._path.toString(),T=new z.BH;return this.restRequest_(_+".json",d,(H,Y)=>{let Ie=Y;404===H&&(Ie=null,H=null),null===H?(this.onDataUpdate_(_,Ie,!1,null),T.resolve(Ie)):T.reject(new Error(Ie))}),T.promise}refreshAuthToken(c){}restRequest_(c,d={},_){return d.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([T,H])=>{T&&T.accessToken&&(d.auth=T.accessToken),H&&H.token&&(d.ac=H.token);const Y=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+c+"?ns="+this.repoInfo_.namespace+(0,z.xO)(d);this.log_("Sending REST request for "+Y);const Ie=new XMLHttpRequest;Ie.onreadystatechange=()=>{if(_&&4===Ie.readyState){this.log_("REST Response for "+Y+" received. status:",Ie.status,"response:",Ie.responseText);let qe=null;if(Ie.status>=200&&Ie.status<300){try{qe=(0,z.cI)(Ie.responseText)}catch(ft){Tt("Failed to parse JSON response for "+Y+": "+Ie.responseText)}_(null,qe)}else 401!==Ie.status&&404!==Ie.status&&Tt("Got unsuccessful REST response for "+Y+" Status: "+Ie.status),_(Ie.status);_=null}},Ie.open("GET",Y,!0),Ie.send()})}}class Ro{constructor(){this.rootNode_=oe.EMPTY_NODE}getNode(c){return this.rootNode_.getChild(c)}updateSnapshot(c,d){this.rootNode_=this.rootNode_.updateChild(c,d)}}function ps(){return{value:null,children:new Map}}function Wi(f,c,d){if(Un(c))f.value=d,f.children.clear();else if(null!==f.value)f.value=f.value.updateChild(c,d);else{const _=pr(c);f.children.has(_)||f.children.set(_,ps()),Wi(f.children.get(_),c=ct(c),d)}}function Ks(f,c){if(Un(c))return f.value=null,f.children.clear(),!0;if(null!==f.value){if(f.value.isLeafNode())return!1;{const d=f.value;return f.value=null,d.forEachChild(Qt,(_,T)=>{Wi(f,new fr(_),T)}),Ks(f,c)}}if(f.children.size>0){const d=pr(c);return c=ct(c),f.children.has(d)&&Ks(f.children.get(d),c)&&f.children.delete(d),0===f.children.size}return!0}function co(f,c,d){null!==f.value?d(c,f.value):function re(f,c){f.children.forEach((d,_)=>{c(_,d)})}(f,(_,T)=>{co(T,new fr(c.toString()+"/"+_),d)})}class v{constructor(c){this.collection_=c,this.last_=null}get(){const c=this.collection_.get(),d=Object.assign({},c);return this.last_&&At(this.last_,(_,T)=>{d[_]=d[_]-T}),this.last_=c,d}}class Oe{constructor(c,d){this.server_=d,this.statsToReport_={},this.statsListener_=new v(c);const _=1e4+2e4*Math.random();sr(this.reportStats_.bind(this),Math.floor(_))}reportStats_(){const c=this.statsListener_.get(),d={};let _=!1;At(c,(T,H)=>{H>0&&(0,z.r3)(this.statsToReport_,T)&&(d[T]=H,_=!0)}),_&&this.server_.reportStats(d),sr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var it=(()=>{return(f=it||(it={}))[f.OVERWRITE=0]="OVERWRITE",f[f.MERGE=1]="MERGE",f[f.ACK_USER_WRITE=2]="ACK_USER_WRITE",f[f.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",it;var f})();function Jt(f){return{fromUser:!1,fromServer:!0,queryId:f,tagged:!0}}class Hn{constructor(c,d,_){this.path=c,this.affectedTree=d,this.revert=_,this.type=it.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(c){if(Un(this.path)){if(null!=this.affectedTree.value)return(0,z.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const d=this.affectedTree.subtree(new fr(c));return new Hn(Vn(),d,this.revert)}}return(0,z.hu)(pr(this.path)===c,"operationForChild called for unrelated child."),new Hn(ct(this.path),this.affectedTree,this.revert)}}class Qn{constructor(c,d){this.source=c,this.path=d,this.type=it.LISTEN_COMPLETE}operationForChild(c){return Un(this.path)?new Qn(this.source,Vn()):new Qn(this.source,ct(this.path))}}class br{constructor(c,d,_){this.source=c,this.path=d,this.snap=_,this.type=it.OVERWRITE}operationForChild(c){return Un(this.path)?new br(this.source,Vn(),this.snap.getImmediateChild(c)):new br(this.source,ct(this.path),this.snap)}}class kr{constructor(c,d,_){this.source=c,this.path=d,this.children=_,this.type=it.MERGE}operationForChild(c){if(Un(this.path)){const d=this.children.subtree(new fr(c));return d.isEmpty()?null:d.value?new br(this.source,Vn(),d.value):new kr(this.source,Vn(),d)}return(0,z.hu)(pr(this.path)===c,"Can't get a merge for a child not on the path of the operation"),new kr(this.source,ct(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ur{constructor(c,d,_){this.node_=c,this.fullyInitialized_=d,this.filtered_=_}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(c){if(Un(c))return this.isFullyInitialized()&&!this.filtered_;const d=pr(c);return this.isCompleteForChild(d)}isCompleteForChild(c){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(c)}getNode(){return this.node_}}class Vr{constructor(c){this.query_=c,this.index_=this.query_._queryParams.getIndex()}}function Di(f,c,d,_,T,H){const Y=_.filter(Ie=>Ie.type===d);Y.sort((Ie,qe)=>function ms(f,c,d){if(null==c.childName||null==d.childName)throw(0,z.g5)("Should only compare child_ events.");const _=new Or(c.childName,c.snapshotNode),T=new Or(d.childName,d.snapshotNode);return f.index_.compare(_,T)}(f,Ie,qe)),Y.forEach(Ie=>{const qe=function Bi(f,c,d){return"value"===c.type||"child_removed"===c.type||(c.prevName=d.getPredecessorChildName(c.childName,c.snapshotNode,f.index_)),c}(f,Ie,H);T.forEach(ft=>{ft.respondsTo(Ie.type)&&c.push(ft.createEvent(qe,f.query_))})})}function di(f,c){return{eventCache:f,serverCache:c}}function gs(f,c,d,_){return di(new ur(c,d,_),f.serverCache)}function Ei(f,c,d,_){return di(f.eventCache,new ur(c,d,_))}function zi(f){return f.eventCache.isFullyInitialized()?f.eventCache.getNode():null}function ei(f){return f.serverCache.isFullyInitialized()?f.serverCache.getNode():null}let qs;class ri{constructor(c,d=(()=>(qs||(qs=new us(Kt)),qs))()){this.value=c,this.children=d}static fromObject(c){let d=new ri(null);return At(c,(_,T)=>{d=d.set(new fr(_),T)}),d}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(c,d){if(null!=this.value&&d(this.value))return{path:Vn(),value:this.value};if(Un(c))return null;{const _=pr(c),T=this.children.get(_);if(null!==T){const H=T.findRootMostMatchingPathAndValue(ct(c),d);return null!=H?{path:Cn(new fr(_),H.path),value:H.value}:null}return null}}findRootMostValueAndPath(c){return this.findRootMostMatchingPathAndValue(c,()=>!0)}subtree(c){if(Un(c))return this;{const d=pr(c),_=this.children.get(d);return null!==_?_.subtree(ct(c)):new ri(null)}}set(c,d){if(Un(c))return new ri(d,this.children);{const _=pr(c),H=(this.children.get(_)||new ri(null)).set(ct(c),d),Y=this.children.insert(_,H);return new ri(this.value,Y)}}remove(c){if(Un(c))return this.children.isEmpty()?new ri(null):new ri(null,this.children);{const d=pr(c),_=this.children.get(d);if(_){const T=_.remove(ct(c));let H;return H=T.isEmpty()?this.children.remove(d):this.children.insert(d,T),null===this.value&&H.isEmpty()?new ri(null):new ri(this.value,H)}return this}}get(c){if(Un(c))return this.value;{const d=pr(c),_=this.children.get(d);return _?_.get(ct(c)):null}}setTree(c,d){if(Un(c))return d;{const _=pr(c),H=(this.children.get(_)||new ri(null)).setTree(ct(c),d);let Y;return Y=H.isEmpty()?this.children.remove(_):this.children.insert(_,H),new ri(this.value,Y)}}fold(c){return this.fold_(Vn(),c)}fold_(c,d){const _={};return this.children.inorderTraversal((T,H)=>{_[T]=H.fold_(Cn(c,T),d)}),d(c,this.value,_)}findOnPath(c,d){return this.findOnPath_(c,Vn(),d)}findOnPath_(c,d,_){const T=!!this.value&&_(d,this.value);if(T)return T;if(Un(c))return null;{const H=pr(c),Y=this.children.get(H);return Y?Y.findOnPath_(ct(c),Cn(d,H),_):null}}foreachOnPath(c,d){return this.foreachOnPath_(c,Vn(),d)}foreachOnPath_(c,d,_){if(Un(c))return this;{this.value&&_(d,this.value);const T=pr(c),H=this.children.get(T);return H?H.foreachOnPath_(ct(c),Cn(d,T),_):new ri(null)}}foreach(c){this.foreach_(Vn(),c)}foreach_(c,d){this.children.inorderTraversal((_,T)=>{T.foreach_(Cn(c,_),d)}),this.value&&d(c,this.value)}foreachChild(c){this.children.inorderTraversal((d,_)=>{_.value&&c(d,_.value)})}}class Gi{constructor(c){this.writeTree_=c}static empty(){return new Gi(new ri(null))}}function ts(f,c,d){if(Un(c))return new Gi(new ri(d));{const _=f.writeTree_.findRootMostValueAndPath(c);if(null!=_){const T=_.path;let H=_.value;const Y=Mr(T,c);return H=H.updateChild(Y,d),new Gi(f.writeTree_.set(T,H))}{const T=new ri(d),H=f.writeTree_.setTree(c,T);return new Gi(H)}}}function vo(f,c,d){let _=f;return At(d,(T,H)=>{_=ts(_,Cn(c,T),H)}),_}function Ho(f,c){if(Un(c))return Gi.empty();{const d=f.writeTree_.setTree(c,new ri(null));return new Gi(d)}}function Nn(f,c){return null!=or(f,c)}function or(f,c){const d=f.writeTree_.findRootMostValueAndPath(c);return null!=d?f.writeTree_.get(d.path).getChild(Mr(d.path,c)):null}function Ar(f){const c=[],d=f.writeTree_.value;return null!=d?d.isLeafNode()||d.forEachChild(Qt,(_,T)=>{c.push(new Or(_,T))}):f.writeTree_.children.inorderTraversal((_,T)=>{null!=T.value&&c.push(new Or(_,T.value))}),c}function Tr(f,c){if(Un(c))return f;{const d=or(f,c);return new Gi(null!=d?new ri(d):f.writeTree_.subtree(c))}}function Ni(f){return f.writeTree_.isEmpty()}function as(f,c){return ii(Vn(),f.writeTree_,c)}function ii(f,c,d){if(null!=c.value)return d.updateChild(f,c.value);{let _=null;return c.children.inorderTraversal((T,H)=>{".priority"===T?((0,z.hu)(null!==H.value,"Priority writes must always be leaf nodes"),_=H.value):d=ii(Cn(f,T),H,d)}),!d.getChild(f).isEmpty()&&null!==_&&(d=d.updateChild(Cn(f,".priority"),_)),d}}function Ki(f,c){return Ke(c,f)}function ai(f,c){if(f.snap)return Ci(f.path,c);for(const d in f.children)if(f.children.hasOwnProperty(d)&&Ci(Cn(f.path,d),c))return!0;return!1}function eo(f){return f.visible}function Xn(f,c,d){let _=Gi.empty();for(let T=0;T<f.length;++T){const H=f[T];if(c(H)){const Y=H.path;let Ie;if(H.snap)Ci(d,Y)?(Ie=Mr(d,Y),_=ts(_,Ie,H.snap)):Ci(Y,d)&&(Ie=Mr(Y,d),_=ts(_,Vn(),H.snap.getChild(Ie)));else{if(!H.children)throw(0,z.g5)("WriteRecord should have .snap or .children");if(Ci(d,Y))Ie=Mr(d,Y),_=vo(_,Ie,H.children);else if(Ci(Y,d))if(Ie=Mr(Y,d),Un(Ie))_=vo(_,Vn(),H.children);else{const qe=(0,z.DV)(H.children,pr(Ie));if(qe){const ft=qe.getChild(ct(Ie));_=ts(_,Vn(),ft)}}}}}return _}function Cr(f,c,d,_,T){if(_||T){const H=Tr(f.visibleWrites,c);return!T&&Ni(H)?d:T||null!=d||Nn(H,Vn())?as(Xn(f.allWrites,function(ft){return(ft.visible||T)&&(!_||!~_.indexOf(ft.writeId))&&(Ci(ft.path,c)||Ci(c,ft.path))},c),d||oe.EMPTY_NODE):null}{const H=or(f.visibleWrites,c);if(null!=H)return H;{const Y=Tr(f.visibleWrites,c);return Ni(Y)?d:null!=d||Nn(Y,Vn())?as(Y,d||oe.EMPTY_NODE):null}}}function Zo(f,c,d,_){return Cr(f.writeTree,f.treePath,c,d,_)}function N(f,c){return function Sl(f,c,d){let _=oe.EMPTY_NODE;const T=or(f.visibleWrites,c);if(T)return T.isLeafNode()||T.forEachChild(Qt,(H,Y)=>{_=_.updateImmediateChild(H,Y)}),_;if(d){const H=Tr(f.visibleWrites,c);return d.forEachChild(Qt,(Y,Ie)=>{const qe=as(Tr(H,new fr(Y)),Ie);_=_.updateImmediateChild(Y,qe)}),Ar(H).forEach(Y=>{_=_.updateImmediateChild(Y.name,Y.node)}),_}return Ar(Tr(f.visibleWrites,c)).forEach(Y=>{_=_.updateImmediateChild(Y.name,Y.node)}),_}(f.writeTree,f.treePath,c)}function x(f,c,d,_){return function An(f,c,d,_,T){(0,z.hu)(_||T,"Either existingEventSnap or existingServerSnap must exist");const H=Cn(c,d);if(Nn(f.visibleWrites,H))return null;{const Y=Tr(f.visibleWrites,H);return Ni(Y)?T.getChild(d):as(Y,T.getChild(d))}}(f.writeTree,f.treePath,c,d,_)}function I(f,c){return function Dn(f,c){return or(f.visibleWrites,c)}(f.writeTree,Cn(f.treePath,c))}function X(f,c,d){return function zt(f,c,d,_){const T=Cn(c,d),H=or(f.visibleWrites,T);return null!=H?H:_.isCompleteForChild(d)?as(Tr(f.visibleWrites,T),_.getNode().getImmediateChild(d)):null}(f.writeTree,f.treePath,c,d)}function ve(f,c){return Ke(Cn(f.treePath,c),f.writeTree)}function Ke(f,c){return{treePath:f,writeTree:c}}class lt{constructor(){this.changeMap=new Map}trackChildChange(c){const d=c.type,_=c.childName;(0,z.hu)("child_added"===d||"child_changed"===d||"child_removed"===d,"Only child changes supported for tracking"),(0,z.hu)(".priority"!==_,"Only non-priority child changes can be tracked.");const T=this.changeMap.get(_);if(T){const H=T.type;if("child_added"===d&&"child_removed"===H)this.changeMap.set(_,Wt(_,c.snapshotNode,T.snapshotNode));else if("child_removed"===d&&"child_added"===H)this.changeMap.delete(_);else if("child_removed"===d&&"child_changed"===H)this.changeMap.set(_,fe(_,T.oldSnap));else if("child_changed"===d&&"child_added"===H)this.changeMap.set(_,k(_,c.snapshotNode));else{if("child_changed"!==d||"child_changed"!==H)throw(0,z.g5)("Illegal combination of changes: "+c+" occurred after "+T);this.changeMap.set(_,Wt(_,c.snapshotNode,T.oldSnap))}}else this.changeMap.set(_,c)}getChanges(){return Array.from(this.changeMap.values())}}const Zn=new class Zt{getCompleteChild(c){return null}getChildAfterChild(c,d,_){return null}};class Fn{constructor(c,d,_=null){this.writes_=c,this.viewCache_=d,this.optCompleteServerCache_=_}getCompleteChild(c){const d=this.viewCache_.eventCache;if(d.isCompleteForChild(c))return d.getNode().getImmediateChild(c);{const _=null!=this.optCompleteServerCache_?new ur(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return X(this.writes_,c,_)}}getChildAfterChild(c,d,_){const T=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ei(this.viewCache_),H=function W(f,c,d,_,T,H){return function Ui(f,c,d,_,T,H,Y){let Ie;const qe=Tr(f.visibleWrites,c),ft=or(qe,Vn());if(null!=ft)Ie=ft;else{if(null==d)return[];Ie=as(qe,d)}if(Ie=Ie.withIndex(Y),Ie.isEmpty()||Ie.isLeafNode())return[];{const Yt=[],$t=Y.getCompare(),gn=H?Ie.getReverseIteratorFrom(_,Y):Ie.getIteratorFrom(_,Y);let _r=gn.getNext();for(;_r&&Yt.length<T;)0!==$t(_r,_)&&Yt.push(_r),_r=gn.getNext();return Yt}}(f.writeTree,f.treePath,c,d,_,T,H)}(this.writes_,T,d,1,_,c);return 0===H.length?null:H[0]}}function Eo(f,c,d,_,T,H){const Y=c.eventCache;if(null!=I(_,d))return c;{let Ie,qe;if(Un(d))if((0,z.hu)(c.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),c.serverCache.isFiltered()){const ft=ei(c),$t=N(_,ft instanceof oe?ft:oe.EMPTY_NODE);Ie=f.filter.updateFullNode(c.eventCache.getNode(),$t,H)}else{const ft=Zo(_,ei(c));Ie=f.filter.updateFullNode(c.eventCache.getNode(),ft,H)}else{const ft=pr(d);if(".priority"===ft){(0,z.hu)(1===ti(d),"Can't have a priority with additional path components");const Yt=Y.getNode();qe=c.serverCache.getNode();const $t=x(_,d,Yt,qe);Ie=null!=$t?f.filter.updatePriority(Yt,$t):Y.getNode()}else{const Yt=ct(d);let $t;if(Y.isCompleteForChild(ft)){qe=c.serverCache.getNode();const gn=x(_,d,Y.getNode(),qe);$t=null!=gn?Y.getNode().getImmediateChild(ft).updateChild(Yt,gn):Y.getNode().getImmediateChild(ft)}else $t=X(_,ft,c.serverCache);Ie=null!=$t?f.filter.updateChild(Y.getNode(),ft,$t,Yt,T,H):Y.getNode()}}return gs(c,Ie,Y.isFullyInitialized()||Un(d),f.filter.filtersNodes())}}function Oo(f,c,d,_,T,H,Y,Ie){const qe=c.serverCache;let ft;const Yt=Y?f.filter:f.filter.getIndexedFilter();if(Un(d))ft=Yt.updateFullNode(qe.getNode(),_,null);else if(Yt.filtersNodes()&&!qe.isFiltered()){const _r=qe.getNode().updateChild(d,_);ft=Yt.updateFullNode(qe.getNode(),_r,null)}else{const _r=pr(d);if(!qe.isCompleteForPath(d)&&ti(d)>1)return c;const Br=ct(d),Os=qe.getNode().getImmediateChild(_r).updateChild(Br,_);ft=".priority"===_r?Yt.updatePriority(qe.getNode(),Os):Yt.updateChild(qe.getNode(),_r,Os,Br,Zn,null)}const $t=Ei(c,ft,qe.isFullyInitialized()||Un(d),Yt.filtersNodes());return Eo(f,$t,d,T,new Fn(T,$t,H),Ie)}function jo(f,c,d,_,T,H,Y){const Ie=c.eventCache;let qe,ft;const Yt=new Fn(T,c,H);if(Un(d))ft=f.filter.updateFullNode(c.eventCache.getNode(),_,Y),qe=gs(c,ft,!0,f.filter.filtersNodes());else{const $t=pr(d);if(".priority"===$t)ft=f.filter.updatePriority(c.eventCache.getNode(),_),qe=gs(c,ft,Ie.isFullyInitialized(),Ie.isFiltered());else{const gn=ct(d),_r=Ie.getNode().getImmediateChild($t);let Br;if(Un(gn))Br=_;else{const Ii=Yt.getCompleteChild($t);Br=null!=Ii?".priority"===st(gn)&&Ii.getChild(ln(gn)).isEmpty()?Ii:Ii.updateChild(gn,_):oe.EMPTY_NODE}qe=_r.equals(Br)?c:gs(c,f.filter.updateChild(Ie.getNode(),$t,Br,gn,Yt,Y),Ie.isFullyInitialized(),f.filter.filtersNodes())}}return qe}function Zs(f,c){return f.eventCache.isCompleteForChild(c)}function ol(f,c,d){return d.foreach((_,T)=>{c=c.updateChild(_,T)}),c}function hs(f,c,d,_,T,H,Y,Ie){if(c.serverCache.getNode().isEmpty()&&!c.serverCache.isFullyInitialized())return c;let ft,qe=c;ft=Un(d)?_:new ri(null).setTree(d,_);const Yt=c.serverCache.getNode();return ft.children.inorderTraversal(($t,gn)=>{if(Yt.hasChild($t)){const Br=ol(0,c.serverCache.getNode().getImmediateChild($t),gn);qe=Oo(f,qe,new fr($t),Br,T,H,Y,Ie)}}),ft.children.inorderTraversal(($t,gn)=>{const _r=!c.serverCache.isCompleteForChild($t)&&void 0===gn.value;if(!Yt.hasChild($t)&&!_r){const Ii=ol(0,c.serverCache.getNode().getImmediateChild($t),gn);qe=Oo(f,qe,new fr($t),Ii,T,H,Y,Ie)}}),qe}class Gl{constructor(c,d){this.query_=c,this.eventRegistrations_=[];const _=this.query_._queryParams,T=new ui(_.getIndex()),H=function pn(f){return f.loadsAllData()?new ui(f.getIndex()):f.hasLimit()?new oo(f):new Yi(f)}(_);this.processor_=function ir(f){return{filter:f}}(H);const Y=d.serverCache,Ie=d.eventCache,qe=T.updateFullNode(oe.EMPTY_NODE,Y.getNode(),null),ft=H.updateFullNode(oe.EMPTY_NODE,Ie.getNode(),null),Yt=new ur(qe,Y.isFullyInitialized(),T.filtersNodes()),$t=new ur(ft,Ie.isFullyInitialized(),H.filtersNodes());this.viewCache_=di($t,Yt),this.eventGenerator_=new Vr(this.query_)}get query(){return this.query_}}function ho(f,c){const d=ei(f.viewCache_);return d&&(f.query._queryParams.loadsAllData()||!Un(c)&&!d.getImmediateChild(pr(c)).isEmpty())?d.getChild(c):null}function Al(f){return 0===f.eventRegistrations_.length}function wo(f,c,d){const _=[];if(d){(0,z.hu)(null==c,"A cancel should cancel all event registrations.");const T=f.query._path;f.eventRegistrations_.forEach(H=>{const Y=H.createCancelEvent(d,T);Y&&_.push(Y)})}if(c){let T=[];for(let H=0;H<f.eventRegistrations_.length;++H){const Y=f.eventRegistrations_[H];if(Y.matches(c)){if(c.hasAnyCallback()){T=T.concat(f.eventRegistrations_.slice(H+1));break}}else T.push(Y)}f.eventRegistrations_=T}else f.eventRegistrations_=[];return _}function Kl(f,c,d,_){c.type===it.MERGE&&null!==c.source.queryId&&((0,z.hu)(ei(f.viewCache_),"We should always have a full cache before handling merges"),(0,z.hu)(zi(f.viewCache_),"Missing event cache, even though we have a server cache"));const T=f.viewCache_,H=function xr(f,c,d,_,T){const H=new lt;let Y,Ie;if(d.type===it.OVERWRITE){const ft=d;ft.source.fromUser?Y=jo(f,c,ft.path,ft.snap,_,T,H):((0,z.hu)(ft.source.fromServer,"Unknown source."),Ie=ft.source.tagged||c.serverCache.isFiltered()&&!Un(ft.path),Y=Oo(f,c,ft.path,ft.snap,_,T,Ie,H))}else if(d.type===it.MERGE){const ft=d;ft.source.fromUser?Y=function vi(f,c,d,_,T,H,Y){let Ie=c;return _.foreach((qe,ft)=>{const Yt=Cn(d,qe);Zs(c,pr(Yt))&&(Ie=jo(f,Ie,Yt,ft,T,H,Y))}),_.foreach((qe,ft)=>{const Yt=Cn(d,qe);Zs(c,pr(Yt))||(Ie=jo(f,Ie,Yt,ft,T,H,Y))}),Ie}(f,c,ft.path,ft.children,_,T,H):((0,z.hu)(ft.source.fromServer,"Unknown source."),Ie=ft.source.tagged||c.serverCache.isFiltered(),Y=hs(f,c,ft.path,ft.children,_,T,Ie,H))}else if(d.type===it.ACK_USER_WRITE){const ft=d;Y=ft.revert?function ls(f,c,d,_,T,H){let Y;if(null!=I(_,d))return c;{const Ie=new Fn(_,c,T),qe=c.eventCache.getNode();let ft;if(Un(d)||".priority"===pr(d)){let Yt;if(c.serverCache.isFullyInitialized())Yt=Zo(_,ei(c));else{const $t=c.serverCache.getNode();(0,z.hu)($t instanceof oe,"serverChildren would be complete if leaf node"),Yt=N(_,$t)}Yt=Yt,ft=f.filter.updateFullNode(qe,Yt,H)}else{const Yt=pr(d);let $t=X(_,Yt,c.serverCache);null==$t&&c.serverCache.isCompleteForChild(Yt)&&($t=qe.getImmediateChild(Yt)),ft=null!=$t?f.filter.updateChild(qe,Yt,$t,ct(d),Ie,H):c.eventCache.getNode().hasChild(Yt)?f.filter.updateChild(qe,Yt,oe.EMPTY_NODE,ct(d),Ie,H):qe,ft.isEmpty()&&c.serverCache.isFullyInitialized()&&(Y=Zo(_,ei(c)),Y.isLeafNode()&&(ft=f.filter.updateFullNode(ft,Y,H)))}return Y=c.serverCache.isFullyInitialized()||null!=I(_,Vn()),gs(c,ft,Y,f.filter.filtersNodes())}}(f,c,ft.path,_,T,H):function bo(f,c,d,_,T,H,Y){if(null!=I(T,d))return c;const Ie=c.serverCache.isFiltered(),qe=c.serverCache;if(null!=_.value){if(Un(d)&&qe.isFullyInitialized()||qe.isCompleteForPath(d))return Oo(f,c,d,qe.getNode().getChild(d),T,H,Ie,Y);if(Un(d)){let ft=new ri(null);return qe.getNode().forEachChild(ji,(Yt,$t)=>{ft=ft.set(new fr(Yt),$t)}),hs(f,c,d,ft,T,H,Ie,Y)}return c}{let ft=new ri(null);return _.foreach((Yt,$t)=>{const gn=Cn(d,Yt);qe.isCompleteForPath(gn)&&(ft=ft.set(Yt,qe.getNode().getChild(gn)))}),hs(f,c,d,ft,T,H,Ie,Y)}}(f,c,ft.path,ft.affectedTree,_,T,H)}else{if(d.type!==it.LISTEN_COMPLETE)throw(0,z.g5)("Unknown operation type: "+d.type);Y=function zl(f,c,d,_,T){const H=c.serverCache;return Eo(f,Ei(c,H.getNode(),H.isFullyInitialized()||Un(d),H.isFiltered()),d,_,Zn,T)}(f,c,d.path,_,H)}const qe=H.getChanges();return function ar(f,c,d){const _=c.eventCache;if(_.isFullyInitialized()){const T=_.getNode().isLeafNode()||_.getNode().isEmpty(),H=zi(f);(d.length>0||!f.eventCache.isFullyInitialized()||T&&!_.getNode().equals(H)||!_.getNode().getPriority().equals(H.getPriority()))&&d.push(U(zi(c)))}}(c,Y,qe),{viewCache:Y,changes:qe}}(f.processor_,T,c,d,_);return function yi(f,c){(0,z.hu)(c.eventCache.getNode().isIndexed(f.filter.getIndex()),"Event snap not indexed"),(0,z.hu)(c.serverCache.getNode().isIndexed(f.filter.getIndex()),"Server snap not indexed")}(f.processor_,H.viewCache),(0,z.hu)(H.viewCache.serverCache.isFullyInitialized()||!T.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),f.viewCache_=H.viewCache,qi(f,H.changes,H.viewCache.eventCache.getNode(),null)}function qi(f,c,d,_){return function gi(f,c,d,_){const T=[],H=[];return c.forEach(Y=>{"child_changed"===Y.type&&f.index_.indexedValueChanged(Y.oldSnap,Y.snapshotNode)&&H.push(function zn(f,c){return{type:"child_moved",snapshotNode:c,childName:f}}(Y.childName,Y.snapshotNode))}),Di(f,T,"child_removed",c,_,d),Di(f,T,"child_added",c,_,d),Di(f,T,"child_moved",H,_,d),Di(f,T,"child_changed",c,_,d),Di(f,T,"value",c,_,d),T}(f.eventGenerator_,c,d,_?[_]:f.eventRegistrations_)}let Va,no;class Gu{constructor(){this.views=new Map}}function wa(f,c,d,_){const T=c.source.queryId;if(null!==T){const H=f.views.get(T);return(0,z.hu)(null!=H,"SyncTree gave us an op for an invalid query."),Kl(H,c,d,_)}{let H=[];for(const Y of f.views.values())H=H.concat(Kl(Y,c,d,_));return H}}function ko(f,c,d,_,T){const Y=f.views.get(c._queryIdentifier);if(!Y){let Ie=Zo(d,T?_:null),qe=!1;Ie?qe=!0:_ instanceof oe?(Ie=N(d,_),qe=!1):(Ie=oe.EMPTY_NODE,qe=!1);const ft=di(new ur(Ie,qe,!1),new ur(_,T,!1));return new Gl(c,ft)}return Y}function Cs(f){const c=[];for(const d of f.views.values())d.query._queryParams.loadsAllData()||c.push(d);return c}function js(f,c){let d=null;for(const _ of f.views.values())d=d||ho(_,c);return d}function Ba(f,c){return c._queryParams.loadsAllData()?Ds(f):f.views.get(c._queryIdentifier)}function ca(f,c){return null!=Ba(f,c)}function fo(f){return null!=Ds(f)}function Ds(f){for(const c of f.views.values())if(c.query._queryParams.loadsAllData())return c;return null}let $s=1;class Ca{constructor(c){this.listenProvider_=c,this.syncPointTree_=new ri(null),this.pendingWriteTree_=function aa(){return{visibleWrites:Gi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function al(f,c,d,_,T){return function _i(f,c,d,_,T){(0,z.hu)(_>f.lastWriteId,"Stacking an older write on top of newer ones"),void 0===T&&(T=!0),f.allWrites.push({path:c,snap:d,writeId:_,visible:T}),T&&(f.visibleWrites=ts(f.visibleWrites,c,d)),f.lastWriteId=_}(f.pendingWriteTree_,c,d,_,T),T?Za(f,new br({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},c,d)):[]}function Yo(f,c,d=!1){const _=function Tl(f,c){for(let d=0;d<f.allWrites.length;d++){const _=f.allWrites[d];if(_.writeId===c)return _}return null}(f.pendingWriteTree_,c);if(function yn(f,c){const d=f.allWrites.findIndex(Ie=>Ie.writeId===c);(0,z.hu)(d>=0,"removeWrite called with nonexistent writeId.");const _=f.allWrites[d];f.allWrites.splice(d,1);let T=_.visible,H=!1,Y=f.allWrites.length-1;for(;T&&Y>=0;){const Ie=f.allWrites[Y];Ie.visible&&(Y>=d&&ai(Ie,_.path)?T=!1:Ci(_.path,Ie.path)&&(H=!0)),Y--}return!!T&&(H?(function ws(f){f.visibleWrites=Xn(f.allWrites,eo,Vn()),f.lastWriteId=f.allWrites.length>0?f.allWrites[f.allWrites.length-1].writeId:-1}(f),!0):(_.snap?f.visibleWrites=Ho(f.visibleWrites,_.path):At(_.children,qe=>{f.visibleWrites=Ho(f.visibleWrites,Cn(_.path,qe))}),!0))}(f.pendingWriteTree_,c)){let H=new ri(null);return null!=_.snap?H=H.set(Vn(),!0):At(_.children,Y=>{H=H.set(new fr(Y),!0)}),Za(f,new Hn(_.path,H,d))}return[]}function da(f,c,d){return Za(f,new br({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,d))}function No(f,c,d,_){const T=c._path,H=f.syncPointTree_.get(T);let Y=[];if(H&&("default"===c._queryIdentifier||ca(H,c))){const Ie=function ua(f,c,d,_){const T=c._queryIdentifier,H=[];let Y=[];const Ie=fo(f);if("default"===T)for(const[qe,ft]of f.views.entries())Y=Y.concat(wo(ft,d,_)),Al(ft)&&(f.views.delete(qe),ft.query._queryParams.loadsAllData()||H.push(ft.query));else{const qe=f.views.get(T);qe&&(Y=Y.concat(wo(qe,d,_)),Al(qe)&&(f.views.delete(T),qe.query._queryParams.loadsAllData()||H.push(qe.query)))}return Ie&&!fo(f)&&H.push(new(function yu(){return(0,z.hu)(Va,"Reference.ts has not been loaded"),Va}())(c._repo,c._path)),{removed:H,events:Y}}(H,c,d,_);(function vu(f){return 0===f.views.size})(H)&&(f.syncPointTree_=f.syncPointTree_.remove(T));const qe=Ie.removed;Y=Ie.events;const ft=-1!==qe.findIndex($t=>$t._queryParams.loadsAllData()),Yt=f.syncPointTree_.findOnPath(T,($t,gn)=>fo(gn));if(ft&&!Yt){const $t=f.syncPointTree_.subtree(T);if(!$t.isEmpty()){const gn=function ll(f){return f.fold((c,d,_)=>{if(d&&fo(d))return[Ds(d)];{let T=[];return d&&(T=Cs(d)),At(_,(H,Y)=>{T=T.concat(Y)}),T}})}($t);for(let _r=0;_r<gn.length;++_r){const Br=gn[_r],Ii=Br.query,Os=Jo(f,Br);f.listenProvider_.startListening(V(Ii),ha(f,Ii),Os.hashFn,Os.onComplete)}}}!Yt&&qe.length>0&&!_&&(ft?f.listenProvider_.stopListening(V(c),null):qe.forEach($t=>{const gn=f.queryToTagMap.get(ea($t));f.listenProvider_.stopListening(V($t),gn)})),function q(f,c){for(let d=0;d<c.length;++d){const _=c[d];if(!_._queryParams.loadsAllData()){const T=ea(_),H=f.queryToTagMap.get(T);f.queryToTagMap.delete(T),f.tagToQueryMap.delete(H)}}}(f,qe)}return Y}function Xo(f,c,d){const _=c._path;let T=null,H=!1;f.syncPointTree_.foreachOnPath(_,($t,gn)=>{const _r=Mr($t,_);T=T||js(gn,_r),H=H||fo(gn)});let Ie,Y=f.syncPointTree_.get(_);Y?(H=H||fo(Y),T=T||js(Y,Vn())):(Y=new Gu,f.syncPointTree_=f.syncPointTree_.set(_,Y)),null!=T?Ie=!0:(Ie=!1,T=oe.EMPTY_NODE,f.syncPointTree_.subtree(_).foreachChild((gn,_r)=>{const Br=js(_r,Vn());Br&&(T=T.updateImmediateChild(gn,Br))}));const qe=ca(Y,c);if(!qe&&!c._queryParams.loadsAllData()){const $t=ea(c);(0,z.hu)(!f.queryToTagMap.has($t),"View does not exist, but we have a tag");const gn=function ce(){return $s++}();f.queryToTagMap.set($t,gn),f.tagToQueryMap.set(gn,$t)}let Yt=function la(f,c,d,_,T,H){const Y=ko(f,c,_,T,H);return f.views.has(c._queryIdentifier)||f.views.set(c._queryIdentifier,Y),function Ml(f,c){f.eventRegistrations_.push(c)}(Y,d),function ba(f,c){const d=f.viewCache_.eventCache,_=[];return d.getNode().isLeafNode()||d.getNode().forEachChild(Qt,(H,Y)=>{_.push(k(H,Y))}),d.isFullyInitialized()&&_.push(U(d.getNode())),qi(f,_,d.getNode(),c)}(Y,d)}(Y,c,d,Ki(f.pendingWriteTree_,_),T,Ie);if(!qe&&!H){const $t=Ba(Y,c);Yt=Yt.concat(function et(f,c,d){const _=c._path,T=ha(f,c),H=Jo(f,d),Y=f.listenProvider_.startListening(V(c),T,H.hashFn,H.onComplete),Ie=f.syncPointTree_.subtree(_);if(T)(0,z.hu)(!fo(Ie.value),"If we're adding a query, it shouldn't be shadowed");else{const qe=Ie.fold((ft,Yt,$t)=>{if(!Un(ft)&&Yt&&fo(Yt))return[Ds(Yt).query];{let gn=[];return Yt&&(gn=gn.concat(Cs(Yt).map(_r=>_r.query))),At($t,(_r,Br)=>{gn=gn.concat(Br)}),gn}});for(let ft=0;ft<qe.length;++ft){const Yt=qe[ft];f.listenProvider_.stopListening(V(Yt),ha(f,Yt))}}return Y}(f,c,$t))}return Yt}function $o(f,c,d){const T=f.pendingWriteTree_,H=f.syncPointTree_.findOnPath(c,(Y,Ie)=>{const ft=js(Ie,Mr(Y,c));if(ft)return ft});return Cr(T,c,H,d,!0)}function Za(f,c){return Ns(c,f.syncPointTree_,null,Ki(f.pendingWriteTree_,Vn()))}function Ns(f,c,d,_){if(Un(f.path))return Zl(f,c,d,_);{const T=c.get(Vn());null==d&&null!=T&&(d=js(T,Vn()));let H=[];const Y=pr(f.path),Ie=f.operationForChild(Y),qe=c.children.get(Y);if(qe&&Ie){const ft=d?d.getImmediateChild(Y):null,Yt=ve(_,Y);H=H.concat(Ns(Ie,qe,ft,Yt))}return T&&(H=H.concat(wa(T,f,_,d))),H}}function Zl(f,c,d,_){const T=c.get(Vn());null==d&&null!=T&&(d=js(T,Vn()));let H=[];return c.children.inorderTraversal((Y,Ie)=>{const qe=d?d.getImmediateChild(Y):null,ft=ve(_,Y),Yt=f.operationForChild(Y);Yt&&(H=H.concat(Zl(Yt,Ie,qe,ft)))}),T&&(H=H.concat(wa(T,f,_,d))),H}function Jo(f,c){const d=c.query,_=ha(f,d);return{hashFn:()=>(function to(f){return f.viewCache_.serverCache.getNode()}(c)||oe.EMPTY_NODE).hash(),onComplete:T=>{if("ok"===T)return _?function Qi(f,c,d){const _=ta(f,d);if(_){const T=fa(_),H=T.path,Y=T.queryId,Ie=Mr(H,c);return na(f,H,new Qn(Jt(Y),Ie))}return[]}(f,d._path,_):function Co(f,c){return Za(f,new Qn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c))}(f,d._path);{const H=function vt(f,c){let d="Unknown Error";"too_big"===f?d="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===f?d="Client doesn't have permission to access the desired data.":"unavailable"===f&&(d="The service is unavailable");const _=new Error(f+" at "+c._path.toString()+": "+d);return _.code=f.toUpperCase(),_}(T,d);return No(f,d,null,H)}}}}function ha(f,c){const d=ea(c);return f.queryToTagMap.get(d)}function ea(f){return f._path.toString()+"$"+f._queryIdentifier}function ta(f,c){return f.tagToQueryMap.get(c)}function fa(f){const c=f.indexOf("$");return(0,z.hu)(-1!==c&&c<f.length-1,"Bad queryKey."),{queryId:f.substr(c+1),path:new fr(f.substr(0,c))}}function na(f,c,d){const _=f.syncPointTree_.get(c);return(0,z.hu)(_,"Missing sync point for query tag that we're tracking"),wa(_,d,Ki(f.pendingWriteTree_,c),null)}function V(f){return f._queryParams.loadsAllData()&&!f._queryParams.isDefault()?new(function Ua(){return(0,z.hu)(no,"Reference.ts has not been loaded"),no}())(f._repo,f._path):f}class Ot{constructor(c){this.node_=c}getImmediateChild(c){const d=this.node_.getImmediateChild(c);return new Ot(d)}node(){return this.node_}}class jt{constructor(c,d){this.syncTree_=c,this.path_=d}getImmediateChild(c){const d=Cn(this.path_,c);return new jt(this.syncTree_,d)}node(){return $o(this.syncTree_,this.path_)}}const jn=function(f,c,d){return f&&"object"==typeof f?((0,z.hu)(".sv"in f,"Unexpected leaf node or priority contents"),"string"==typeof f[".sv"]?Gr(f[".sv"],c,d):"object"==typeof f[".sv"]?qr(f[".sv"],c):void(0,z.hu)(!1,"Unexpected server value: "+JSON.stringify(f,null,2))):f},Gr=function(f,c,d){if("timestamp"===f)return d.timestamp;(0,z.hu)(!1,"Unexpected server value: "+f)},qr=function(f,c,d){f.hasOwnProperty("increment")||(0,z.hu)(!1,"Unexpected server value: "+JSON.stringify(f,null,2));const _=f.increment;"number"!=typeof _&&(0,z.hu)(!1,"Unexpected increment value: "+_);const T=c.node();if((0,z.hu)(null!=T,"Expected ChildrenNode.EMPTY_NODE for nulls"),!T.isLeafNode())return _;const Y=T.getValue();return"number"!=typeof Y?_:Y+_},pi=function(f,c,d,_){return Is(c,new jt(d,f),_)},Sr=function(f,c,d){return Is(f,new Ot(c),d)};function Is(f,c,d){const _=f.getPriority().val(),T=jn(_,c.getImmediateChild(".priority"),d);let H;if(f.isLeafNode()){const Y=f,Ie=jn(Y.getValue(),c,d);return Ie!==Y.getValue()||T!==Y.getPriority().val()?new ds(Ie,Ft(T)):f}{const Y=f;return H=Y,T!==Y.getPriority().val()&&(H=H.updatePriority(new ds(T))),Y.forEachChild(Qt,(Ie,qe)=>{const ft=Is(qe,c.getImmediateChild(Ie),d);ft!==qe&&(H=H.updateImmediateChild(Ie,ft))}),H}}class xs{constructor(c="",d=null,_={children:{},childCount:0}){this.name=c,this.parent=d,this.node=_}}function ra(f,c){let d=c instanceof fr?c:new fr(c),_=f,T=pr(d);for(;null!==T;){const H=(0,z.DV)(_.node.children,T)||{children:{},childCount:0};_=new xs(T,_,H),d=ct(d),T=pr(d)}return _}function Do(f){return f.node.value}function Rs(f,c){f.node.value=c,Rl(f)}function Wo(f){return f.node.childCount>0}function Da(f,c){At(f.node.children,(d,_)=>{c(new xs(d,f,_))})}function ul(f,c,d,_){d&&!_&&c(f),Da(f,T=>{ul(T,c,!0,_)}),d&&_&&c(f)}function Ia(f){return new fr(null===f.parent?f.name:Ia(f.parent)+"/"+f.name)}function Rl(f){null!==f.parent&&function Ol(f,c,d){const _=function Ys(f){return void 0===Do(f)&&!Wo(f)}(d),T=(0,z.r3)(f.node.children,c);_&&T?(delete f.node.children[c],f.node.childCount--,Rl(f)):!_&&!T&&(f.node.children[c]=d.node,f.node.childCount++,Rl(f))}(f.parent,f.name,f)}const Po=/[\[\].#$\/\u0000-\u001F\u007F]/,dl=/[\[\].#$\u0000-\u001F\u007F]/,pa=10485760,kl=function(f){return"string"==typeof f&&0!==f.length&&!Po.test(f)},Ku=function(f){return"string"==typeof f&&0!==f.length&&!dl.test(f)},Nl=function(f){return null===f||"string"==typeof f||"number"==typeof f&&!_t(f)||f&&"object"==typeof f&&(0,z.r3)(f,".sv")},Ta=function(f,c,d,_){_&&void 0===c||Yl((0,z.gK)(f,"value"),c,d)},Yl=function(f,c,d){const _=d instanceof fr?new ns(d,f):d;if(void 0===c)throw new Error(f+"contains undefined "+Mi(_));if("function"==typeof c)throw new Error(f+"contains a function "+Mi(_)+" with contents = "+c.toString());if(_t(c))throw new Error(f+"contains "+c.toString()+" "+Mi(_));if("string"==typeof c&&c.length>pa/3&&(0,z.ug)(c)>pa)throw new Error(f+"contains a string greater than "+pa+" utf8 bytes "+Mi(_)+" ('"+c.substring(0,50)+"...')");if(c&&"object"==typeof c){let T=!1,H=!1;if(At(c,(Y,Ie)=>{if(".value"===Y)T=!0;else if(".priority"!==Y&&".sv"!==Y&&(H=!0,!kl(Y)))throw new Error(f+" contains an invalid key ("+Y+") "+Mi(_)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ys(f,c){f.parts_.length>0&&(f.byteLength_+=1),f.parts_.push(c),f.byteLength_+=(0,z.ug)(c),Mo(f)})(_,Y),Yl(f,Ie,_),function Zi(f){const c=f.parts_.pop();f.byteLength_-=(0,z.ug)(c),f.parts_.length>0&&(f.byteLength_-=1)}(_)}),T&&H)throw new Error(f+' contains ".value" child '+Mi(_)+" in addition to actual children.")}},qu=function(f,c,d,_){if(_&&void 0===c)return;const T=(0,z.gK)(f,"values");if(!c||"object"!=typeof c||Array.isArray(c))throw new Error(T+" must be an object containing the children to replace.");const H=[];At(c,(Y,Ie)=>{const qe=new fr(Y);if(Yl(T,Ie,Cn(d,qe)),".priority"===st(qe)&&!Nl(Ie))throw new Error(T+"contains an invalid value for '"+qe.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");H.push(qe)}),function(f,c){let d,_;for(d=0;d<c.length;d++){_=c[d];const H=on(_);for(let Y=0;Y<H.length;Y++)if((".priority"!==H[Y]||Y!==H.length-1)&&!kl(H[Y]))throw new Error(f+"contains an invalid key ("+H[Y]+") in path "+_.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}c.sort(Fr);let T=null;for(d=0;d<c.length;d++){if(_=c[d],null!==T&&Ci(T,_))throw new Error(f+"contains a path "+T.toString()+" that is ancestor of another path "+_.toString());T=_}}(T,H)},fl=function(f,c,d){if(!d||void 0!==c){if(_t(c))throw new Error((0,z.gK)(f,"priority")+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Nl(c))throw new Error((0,z.gK)(f,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Sa=function(f,c,d,_){if(!(_&&void 0===d||kl(d)))throw new Error((0,z.gK)(f,c)+'was an invalid key = "'+d+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ha=function(f,c,d,_){if(!(_&&void 0===d||Ku(d)))throw new Error((0,z.gK)(f,c)+'was an invalid path = "'+d+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ia=function(f,c){if(".info"===pr(c))throw new Error(f+" failed = Can't modify data under /.info/")},Pl=function(f,c){const d=c.path.toString();if("string"!=typeof c.repoInfo.host||0===c.repoInfo.host.length||!kl(c.repoInfo.namespace)&&"localhost"!==c.repoInfo.host.split(":")[0]||0!==d.length&&!function(f){return f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),Ku(f)}(d))throw new Error((0,z.gK)(f,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Aa{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pl(f,c){let d=null;for(let _=0;_<c.length;_++){const T=c[_],H=T.getPath();null!==d&&!mi(H,d.path)&&(f.eventLists_.push(d),d=null),null===d&&(d={events:[],path:H}),d.events.push(T)}d&&f.eventLists_.push(d)}function Ma(f,c,d){pl(f,d),Ya(f,_=>mi(_,c))}function Io(f,c,d){pl(f,d),Ya(f,_=>Ci(_,c)||Ci(c,_))}function Ya(f,c){f.recursionDepth_++;let d=!0;for(let _=0;_<f.eventLists_.length;_++){const T=f.eventLists_[_];T&&(c(T.path)?(Qa(f.eventLists_[_]),f.eventLists_[_]=null):d=!1)}d&&(f.eventLists_=[]),f.recursionDepth_--}function Qa(f){for(let c=0;c<f.events.length;c++){const d=f.events[c];if(null!==d){f.events[c]=null;const _=d.getEventRunner();Ye&&De("event: "+d.toString()),Kn(_)}}}const Yu="repo_interrupt";class Qu{constructor(c,d,_,T){this.repoInfo_=c,this.forceRestClient_=d,this.authTokenProvider_=_,this.appCheckProvider_=T,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Aa,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ps(),this.transactionQueueTree_=new xs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ts(f){const d=f.infoData_.getNode(new fr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+d}function po(f){return function(f){return(f=f||{}).timestamp=f.timestamp||(new Date).getTime(),f}({timestamp:Ts(f)})}function ma(f,c,d,_,T){f.dataUpdateCount++;const H=new fr(c);d=f.interceptServerDataCallback_?f.interceptServerDataCallback_(c,d):d;let Y=[];if(T)if(_){const qe=(0,z.UI)(d,ft=>Ft(ft));Y=function Qo(f,c,d,_){const T=ta(f,_);if(T){const H=fa(T),Y=H.path,Ie=H.queryId,qe=Mr(Y,c),ft=ri.fromObject(d);return na(f,Y,new kr(Jt(Ie),qe,ft))}return[]}(f.serverSyncTree_,H,qe,T)}else{const qe=Ft(d);Y=function Eu(f,c,d,_){const T=ta(f,_);if(null!=T){const H=fa(T),Y=H.path,Ie=H.queryId,qe=Mr(Y,c);return na(f,Y,new br(Jt(Ie),qe,d))}return[]}(f.serverSyncTree_,H,qe,T)}else if(_){const qe=(0,z.UI)(d,ft=>Ft(ft));Y=function Ms(f,c,d){const _=ri.fromObject(d);return Za(f,new kr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,_))}(f.serverSyncTree_,H,qe)}else{const qe=Ft(d);Y=da(f.serverSyncTree_,H,qe)}let Ie=H;Y.length>0&&(Ie=zo(f,H)),Io(f.eventQueue_,Ie,Y)}function Xu(f,c){Ju(f,"connected",c),!1===c&&function Cc(f){mn(f,"onDisconnectEvents");const c=po(f),d=ps();co(f.onDisconnect_,Vn(),(T,H)=>{const Y=pi(T,H,f.serverSyncTree_,c);Wi(d,T,Y)});let _=[];co(d,Vn(),(T,H)=>{_=_.concat(da(f.serverSyncTree_,T,H));const Y=xa(f,T);zo(f,Y)}),f.onDisconnect_=ps(),Io(f.eventQueue_,Vn(),_)}(f)}function Ju(f,c,d){const _=new fr("/.info/"+c),T=Ft(d);f.infoData_.updateSnapshot(_,T);const H=da(f.infoSyncTree_,_,T);Io(f.eventQueue_,_,H)}function Fl(f){return f.nextWriteId_++}function ml(f,c,d,_,T){mn(f,"set",{path:c.toString(),value:d,priority:_});const H=po(f),Y=Ft(d,_),Ie=$o(f.serverSyncTree_,c),qe=Sr(Y,Ie,H),ft=Fl(f),Yt=al(f.serverSyncTree_,c,qe,ft,!0);pl(f.eventQueue_,Yt),f.server_.put(c.toString(),Y.val(!0),(gn,_r)=>{const Br="ok"===gn;Br||Tt("set at "+c+" failed: "+gn);const Ii=Yo(f.serverSyncTree_,ft,!Br);Io(f.eventQueue_,c,Ii),Yn(0,T,gn,_r)});const $t=xa(f,c);zo(f,$t),Io(f.eventQueue_,$t,[])}function Dc(f,c,d){f.server_.onDisconnectCancel(c.toString(),(_,T)=>{"ok"===_&&Ks(f.onDisconnect_,c),Yn(0,d,_,T)})}function A(f,c,d,_){const T=Ft(d);f.server_.onDisconnectPut(c.toString(),T.val(!0),(H,Y)=>{"ok"===H&&Wi(f.onDisconnect_,c,T),Yn(0,_,H,Y)})}function ae(f,c,d){let _;_=".info"===pr(c._path)?No(f.infoSyncTree_,c,d):No(f.serverSyncTree_,c,d),Ma(f.eventQueue_,c._path,_)}function xe(f){f.persistentConnection_&&f.persistentConnection_.interrupt(Yu)}function mn(f,...c){let d="";f.persistentConnection_&&(d=f.persistentConnection_.id+":"),De(d,...c)}function Yn(f,c,d,_){c&&Kn(()=>{if("ok"===d)c(null);else{const T=(d||"error").toUpperCase();let H=T;_&&(H+=": "+_);const Y=new Error(H);Y.code=T,c(Y)}})}function Qr(f,c,d){return $o(f.serverSyncTree_,c,d)||oe.EMPTY_NODE}function li(f,c=f.transactionQueueTree_){if(c||Ll(f,c),Do(c)){const d=ro(f,c);(0,z.hu)(d.length>0,"Sending zero length transaction queue"),d.every(T=>0===T.status)&&function Si(f,c,d){const _=d.map(ft=>ft.currentWriteId),T=Qr(f,c,_);let H=T;const Y=T.hash();for(let ft=0;ft<d.length;ft++){const Yt=d[ft];(0,z.hu)(0===Yt.status,"tryToSendTransactionQueue_: items in queue should all be run."),Yt.status=1,Yt.retryCount++;const $t=Mr(c,Yt.path);H=H.updateChild($t,Yt.currentOutputSnapshotRaw)}const Ie=H.val(!0),qe=c;f.server_.put(qe.toString(),Ie,ft=>{mn(f,"transaction put response",{path:qe.toString(),status:ft});let Yt=[];if("ok"===ft){const $t=[];for(let gn=0;gn<d.length;gn++)d[gn].status=2,Yt=Yt.concat(Yo(f.serverSyncTree_,d[gn].currentWriteId)),d[gn].onComplete&&$t.push(()=>d[gn].onComplete(null,!0,d[gn].currentOutputSnapshotResolved)),d[gn].unwatcher();Ll(f,ra(f.transactionQueueTree_,c)),li(f,f.transactionQueueTree_),Io(f.eventQueue_,c,Yt);for(let gn=0;gn<$t.length;gn++)Kn($t[gn])}else{if("datastale"===ft)for(let $t=0;$t<d.length;$t++)d[$t].status=3===d[$t].status?4:0;else{Tt("transaction at "+qe.toString()+" failed: "+ft);for(let $t=0;$t<d.length;$t++)d[$t].status=4,d[$t].abortReason=ft}zo(f,c)}},Y)}(f,Ia(c),d)}else Wo(c)&&Da(c,d=>{li(f,d)})}function zo(f,c){const d=Jl(f,c),_=Ia(d);return function ga(f,c,d){if(0===c.length)return;const _=[];let T=[];const Y=c.filter(Ie=>0===Ie.status).map(Ie=>Ie.currentWriteId);for(let Ie=0;Ie<c.length;Ie++){const qe=c[Ie],ft=Mr(d,qe.path);let $t,Yt=!1;if((0,z.hu)(null!==ft,"rerunTransactionsUnderNode_: relativePath should not be null."),4===qe.status)Yt=!0,$t=qe.abortReason,T=T.concat(Yo(f.serverSyncTree_,qe.currentWriteId,!0));else if(0===qe.status)if(qe.retryCount>=25)Yt=!0,$t="maxretry",T=T.concat(Yo(f.serverSyncTree_,qe.currentWriteId,!0));else{const gn=Qr(f,qe.path,Y);qe.currentInputSnapshot=gn;const _r=c[Ie].update(gn.val());if(void 0!==_r){Yl("transaction failed: Data returned ",_r,qe.path);let Br=Ft(_r);"object"==typeof _r&&null!=_r&&(0,z.r3)(_r,".priority")||(Br=Br.updatePriority(gn.getPriority()));const Os=qe.currentWriteId,tl=po(f),vl=Sr(Br,gn,tl);qe.currentOutputSnapshotRaw=Br,qe.currentOutputSnapshotResolved=vl,qe.currentWriteId=Fl(f),Y.splice(Y.indexOf(Os),1),T=T.concat(al(f.serverSyncTree_,qe.path,vl,qe.currentWriteId,qe.applyLocally)),T=T.concat(Yo(f.serverSyncTree_,Os,!0))}else Yt=!0,$t="nodata",T=T.concat(Yo(f.serverSyncTree_,qe.currentWriteId,!0))}Io(f.eventQueue_,d,T),T=[],Yt&&(c[Ie].status=2,setTimeout(c[Ie].unwatcher,Math.floor(0)),c[Ie].onComplete&&_.push("nodata"===$t?()=>c[Ie].onComplete(null,!1,c[Ie].currentInputSnapshot):()=>c[Ie].onComplete(new Error($t),!1,null)))}Ll(f,f.transactionQueueTree_);for(let Ie=0;Ie<_.length;Ie++)Kn(_[Ie]);li(f,f.transactionQueueTree_)}(f,ro(f,d),_),_}function Jl(f,c){let d,_=f.transactionQueueTree_;for(d=pr(c);null!==d&&void 0===Do(_);)_=ra(_,d),d=pr(c=ct(c));return _}function ro(f,c){const d=[];return Ic(f,c,d),d.sort((_,T)=>_.order-T.order),d}function Ic(f,c,d){const _=Do(c);if(_)for(let T=0;T<_.length;T++)d.push(_[T]);Da(c,T=>{Ic(f,T,d)})}function Ll(f,c){const d=Do(c);if(d){let _=0;for(let T=0;T<d.length;T++)2!==d[T].status&&(d[_]=d[T],_++);d.length=_,Rs(c,d.length>0?d:void 0)}Da(c,_=>{Ll(f,_)})}function xa(f,c){const d=Ia(Jl(f,c)),_=ra(f.transactionQueueTree_,c);return function cl(f,c,d){let _=d?f:f.parent;for(;null!==_;){if(c(_))return!0;_=_.parent}}(_,T=>{bu(f,T)}),bu(f,_),ul(_,T=>{bu(f,T)}),d}function bu(f,c){const d=Do(c);if(d){const _=[];let T=[],H=-1;for(let Y=0;Y<d.length;Y++)3===d[Y].status||(1===d[Y].status?((0,z.hu)(H===Y-1,"All SENT items should be at beginning of queue."),H=Y,d[Y].status=3,d[Y].abortReason="set"):((0,z.hu)(0===d[Y].status,"Unexpected transaction status in abort"),d[Y].unwatcher(),T=T.concat(Yo(f.serverSyncTree_,d[Y].currentWriteId,!0)),d[Y].onComplete&&_.push(d[Y].onComplete.bind(null,new Error("set"),!1,null))));-1===H?Rs(c,void 0):d.length=H+1,Io(f.eventQueue_,Ia(c),T);for(let Y=0;Y<_.length;Y++)Kn(_[Y])}}const wu=function(f,c){const d=eu(f),_=d.namespace;return"firebase.com"===d.domain&&le(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!_||"undefined"===_)&&"localhost"!==d.domain&&le("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),d.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Mt(d.host,d.secure,_,"ws"===d.scheme||"wss"===d.scheme,c,"",_!==d.subdomain),path:new fr(d.pathString)}},eu=function(f){let c="",d="",_="",T="",H="",Y=!0,Ie="https",qe=443;if("string"==typeof f){let ft=f.indexOf("//");ft>=0&&(Ie=f.substring(0,ft-1),f=f.substring(ft+2));let Yt=f.indexOf("/");-1===Yt&&(Yt=f.length);let $t=f.indexOf("?");-1===$t&&($t=f.length),c=f.substring(0,Math.min(Yt,$t)),Yt<$t&&(T=function Tc(f){let c="";const d=f.split("/");for(let _=0;_<d.length;_++)if(d[_].length>0){let T=d[_];try{T=decodeURIComponent(T.replace(/\+/g," "))}catch(H){}c+="/"+T}return c}(f.substring(Yt,$t)));const gn=function Fi(f){const c={};"?"===f.charAt(0)&&(f=f.substring(1));for(const d of f.split("&")){if(0===d.length)continue;const _=d.split("=");2===_.length?c[decodeURIComponent(_[0])]=decodeURIComponent(_[1]):Tt(`Invalid query segment '${d}' in query '${f}'`)}return c}(f.substring(Math.min(f.length,$t)));ft=c.indexOf(":"),ft>=0?(Y="https"===Ie||"wss"===Ie,qe=parseInt(c.substring(ft+1),10)):ft=c.length;const _r=c.slice(0,ft);if("localhost"===_r.toLowerCase())d="localhost";else if(_r.split(".").length<=2)d=_r;else{const Br=c.indexOf(".");_=c.substring(0,Br).toLowerCase(),d=c.substring(Br+1),H=_}"ns"in gn&&(H=gn.ns)}return{host:c,port:qe,domain:d,subdomain:_,secure:Y,scheme:Ie,pathString:T,namespace:H}};class _a{constructor(c,d,_,T){this.eventType=c,this.eventRegistration=d,this.snapshot=_,this.prevName=T}getPath(){const c=this.snapshot.ref;return"value"===this.eventType?c._path:c.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,z.Pz)(this.snapshot.exportVal())}}class gl{constructor(c,d,_){this.eventRegistration=c,this.error=d,this.path=_}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class tu{constructor(c,d){this.snapshotCallback=c,this.cancelCallback=d}onValue(c,d){this.snapshotCallback.call(null,c,d)}onCancel(c){return(0,z.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,c)}get hasCancelCallback(){return!!this.cancelCallback}matches(c){return this.snapshotCallback===c.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===c.snapshotCallback.userCallback&&this.snapshotCallback.context===c.snapshotCallback.context}}class Xc{constructor(c,d){this._repo=c,this._path=d}cancel(){const c=new z.BH;return Dc(this._repo,this._path,c.wrapCallback(()=>{})),c.promise}remove(){ia("OnDisconnect.remove",this._path);const c=new z.BH;return A(this._repo,this._path,null,c.wrapCallback(()=>{})),c.promise}set(c){ia("OnDisconnect.set",this._path),Ta("OnDisconnect.set",c,this._path,!1);const d=new z.BH;return A(this._repo,this._path,c,d.wrapCallback(()=>{})),d.promise}setWithPriority(c,d){ia("OnDisconnect.setWithPriority",this._path),Ta("OnDisconnect.setWithPriority",c,this._path,!1),fl("OnDisconnect.setWithPriority",d,!1);const _=new z.BH;return function g(f,c,d,_,T){const H=Ft(d,_);f.server_.onDisconnectPut(c.toString(),H.val(!0),(Y,Ie)=>{"ok"===Y&&Wi(f.onDisconnect_,c,H),Yn(0,T,Y,Ie)})}(this._repo,this._path,c,d,_.wrapCallback(()=>{})),_.promise}update(c){ia("OnDisconnect.update",this._path),qu("OnDisconnect.update",c,this._path,!1);const d=new z.BH;return function y(f,c,d,_){if((0,z.xb)(d))return De("onDisconnect().update() called with empty data.  Don't do anything."),void Yn(0,_,"ok",void 0);f.server_.onDisconnectMerge(c.toString(),d,(T,H)=>{"ok"===T&&At(d,(Y,Ie)=>{const qe=Ft(Ie);Wi(f.onDisconnect_,Cn(c,Y),qe)}),Yn(0,_,T,H)})}(this._repo,this._path,c,d.wrapCallback(()=>{})),d.promise}}class Ai{constructor(c,d,_,T){this._repo=c,this._path=d,this._queryParams=_,this._orderByCalled=T}get key(){return Un(this._path)?null:st(this._path)}get ref(){return new sa(this._repo,this._path)}get _queryIdentifier(){const c=La(this._queryParams),d=dn(c);return"{}"===d?"default":d}get _queryObject(){return La(this._queryParams)}isEqual(c){if(!((c=(0,z.m9)(c))instanceof Ai))return!1;const d=this._repo===c._repo,_=mi(this._path,c._path);return d&&_&&this._queryIdentifier===c._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Pt(f){let c="";for(let d=f.pieceNum_;d<f.pieces_.length;d++)""!==f.pieces_[d]&&(c+="/"+encodeURIComponent(String(f.pieces_[d])));return c||"/"}(this._path)}}function tc(f,c){if(!0===f._orderByCalled)throw new Error(c+": You can't combine multiple orderBy calls.")}function Vl(f){let c=null,d=null;if(f.hasStart()&&(c=f.getIndexStartValue()),f.hasEnd()&&(d=f.getIndexEndValue()),f.getIndex()===ji){const _="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",T="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(f.hasStart()){if(f.getIndexStartName()!==Ct)throw new Error(_);if("string"!=typeof c)throw new Error(T)}if(f.hasEnd()){if(f.getIndexEndName()!==xt)throw new Error(_);if("string"!=typeof d)throw new Error(T)}}else if(f.getIndex()===Qt){if(null!=c&&!Nl(c)||null!=d&&!Nl(d))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,z.hu)(f.getIndex()instanceof Xt||f.getIndex()===fi,"unknown index type."),null!=c&&"object"==typeof c||null!=d&&"object"==typeof d)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function nu(f){if(f.hasStart()&&f.hasEnd()&&f.hasLimit()&&!f.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class sa extends Ai{constructor(c,d){super(c,d,new es,!1)}get parent(){const c=ln(this._path);return null===c?null:new sa(this._repo,c)}get root(){let c=this;for(;null!==c.parent;)c=c.parent;return c}}class ru{constructor(c,d,_){this._node=c,this.ref=d,this._index=_}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(c){const d=new fr(c),_=ja(this.ref,c);return new ru(this._node.getChild(d),_,Qt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(c){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(_,T)=>c(new ru(T,ja(this.ref,_),Qt)))}hasChild(c){const d=new fr(c);return!this._node.getChild(d).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Kd(f,c){return(f=(0,z.m9)(f))._checkNotDeleted("ref"),void 0!==c?ja(f._root,c):f._root}function uf(f,c){(f=(0,z.m9)(f))._checkNotDeleted("refFromURL");const d=wu(c,f._repo.repoInfo_.nodeAdmin);Pl("refFromURL",d);const _=d.repoInfo;return!f._repo.repoInfo_.isCustomHost()&&_.host!==f._repo.repoInfo_.host&&le("refFromURL: Host name does not match the current database: (found "+_.host+" but expected "+f._repo.repoInfo_.host+")"),Kd(f,d.path.toString())}function ja(f,c){return null===pr((f=(0,z.m9)(f))._path)?(d=c,d&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),Ha("child","path",d,!1)):Ha("child","path",c,!1),new sa(f._repo,Cn(f._path,c));var d}function zp(f,c){f=(0,z.m9)(f),ia("push",f._path),Ta("push",c,f._path,!0);const d=Ts(f._repo),_=ni(d),T=ja(f,_),H=ja(f,_);let Y;return Y=null!=c?_l(H,c).then(()=>H):Promise.resolve(H),T.then=Y.then.bind(Y),T.catch=Y.then.bind(Y,void 0),T}function To(f){return ia("remove",f._path),_l(f,null)}function _l(f,c){f=(0,z.m9)(f),ia("set",f._path),Ta("set",c,f._path,!1);const d=new z.BH;return ml(f._repo,f._path,c,null,d.wrapCallback(()=>{})),d.promise}function Fo(f,c){f=(0,z.m9)(f),ia("setPriority",f._path),fl("setPriority",c,!1);const d=new z.BH;return ml(f._repo,Cn(f._path,".priority"),c,null,d.wrapCallback(()=>{})),d.promise}function iu(f,c,d){if(ia("setWithPriority",f._path),Ta("setWithPriority",c,f._path,!1),fl("setWithPriority",d,!1),".length"===f.key||".keys"===f.key)throw"setWithPriority failed: "+f.key+" is a read-only object.";const _=new z.BH;return ml(f._repo,f._path,c,d,_.wrapCallback(()=>{})),_.promise}function $a(f,c){qu("update",c,f._path,!1);const d=new z.BH;return function Xa(f,c,d,_){mn(f,"update",{path:c.toString(),value:d});let T=!0;const H=po(f),Y={};if(At(d,(Ie,qe)=>{T=!1,Y[Ie]=pi(Cn(c,Ie),Ft(qe),f.serverSyncTree_,H)}),T)De("update() called with empty data.  Don't do anything."),Yn(0,_,"ok",void 0);else{const Ie=Fl(f),qe=function ql(f,c,d,_){!function Ea(f,c,d,_){(0,z.hu)(_>f.lastWriteId,"Stacking an older merge on top of newer ones"),f.allWrites.push({path:c,children:d,writeId:_,visible:!0}),f.visibleWrites=vo(f.visibleWrites,c,d),f.lastWriteId=_}(f.pendingWriteTree_,c,d,_);const T=ri.fromObject(d);return Za(f,new kr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},c,T))}(f.serverSyncTree_,c,Y,Ie);pl(f.eventQueue_,qe),f.server_.merge(c.toString(),d,(ft,Yt)=>{const $t="ok"===ft;$t||Tt("update at "+c+" failed: "+ft);const gn=Yo(f.serverSyncTree_,Ie,!$t),_r=gn.length>0?zo(f,c):c;Io(f.eventQueue_,_r,gn),Yn(0,_,ft,Yt)}),At(d,ft=>{const Yt=xa(f,Cn(c,ft));zo(f,Yt)}),Io(f.eventQueue_,c,[])}}(f._repo,f._path,c,d.wrapCallback(()=>{})),d.promise}function Sc(f){return function ec(f,c){const d=function xl(f,c){const d=c._path;let _=null;f.syncPointTree_.foreachOnPath(d,(ft,Yt)=>{const $t=Mr(ft,d);_=_||js(Yt,$t)});let T=f.syncPointTree_.get(d);T?_=_||js(T,Vn()):(T=new Gu,f.syncPointTree_=f.syncPointTree_.set(d,T));const H=null!=_,Y=H?new ur(_,!0,!1):null;return function Pi(f){return zi(f.viewCache_)}(ko(T,c,Ki(f.pendingWriteTree_,c._path),H?Y.getNode():oe.EMPTY_NODE,H))}(f.serverSyncTree_,c);return null!=d?Promise.resolve(d):f.server_.get(c).then(_=>{const T=Ft(_).withIndex(c._queryParams.getIndex()),H=da(f.serverSyncTree_,c._path,T);return Ma(f.eventQueue_,c._path,H),Promise.resolve(T)},_=>(mn(f,"get for query "+(0,z.Pz)(c)+" failed: "+_),Promise.reject(new Error(_))))}((f=(0,z.m9)(f))._repo,f).then(c=>new ru(c,new sa(f._repo,f._path),f._queryParams.getIndex()))}class Qs{constructor(c){this.callbackContext=c}respondsTo(c){return"value"===c}createEvent(c,d){const _=d._queryParams.getIndex();return new _a("value",this,new ru(c.snapshotNode,new sa(d._repo,d._path),_))}getEventRunner(c){return"cancel"===c.getEventType()?()=>this.callbackContext.onCancel(c.error):()=>this.callbackContext.onValue(c.snapshot,null)}createCancelEvent(c,d){return this.callbackContext.hasCancelCallback?new gl(this,c,d):null}matches(c){return c instanceof Qs&&(!c.callbackContext||!this.callbackContext||c.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ra{constructor(c,d){this.eventType=c,this.callbackContext=d}respondsTo(c){let d="children_added"===c?"child_added":c;return d="children_removed"===d?"child_removed":d,this.eventType===d}createCancelEvent(c,d){return this.callbackContext.hasCancelCallback?new gl(this,c,d):null}createEvent(c,d){(0,z.hu)(null!=c.childName,"Child events should have a childName.");const _=ja(new sa(d._repo,d._path),c.childName),T=d._queryParams.getIndex();return new _a(c.type,this,new ru(c.snapshotNode,_,T),c.prevName)}getEventRunner(c){return"cancel"===c.getEventType()?()=>this.callbackContext.onCancel(c.error):()=>this.callbackContext.onValue(c.snapshot,c.prevName)}matches(c){return c instanceof Ra&&this.eventType===c.eventType&&(!this.callbackContext||!c.callbackContext||this.callbackContext.matches(c.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Bl(f,c,d,_,T){let H;if("object"==typeof _&&(H=void 0,T=_),"function"==typeof _&&(H=_),T&&T.onlyOnce){const qe=d,ft=(Yt,$t)=>{ae(f._repo,f,Ie),qe(Yt,$t)};ft.userCallback=d.userCallback,ft.context=d.context,d=ft}const Y=new tu(d,H||void 0),Ie="value"===c?new Qs(Y):new Ra(c,Y);return function O(f,c,d){let _;_=".info"===pr(c._path)?Xo(f.infoSyncTree_,c,d):Xo(f.serverSyncTree_,c,d),Ma(f.eventQueue_,c._path,_)}(f._repo,f,Ie),()=>ae(f._repo,f,Ie)}function Jc(f,c,d,_){return Bl(f,"value",c,d,_)}function qd(f,c,d,_){return Bl(f,"child_added",c,d,_)}function Zd(f,c,d,_){return Bl(f,"child_changed",c,d,_)}function df(f,c,d,_){return Bl(f,"child_moved",c,d,_)}function Cu(f,c,d,_){return Bl(f,"child_removed",c,d,_)}function ed(f,c,d){let _=null;const T=d?new tu(d):null;"value"===c?_=new Qs(T):c&&(_=new Ra(c,T)),ae(f._repo,f,_)}class Oa{}class td extends Oa{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){Ta("endAt",this._value,c._path,!0);const d=ao(c._queryParams,this._value,this._key);if(nu(d),Vl(d),c._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ai(c._repo,c._path,d,c._orderByCalled)}}function Yd(f,c){return Sa("endAt","key",c,!0),new td(f,c)}class Ac extends Oa{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){Ta("endBefore",this._value,c._path,!1);const d=function lo(f,c,d){let _,T;return f.index_===ji?("string"==typeof c&&(c=K(c)),T=ao(f,c,d)):(_=null==d?Ct:K(d),T=ao(f,c,_)),T.endBeforeSet_=!0,T}(c._queryParams,this._value,this._key);if(nu(d),Vl(d),c._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ai(c._repo,c._path,d,c._orderByCalled)}}function hf(f,c){return Sa("endBefore","key",c,!0),new Ac(f,c)}class nd extends Oa{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){Ta("startAt",this._value,c._path,!0);const d=ki(c._queryParams,this._value,this._key);if(nu(d),Vl(d),c._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ai(c._repo,c._path,d,c._orderByCalled)}}function rd(f=null,c){return Sa("startAt","key",c,!0),new nd(f,c)}class ff extends Oa{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){Ta("startAfter",this._value,c._path,!1);const d=function Ka(f,c,d){let _;if(f.index_===ji)"string"==typeof c&&(c=wi(c)),_=ki(f,c,d);else{let T;T=null==d?xt:wi(d),_=ki(f,c,T)}return _.startAfterSet_=!0,_}(c._queryParams,this._value,this._key);if(nu(d),Vl(d),c._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ai(c._repo,c._path,d,c._orderByCalled)}}function Du(f,c){return Sa("startAfter","key",c,!0),new ff(f,c)}class yl extends Oa{constructor(c){super(),this._limit=c}_apply(c){if(c._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ai(c._repo,c._path,function gr(f,c){const d=f.copy();return d.limitSet_=!0,d.limit_=c,d.viewFrom_="l",d}(c._queryParams,this._limit),c._orderByCalled)}}function pf(f){if("number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new yl(f)}class mf extends Oa{constructor(c){super(),this._limit=c}_apply(c){if(c._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ai(c._repo,c._path,function Fa(f,c){const d=f.copy();return d.limitSet_=!0,d.limit_=c,d.viewFrom_="r",d}(c._queryParams,this._limit),c._orderByCalled)}}function gf(f){if("number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new mf(f)}class Qd extends Oa{constructor(c){super(),this._path=c}_apply(c){tc(c,"orderByChild");const d=new fr(this._path);if(Un(d))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const _=new Xt(d),T=Bo(c._queryParams,_);return Vl(T),new Ai(c._repo,c._path,T,!0)}}function Go(f){if("$key"===f)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===f)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===f)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ha("orderByChild","path",f,!1),new Qd(f)}class Xd extends Oa{_apply(c){tc(c,"orderByKey");const d=Bo(c._queryParams,ji);return Vl(d),new Ai(c._repo,c._path,d,!0)}}function Jd(){return new Xd}class Ja extends Oa{_apply(c){tc(c,"orderByPriority");const d=Bo(c._queryParams,Qt);return Vl(d),new Ai(c._repo,c._path,d,!0)}}function eh(){return new Ja}class Mc extends Oa{_apply(c){tc(c,"orderByValue");const d=Bo(c._queryParams,fi);return Vl(d),new Ai(c._repo,c._path,d,!0)}}function th(){return new Mc}class _f extends Oa{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){if(Ta("equalTo",this._value,c._path,!1),c._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(c._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new td(this._value,this._key)._apply(new nd(this._value,this._key)._apply(c))}}function yf(f,c){return Sa("equalTo","key",c,!0),new _f(f,c)}function vf(f,...c){let d=(0,z.m9)(f);for(const _ of c)d=_._apply(d);return d}(function Wn(f){(0,z.hu)(!Va,"__referenceConstructor has already been defined"),Va=f})(sa),function qa(f){(0,z.hu)(!no,"__referenceConstructor has already been defined"),no=f}(sa);const ka={};function id(f,c,d,_,T){let H=_||f.options.databaseURL;void 0===H&&(f.options.projectId||le("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),De("Using default host for project ",f.options.projectId),H=`${f.options.projectId}-default-rtdb.firebaseio.com`);let qe,ft,Y=wu(H,T),Ie=Y.repoInfo;"undefined"!=typeof process&&process.env&&(ft=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ft?(qe=!0,H=`http://${ft}?ns=${Ie.namespace}`,Y=wu(H,T),Ie=Y.repoInfo):qe=!Y.repoInfo.secure;const Yt=T&&qe?new dr(dr.OWNER):new mr(f.name,f.options,c);Pl("Invalid Firebase Database URL",Y),Un(Y.path)||le("Database URL must point to the root of a Firebase Database (not including a child path).");const $t=function el(f,c,d,_){let T=ka[c.name];T||(T={},ka[c.name]=T);let H=T[f.toURLString()];return H&&le("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),H=new Qu(f,false,d,_),T[f.toURLString()]=H,H}(Ie,f,Yt,new Pn(f.name,d));return new od($t,f)}class od{constructor(c,d){this._repoInternal=c,this.app=d,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Qc(f,c,d){if(f.stats_=wr(f.repoInfo_),f.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)f.server_=new uo(f.repoInfo_,(_,T,H,Y)=>{ma(f,_,T,H,Y)},f.authTokenProvider_,f.appCheckProvider_),setTimeout(()=>Xu(f,!0),0);else{if(null!=d){if("object"!=typeof d)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,z.Pz)(d)}catch(_){throw new Error("Invalid authOverride provided: "+_)}}f.persistentConnection_=new Ji(f.repoInfo_,c,(_,T,H,Y)=>{ma(f,_,T,H,Y)},_=>{Xu(f,_)},_=>{!function Xl(f,c){At(c,(d,_)=>{Ju(f,d,_)})}(f,_)},f.authTokenProvider_,f.appCheckProvider_,d),f.server_=f.persistentConnection_}f.authTokenProvider_.addTokenChangeListener(_=>{f.server_.refreshAuthToken(_)}),f.appCheckProvider_.addTokenChangeListener(_=>{f.server_.refreshAppCheckToken(_.token)}),f.statsReporter_=function rr(f,c){const d=f.toString();return Mn[d]||(Mn[d]=c()),Mn[d]}(f.repoInfo_,()=>new Oe(f.stats_,f.server_)),f.infoData_=new Ro,f.infoSyncTree_=new Ca({startListening:(_,T,H,Y)=>{let Ie=[];const qe=f.infoData_.getNode(_._path);return qe.isEmpty()||(Ie=da(f.infoSyncTree_,_._path,qe),setTimeout(()=>{Y("ok")},0)),Ie},stopListening:()=>{}}),Ju(f,"connected",!1),f.serverSyncTree_=new Ca({startListening:(_,T,H,Y)=>(f.server_.listen(_,H,T,(Ie,qe)=>{const ft=Y(Ie,qe);Io(f.eventQueue_,_._path,ft)}),[]),stopListening:(_,T)=>{f.server_.unlisten(_,T)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sa(this._repo,Vn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Kp(f,c){const d=ka[c];(!d||d[f.key]!==f)&&le(`Database ${c}(${f.repoInfo_}) has already been deleted.`),xe(f),delete d[f.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(c){null===this._rootInternal&&le("Cannot call "+c+" on a deleted database.")}}function bf(f=(0,C.getApp)(),c){return(0,C._getProvider)(f,"database").getImmediate({identifier:c})}function nh(f,c,d,_={}){(f=(0,z.m9)(f))._checkNotDeleted("useEmulator"),f._instanceStarted&&le("Cannot call useEmulator() after instance has already been initialized.");const T=f._repoInternal;let H;if(T.repoInfo_.nodeAdmin)_.mockUserToken&&le('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),H=new dr(dr.OWNER);else if(_.mockUserToken){const Y="string"==typeof _.mockUserToken?_.mockUserToken:(0,z.Sg)(_.mockUserToken,f.app.options.projectId);H=new dr(Y)}!function Gp(f,c,d,_){f.repoInfo_=new Mt(`${c}:${d}`,!1,f.repoInfo_.namespace,f.repoInfo_.webSocketOnly,f.repoInfo_.nodeAdmin,f.repoInfo_.persistenceKey,f.repoInfo_.includeNamespaceInQueryParams),_&&(f.authTokenProvider_=_)}(T,c,d,H)}function nc(f){(f=(0,z.m9)(f))._checkNotDeleted("goOffline"),xe(f._repo)}function ad(f){(f=(0,z.m9)(f))._checkNotDeleted("goOnline"),function Lt(f){f.persistentConnection_&&f.persistentConnection_.resume(Yu)}(f._repo)}function rh(f,c){$e(f,c)}const ld={".sv":"timestamp"};function ud(){return ld}function wf(f){return{".sv":{increment:f}}}class en{constructor(c,d){this.committed=c,this.snapshot=d}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Tu(f,c,d){var _;if(f=(0,z.m9)(f),ia("Reference.transaction",f._path),".length"===f.key||".keys"===f.key)throw"Reference.transaction failed: "+f.key+" is a read-only object.";const T=null===(_=null==d?void 0:d.applyLocally)||void 0===_||_,H=new z.BH,Ie=Jc(f,()=>{});return function nr(f,c,d,_,T,H){mn(f,"transaction on "+c);const Y={path:c,update:d,onComplete:_,status:null,order:Dt(),applyLocally:H,retryCount:0,unwatcher:T,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Ie=Qr(f,c,void 0);Y.currentInputSnapshot=Ie;const qe=Y.update(Ie.val());if(void 0===qe)Y.unwatcher(),Y.currentOutputSnapshotRaw=null,Y.currentOutputSnapshotResolved=null,Y.onComplete&&Y.onComplete(null,!1,Y.currentInputSnapshot);else{Yl("transaction failed: Data returned ",qe,Y.path),Y.status=0;const ft=ra(f.transactionQueueTree_,c),Yt=Do(ft)||[];let $t;Yt.push(Y),Rs(ft,Yt),"object"==typeof qe&&null!==qe&&(0,z.r3)(qe,".priority")?($t=(0,z.DV)(qe,".priority"),(0,z.hu)(Nl($t),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):$t=($o(f.serverSyncTree_,c)||oe.EMPTY_NODE).getPriority().val();const gn=po(f),_r=Ft(qe,$t),Br=Sr(_r,Ie,gn);Y.currentOutputSnapshotRaw=_r,Y.currentOutputSnapshotResolved=Br,Y.currentWriteId=Fl(f);const Ii=al(f.serverSyncTree_,c,Br,Y.currentWriteId,Y.applyLocally);Io(f.eventQueue_,c,Ii),li(f,f.transactionQueueTree_)}}(f._repo,f._path,c,(qe,ft,Yt)=>{let $t=null;qe?H.reject(qe):($t=new ru(Yt,new sa(f._repo,f._path),Qt),H.resolve(new en(ft,$t)))},Ie,T),H.promise}Ji.prototype.simpleListen=function(f,c){this.sendRequest("q",{p:f},c)},Ji.prototype.echo=function(f,c){this.sendRequest("echo",{d:f},c)},function xc(f){ke(C.SDK_VERSION),(0,C._registerComponent)(new G.wA("database",(c,{instanceIdentifier:d})=>id(c.getProvider("app").getImmediate(),c.getProvider("auth-internal"),c.getProvider("app-check-internal"),d),"PUBLIC").setMultipleInstances(!0)),(0,C.registerVersion)(Ue,"0.12.8",f),(0,C.registerVersion)(Ue,"0.12.8","esm2017")}()},5525:(fn,ht,S)=>{S.d(ht,{u7:()=>sl,Jj:()=>pu,IX:()=>Xm,my:()=>io,xU:()=>Hu,Lz:()=>yc,WA:()=>Dn,F8:()=>$c,$q:()=>Kc,W:()=>ju,EK:()=>xr,PU:()=>Cl,l7:()=>ba,Ky:()=>Wn,Xb:()=>hs,Cf:()=>Hi,K9:()=>Sl,Me:()=>zl,yq:()=>ws,Wi:()=>qm,ET:()=>_g,Ab:()=>kp,vr:()=>ef,Fc:()=>ng,hJ:()=>y_,B$:()=>Qm,at:()=>__,oe:()=>H_,AK:()=>Eg,TF:()=>ig,JU:()=>v_,ST:()=>C_,fH:()=>D_,Ix:()=>rg,Wu:()=>N_,Lx:()=>mg,qY:()=>mo,GL:()=>bc,QT:()=>Dl,kl:()=>gg,Xk:()=>L_,PL:()=>V_,UQ:()=>B_,zN:()=>U_,ad:()=>Jm,nP:()=>bg,b9:()=>O_,vh:()=>fg,Pb:()=>Qy,L$:()=>vp,cf:()=>j_,sc:()=>yg,Xo:()=>R_,IO:()=>M_,iE:()=>_c,Eo:()=>E_,i3:()=>vg,Bt:()=>Op,pl:()=>Rp,Ub:()=>Tl,qK:()=>A_,TQ:()=>k_,e0:()=>Zc,r7:()=>$d,Mx:()=>I_,ar:()=>hg});var ge,u=S(5861),C=S(9681),G=S(4859),z=S(1877),Ce=S(2090),Ue="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ze={},ke=ke||{},me=Ue||self;function Te(){}function Fe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Xe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ze="closure_uid_"+(1e9*Math.random()>>>0),Dt=0;function Je(i,e,n){return i.call.apply(i.bind,arguments)}function pt(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function Ye(i,e,n){return(Ye=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Je:pt).apply(null,arguments)}function Ut(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function $e(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,l,m){for(var b=Array(arguments.length-2),P=2;P<arguments.length;P++)b[P-2]=arguments[P];return e.prototype[l].apply(o,b)}}function De(){this.s=this.s,this.o=this.o}var Le={};De.prototype.s=!1,De.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function tt(i){return Object.prototype.hasOwnProperty.call(i,Ze)&&i[Ze]||(i[Ze]=++Dt)}(this);delete Le[i]}},De.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const le=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},Tt=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const o=i.length,l="string"==typeof i?i.split(""):i;for(let m=0;m<o;m++)m in l&&e.call(n,l[m],m,i)};function _t(i){return Array.prototype.concat.apply([],arguments)}function mt(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Ct(i){return/^[\s\xa0]*$/.test(i)}var tn,xt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function ut(i,e){return-1!=i.indexOf(e)}function Kt(i,e){return i<e?-1:i>e?1:0}e:{var dn=me.navigator;if(dn){var rn=dn.userAgent;if(rn){tn=rn;break e}}tn=""}function At(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Bt(i){const e={};for(const n in i)e[n]=i[n];return e}var vn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function He(i,e){let n,o;for(let l=1;l<arguments.length;l++){for(n in o=arguments[l],o)i[n]=o[n];for(let m=0;m<vn.length;m++)n=vn[m],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function vt(i){return vt[" "](i),i}vt[" "]=Te;var mr,i,an=ut(tn,"Opera"),Gn=ut(tn,"Trident")||ut(tn,"MSIE"),vr=ut(tn,"Edge"),Kn=vr||Gn,cr=ut(tn,"Gecko")&&!(ut(tn.toLowerCase(),"webkit")&&!ut(tn,"Edge"))&&!(ut(tn,"Trident")||ut(tn,"MSIE"))&&!ut(tn,"Edge"),sr=ut(tn.toLowerCase(),"webkit")&&!ut(tn,"Edge");function Pn(){var i=me.document;return i?i.documentMode:void 0}e:{var dr="",Pr=(i=tn,cr?/rv:([^\);]+)(\)|;)/.exec(i):vr?/Edge\/([\d\.]+)/.exec(i):Gn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):sr?/WebKit\/(\S+)/.exec(i):an?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Pr&&(dr=Pr?Pr[1]:""),Gn){var bn=Pn();if(null!=bn&&bn>parseFloat(dr)){mr=String(bn);break e}}mr=dr}var En={};var Ir=me.document&&Gn&&(Pn()||parseInt(mr,10))||void 0,nn=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{me.addEventListener("test",Te,e),me.removeEventListener("test",Te,e)}catch(n){}return i}();function Rt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Et(i,e){if(Rt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(cr){e:{try{vt(e.nodeName);var l=!0;break e}catch(m){}l=!1}l||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Qe[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Et.Z.h.call(this)}}Rt.prototype.h=function(){this.defaultPrevented=!0},$e(Et,Rt);var Qe={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function bt(i,e,n,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=l,this.key=++Ve,this.ca=this.fa=!1}function wn(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function cn(i){this.src=i,this.g={},this.h=0}function Mn(i,e){var n=e.type;if(n in i.g){var m,o=i.g[n],l=le(o,e);(m=0<=l)&&Array.prototype.splice.call(o,l,1),m&&(wn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function wr(i,e,n,o){for(var l=0;l<i.length;++l){var m=i[l];if(!m.ca&&m.listener==e&&m.capture==!!n&&m.ia==o)return l}return-1}cn.prototype.add=function(i,e,n,o,l){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var b=wr(i,e,o,l);return-1<b?(e=i[b],n||(e.fa=!1)):((e=new bt(e,this.src,m,!!o,l)).fa=n,i.push(e)),e};var rr="closure_lm_"+(1e6*Math.random()|0),tr={};function at(i,e,n,o,l){if(o&&o.once)return Z(i,e,n,o,l);if(Array.isArray(e)){for(var m=0;m<e.length;m++)at(i,e[m],n,o,l);return null}return n=Ne(n),i&&i[Mt]?i.N(e,n,Xe(o)?!!o.capture:!!o,l):rt(i,e,n,!1,o,l)}function rt(i,e,n,o,l,m){if(!e)throw Error("Invalid event type");var b=Xe(l)?!!l.capture:!!l,P=We(i);if(P||(i[rr]=P=new cn(i)),(n=P.add(e,n,o,b,m)).proxy)return n;if(o=function ye(){var e=be;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)nn||(l=b),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(L(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Z(i,e,n,o,l){if(Array.isArray(e)){for(var m=0;m<e.length;m++)Z(i,e[m],n,o,l);return null}return n=Ne(n),i&&i[Mt]?i.O(e,n,Xe(o)?!!o.capture:!!o,l):rt(i,e,n,!0,o,l)}function M(i,e,n,o,l){if(Array.isArray(e))for(var m=0;m<e.length;m++)M(i,e[m],n,o,l);else o=Xe(o)?!!o.capture:!!o,n=Ne(n),i&&i[Mt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=wr(m=i.g[e],n,o,l))&&(wn(m[n]),Array.prototype.splice.call(m,n,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=We(i))&&(e=i.g[e.toString()],i=-1,e&&(i=wr(e,n,o,l)),(n=-1<i?e[i]:null)&&w(n))}function w(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Mt])Mn(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(L(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=We(e))?(Mn(n,i),0==n.h&&(n.src=null,e[rr]=null)):wn(i)}}}function L(i){return i in tr?tr[i]:tr[i]="on"+i}function be(i,e){if(i.ca)i=!0;else{e=new Et(e,this);var n=i.listener,o=i.ia||i.src;i.fa&&w(i),i=n.call(o,e)}return i}function We(i){return(i=i[rr])instanceof cn?i:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ne(i){return"function"==typeof i?i:(i[Ae]||(i[Ae]=function(e){return i.handleEvent(e)}),i[Ae])}function Ge(){De.call(this),this.i=new cn(this),this.P=this,this.I=null}function It(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Rt(e,i);else if(e instanceof Rt)e.target=e.target||i;else{var l=e;He(e=new Rt(o,i),l)}if(l=!0,n)for(var m=n.length-1;0<=m;m--){var b=e.g=n[m];l=we(b,o,!0,e)&&l}if(l=we(b=e.g=i,o,!0,e)&&l,l=we(b,o,!1,e)&&l,n)for(m=0;m<n.length;m++)l=we(b=e.g=n[m],o,!1,e)&&l}function we(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,m=0;m<e.length;++m){var b=e[m];if(b&&!b.ca&&b.capture==n){var P=b.listener,te=b.ia||b.src;b.fa&&Mn(i.i,b),l=!1!==P.call(te,o)&&l}}return l&&!o.defaultPrevented}$e(Ge,De),Ge.prototype[Mt]=!0,Ge.prototype.removeEventListener=function(i,e,n,o){M(this,i,e,n,o)},Ge.prototype.M=function(){if(Ge.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)wn(n[o]);delete i.g[e],i.h--}}this.I=null},Ge.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},Ge.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Re=me.JSON.stringify;function se(){var i=xn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var gt,J=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Q,i=>i.reset());class Q{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ne(i){me.setTimeout(()=>{throw i},0)}function Pe(i,e){gt||function Ht(){var i=me.Promise.resolve(void 0);gt=function(){i.then(On)}}(),hn||(gt(),hn=!0),xn.add(i,e)}var hn=!1,xn=new class _e{constructor(){this.h=this.g=null}add(e,n){const o=J.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function On(){for(var i;i=se();){try{i.h.call(i.g)}catch(n){ne(n)}var e=J;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}hn=!1}function Ur(i,e){Ge.call(this),this.h=i||1,this.g=e||me,this.j=Ye(this.kb,this),this.l=Date.now()}function $r(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function bi(i,e,n){if("function"==typeof i)n&&(i=Ye(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ye(i.handleEvent,i)}return 2147483647<Number(e)?-1:me.setTimeout(i,e||0)}function he(i){i.g=bi(()=>{i.g=null,i.i&&(i.i=!1,he(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}$e(Ur,Ge),(ge=Ur.prototype).da=!1,ge.S=null,ge.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),It(this,"tick"),this.da&&($r(this),this.start()))}},ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ge.M=function(){Ur.Z.M.call(this),$r(this),delete this.g};class Me extends De{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:he(this)}M(){super.M(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ie(i){De.call(this),this.h=i,this.g={}}$e(ie,De);var Be=[];function St(i,e,n,o){Array.isArray(n)||(n&&(Be[0]=n.toString()),n=Be);for(var l=0;l<n.length;l++){var m=at(e,n[l],o||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function Gt(i){At(i.g,function(e,n){this.g.hasOwnProperty(n)&&w(e)},i),i.g={}}function _n(){this.g=!0}function lr(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function qn(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var m=l[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var b=1;b<l.length;b++)l[b]=""}}}return Re(n)}catch(P){return e}}(i,n)+(o?" "+o:"")})}ie.prototype.M=function(){ie.Z.M.call(this),Gt(this)},ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_n.prototype.Aa=function(){this.g=!1},_n.prototype.info=function(){};var Rr={},si=null;function Xi(){return si=si||new Ge}function fr(i){Rt.call(this,Rr.Ma,i)}function Vn(i){const e=Xi();It(e,new fr(e,i))}function pr(i,e){Rt.call(this,Rr.STAT_EVENT,i),this.stat=e}function ti(i){const e=Xi();It(e,new pr(e,i))}function ct(i,e){Rt.call(this,Rr.Na,i),this.size=e}function st(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){i()},e)}Rr.Ma="serverreachability",$e(fr,Rt),Rr.STAT_EVENT="statevent",$e(pr,Rt),Rr.Na="timingevent",$e(ct,Rt);var Pt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},on={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ln(){}function Un(){}ln.prototype.h=null;var Ci,Mr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Fr(){Rt.call(this,"d")}function mi(){Rt.call(this,"c")}function ns(){}function ys(i,e,n,o){this.l=i,this.j=e,this.m=n,this.X=o||1,this.V=new ie(this),this.P=Mo,this.W=new Ur(i=Kn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Zi}function Zi(){this.i=null,this.g="",this.h=!1}$e(Fr,Rt),$e(mi,Rt),$e(ns,ln),ns.prototype.g=function(){return new XMLHttpRequest},ns.prototype.i=function(){return{}},Ci=new ns;var Mo=45e3,Mi={},Gs={};function vs(i,e,n){i.K=1,i.v=ds(Li(e)),i.s=n,i.U=!0,so(i,null)}function so(i,e){i.F=Date.now(),Fs(i),i.A=Li(i.v);var n=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),$(n.h,"t",o),i.C=0,n=i.l.H,i.h=new Zi,i.g=gs(i.l,n?e:null,!i.s),0<i.O&&(i.L=new Me(Ye(i.Ia,i,i.g),i.O)),St(i.V,i.g,"readystatechange",i.gb),e=i.H?Bt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Vn(1),function er(i,e,n,o,l,m){i.info(function(){if(i.g)if(m)for(var b="",P=m.split("&"),te=0;te<P.length;te++){var pe=P[te].split("=");if(1<pe.length){var nt=pe[0];pe=pe[1];var wt=nt.split("_");b=2<=wt.length&&"type"==wt[1]?b+(nt+"=")+pe+"&":b+(nt+"=redacted&")}}else b=null;else b=m;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+n+"\n"+b})}(i.j,i.u,i.A,i.m,i.X,i.s)}function ks(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Ps(i,e,n){let l,o=!0;for(;!i.I&&i.C<n.length;){if(l=xo(i,n),l==Gs){4==e&&(i.o=4,ti(14),o=!1),lr(i.j,i.m,null,"[Incomplete Response]");break}if(l==Mi){i.o=4,ti(15),lr(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}lr(i.j,i.m,l,null),Js(i,l)}ks(i)&&l!=Gs&&l!=Mi&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,ti(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),kr(e),e.L=!0,ti(11))):(lr(i.j,i.m,n,"[Invalid Chunked Response]"),Or(i),Ji(i))}function xo(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Gs:(n=Number(e.substring(n,o)),isNaN(n)?Mi:(o+=1)+n>e.length?Gs:(e=e.substr(o,n),i.C=o+n,e))}function Fs(i){i.Y=Date.now()+i.P,qo(i,i.P)}function qo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=st(Ye(i.eb,i),e)}function Ls(i){i.B&&(me.clearTimeout(i.B),i.B=null)}function Ji(i){0==i.l.G||i.I||gi(i.l,i)}function Or(i){Ls(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,$r(i.W),Gt(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Js(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||Hr(n.i,i)))if(n.I=i.N,!i.J&&Hr(n.i,i)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch(pe){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0])e:if(n.u)n.ta=l[1],0<n.ta-n.U&&37500>l[2]&&n.N&&0==n.A&&!n.v&&(n.v=st(Ye(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<i.F))break e;Vr(n),B(n)}br(n),ti(18)}if(1>=Wr(n.i)&&n.ka){try{n.ka()}catch(pe){}n.ka=void 0}}else Bi(n,11)}else if((i.J||n.g==i)&&Vr(n),!Ct(e))for(l=n.Ca.g.parse(e),e=0;e<l.length;e++){let pe=l[e];if(n.U=pe[0],pe=pe[1],2==n.G)if("c"==pe[0]){n.J=pe[1],n.la=pe[2];const nt=pe[3];null!=nt&&(n.ma=nt,n.h.info("VER="+n.ma));const wt=pe[4];null!=wt&&(n.za=wt,n.h.info("SVER="+n.za));const qt=pe[5];null!=qt&&"number"==typeof qt&&0<qt&&(n.K=o=1.5*qt,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const In=i.g;if(In){const Sn=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sn){var m=o.i;!m.g&&(ut(Sn,"spdy")||ut(Sn,"quic")||ut(Sn,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(jr(m,m.h),m.h=null))}if(o.D){const yr=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;yr&&(o.sa=yr,Zr(o.F,o.D,yr))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var b=i;if((o=n).oa=di(o,o.H?o.la:null,o.W),b.J){Oi(o.i,b);var P=b,te=o.K;te&&P.setTimeout(te),P.B&&(Ls(P),Fs(P)),o.g=b}else Qn(o);0<n.l.length&&it(n)}else"stop"!=pe[0]&&"close"!=pe[0]||Bi(n,7);else 3==n.G&&("stop"==pe[0]||"close"==pe[0]?"stop"==pe[0]?Bi(n,7):D(n):"noop"!=pe[0]&&n.j&&n.j.wa(pe),n.A=0)}Vn(4)}catch(pe){}}function is(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Fe(i)||"string"==typeof i)Tt(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(Fe(i)||"string"==typeof i){n=[];for(var o=i.length,l=0;l<o;l++)n.push(l)}else for(l in n=[],o=0,i)n[o++]=l;o=function rs(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Fe(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),l=o.length;for(var m=0;m<l;m++)e.call(void 0,o[m],n&&n[m],i)}}function ji(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof ji)for(n=i.T(),o=0;o<n.length;o++)this.set(n[o],i.get(n[o]));else for(o in i)this.set(o,i[o])}function xi(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var o=i.g[e];Ri(i.h,o)&&(i.g[n++]=o),e++}i.g.length=n}if(i.i!=i.g.length){var l={};for(n=e=0;e<i.g.length;)Ri(l,o=i.g[e])||(i.g[n++]=o,l[o]=1),e++;i.g.length=n}}function Ri(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(ge=ys.prototype).setTimeout=function(i){this.P=i},ge.gb=function(i){i=i.target;const e=this.L;e&&3==ps(i)?e.l():this.Ia(i)},ge.Ia=function(i){try{if(i==this.g)e:{const nt=ps(this.g);var e=this.g.Da();const wt=this.g.ba();if(!(3>nt)&&(3!=nt||Kn||this.g&&(this.h.h||this.g.ga()||Wi(this.g)))){this.I||4!=nt||7==e||Vn(8==e||0>=wt?3:2),Ls(this);var n=this.g.ba();this.N=n;t:if(ks(this)){var o=Wi(this.g);i="";var l=o.length,m=4==ps(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Or(this),Ji(this);var b="";break t}this.h.i=new me.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:m&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,b=this.h.g}else b=this.g.ga();if(this.i=200==n,function Ln(i,e,n,o,l,m,b){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+m+" "+b})}(this.j,this.u,this.A,this.m,this.X,nt,n),this.i){if(this.$&&!this.J){t:{if(this.g){var P,te=this.g;if((P=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ct(P)){var pe=P;break t}}pe=null}if(!(n=pe)){this.i=!1,this.o=3,ti(12),Or(this),Ji(this);break e}lr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Js(this,n)}this.U?(Ps(this,nt,b),Kn&&this.i&&3==nt&&(St(this.V,this.W,"tick",this.fb),this.W.start())):(lr(this.j,this.m,b,null),Js(this,b)),4==nt&&Or(this),this.i&&!this.I&&(4==nt?gi(this.l,this):(this.i=!1,Fs(this)))}else 400==n&&0<b.indexOf("Unknown SID")?(this.o=3,ti(12)):(this.o=0,ti(13)),Or(this),Ji(this)}}}catch(nt){}},ge.fb=function(){if(this.g){var i=ps(this.g),e=this.g.ga();this.C<e.length&&(Ls(this),Ps(this,i,e),this.i&&4!=i&&Fs(this))}},ge.cancel=function(){this.I=!0,Or(this)},ge.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function zr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Vn(3),ti(17)),Or(this),this.o=2,Ji(this)):qo(this,this.Y-i)},(ge=ji.prototype).R=function(){xi(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},ge.T=function(){return xi(this),this.g.concat()},ge.get=function(i,e){return Ri(this.h,i)?this.h[i]:e},ge.set=function(i,e){Ri(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},ge.forEach=function(i,e){for(var n=this.T(),o=0;o<n.length;o++){var l=n[o],m=this.get(l);i.call(e,m,l,this)}};var ss=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function cs(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof cs){this.g=void 0!==e?e:i.g,As(this,i.j),this.s=i.s,Vs(this,i.i),Es(this,i.m),this.l=i.l,e=i.h;var n=new os;n.i=e.i,e.g&&(n.g=new ji(e.g),n.h=e.h),$i(this,n),this.o=i.o}else i&&(n=String(i).match(ss))?(this.g=!!e,As(this,n[1]||"",!0),this.s=fs(n[2]||""),Vs(this,n[3]||"",!0),Es(this,n[4]),this.l=fs(n[5]||"",!0),$i(this,n[6]||"",!0),this.o=fs(n[7]||"")):(this.g=!!e,this.h=new os(null,this.g))}function Li(i){return new cs(i)}function As(i,e,n){i.j=n?fs(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Vs(i,e,n){i.i=n?fs(e,!0):e}function Es(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function $i(i,e,n){e instanceof os?(i.h=e,function dt(i,e){e&&!i.j&&(Lr(i),i.i=null,i.g.forEach(function(n,o){var l=o.toLowerCase();o!=l&&(j(this,o),$(this,l,n))},i)),i.j=e}(i.h,i.g)):(n||(e=Us(e,Ti)),i.h=new os(e,i.g))}function Zr(i,e,n){i.h.set(e,n)}function ds(i){return Zr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function fs(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Us(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ci),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ci(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}cs.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Us(e,Qt,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Us(e,Qt,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(Us(n,"/"==n.charAt(0)?Yr:Nr,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Us(n,bs)),i.join("")};var Qt=/[#\/\?@]/g,Nr=/[#\?:]/g,Yr=/[#\?]/g,Ti=/[#\?@]/g,bs=/#/g;function os(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Lr(i){i.g||(i.g=new ji,i.h=0,i.i&&function us(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),l=null;if(0<=o){var m=i[n].substring(0,o);l=i[n].substring(o+1)}else m=i[n];e(m,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function j(i,e){Lr(i),e=Ee(i,e),Ri(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Ri((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&xi(i)))}function oe(i,e){return Lr(i),e=Ee(i,e),Ri(i.g.h,e)}function $(i,e,n){j(i,e),0<n.length&&(i.i=null,i.g.set(Ee(i,e),mt(n)),i.h+=n.length)}function Ee(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Xt(i){this.l=i||kn,i=me.PerformanceNavigationTiming?0<(i=me.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(me.g&&me.g.Ea&&me.g.Ea()&&me.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ge=os.prototype).add=function(i,e){Lr(this),this.i=null,i=Ee(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},ge.forEach=function(i,e){Lr(this),this.g.forEach(function(n,o){Tt(n,function(l){i.call(e,l,o,this)},this)},this)},ge.T=function(){Lr(this);for(var i=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var l=i[o],m=0;m<l.length;m++)n.push(e[o]);return n},ge.R=function(i){Lr(this);var e=[];if("string"==typeof i)oe(this,i)&&(e=_t(e,this.g.get(Ee(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=_t(e,i[n])}return e},ge.set=function(i,e){return Lr(this),this.i=null,oe(this,i=Ee(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ge.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],l=encodeURIComponent(String(o));o=this.R(o);for(var m=0;m<o.length;m++){var b=l;""!==o[m]&&(b+="="+encodeURIComponent(String(o[m]))),i.push(b)}}return this.i=i.join("&")};var kn=10;function fi(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Wr(i){return i.h?1:i.g?i.g.size:0}function Hr(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function jr(i,e){i.g?i.g.add(e):i.h=e}function Oi(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ni(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return mt(i.i)}function wi(){}function K(){this.g=new wi}function U(i,e,n){const o=n||"";try{is(i,function(l,m){let b=l;Xe(l)&&(b=Re(l)),e.push(o+m+"="+encodeURIComponent(b))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function fe(i,e,n,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch(m){}}function Wt(i){this.l=i.$b||null,this.j=i.ib||!1}function zn(i,e){Ge.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ui,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xt.prototype.cancel=function(){if(this.i=ni(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},wi.prototype.stringify=function(i){return me.JSON.stringify(i,void 0)},wi.prototype.parse=function(i){return me.JSON.parse(i,void 0)},$e(Wt,ln),Wt.prototype.g=function(){return new zn(this.l,this.j)},Wt.prototype.i=function(i){return function(){return i}}({}),$e(zn,Ge);var ui=0;function Yi(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function oo(i){i.readyState=4,i.l=null,i.j=null,i.A=null,es(i)}function es(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ge=zn.prototype).open=function(i,e){if(this.readyState!=ui)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,es(this)},ge.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||me).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,oo(this)),this.readyState=ui},ge.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==me.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yi(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},ge.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?oo(this):es(this),3==this.readyState&&Yi(this)}},ge.Ua=function(i){this.g&&(this.response=this.responseText=i,oo(this))},ge.Ta=function(i){this.g&&(this.response=i,oo(this))},ge.ha=function(){this.g&&oo(this)},ge.setRequestHeader=function(i,e){this.v.append(i,e)},ge.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ge.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(zn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var pn=me.JSON.parse;function gr(i){Ge.call(this),this.headers=new ji,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fa,this.K=this.L=!1}$e(gr,Ge);var Fa="",ki=/^https?$/i,Ka=["POST","PUT"];function lo(i){return"content-type"==i.toLowerCase()}function Bo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Uo(i),uo(i)}function Uo(i){i.D||(i.D=!0,It(i,"complete"),It(i,"error"))}function La(i){if(i.h&&void 0!==ke&&(!i.C[1]||4!=ps(i)||2!=i.ba()))if(i.v&&4==ps(i))bi(i.Fa,0,i);else if(It(i,"readystatechange"),4==ps(i)){i.h=!1;try{const P=i.ba();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===P){var l=String(i.H).match(ss)[1]||null;if(!l&&me.self&&me.self.location){var m=me.self.location.protocol;l=m.substr(0,m.length-1)}o=!ki.test(l?l.toLowerCase():"")}n=o}if(n)It(i,"complete"),It(i,"success");else{i.m=6;try{var b=2<ps(i)?i.g.statusText:""}catch(te){b=""}i.j=b+" ["+i.ba()+"]",Uo(i)}}finally{uo(i)}}}function uo(i,e){if(i.g){Ro(i);const n=i.g,o=i.C[0]?Te:null;i.g=null,i.C=null,e||It(i,"ready");try{n.onreadystatechange=o}catch(l){}}}function Ro(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(me.clearTimeout(i.A),i.A=null)}function ps(i){return i.g?i.g.readyState:0}function Wi(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Fa:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function co(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function Ks(i){let e="";return At(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Zr(i,e,n))}function re(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function v(i){this.za=0,this.l=[],this.h=new _n,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=re("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=re("baseRetryDelayMs",5e3,i),this.$a=re("retryDelaySeedMs",1e4,i),this.Ya=re("forwardChannelMaxRetries",2,i),this.ra=re("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Xt(i&&i.concurrentRequestLimit),this.Ca=new K,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function D(i){if(ue(i),3==i.G){var e=i.V++,n=Li(i.F);Zr(n,"SID",i.J),Zr(n,"RID",e),Zr(n,"TYPE","terminate"),Jt(i,n),(e=new ys(i,i.h,e,void 0)).K=2,e.v=ds(Li(n)),n=!1,me.navigator&&me.navigator.sendBeacon&&(n=me.navigator.sendBeacon(e.v.toString(),"")),!n&&me.Image&&((new Image).src=e.v,n=!0),n||(e.g=gs(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Fs(e)}ms(i)}function B(i){i.g&&(kr(i),i.g.cancel(),i.g=null)}function ue(i){B(i),i.u&&(me.clearTimeout(i.u),i.u=null),Vr(i),i.i.cancel(),i.m&&("number"==typeof i.m&&me.clearTimeout(i.m),i.m=null)}function Oe(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&it(i)}function it(i){fi(i.i)||i.m||(i.m=!0,Pe(i.Ha,i),i.C=0)}function Nt(i,e){var n;n=e?e.m:i.V++;const o=Li(i.F);Zr(o,"SID",i.J),Zr(o,"RID",n),Zr(o,"AID",i.U),Jt(i,o),i.o&&i.s&&co(o,i.o,i.s),n=new ys(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Hn(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),jr(i.i,n),vs(n,o,e)}function Jt(i,e){i.j&&is({},function(n,o){Zr(e,o,n)})}function Hn(i,e,n){n=Math.min(i.l.length,n);var o=i.j?Ye(i.j.Oa,i.j,i):null;e:{var l=i.l;let m=-1;for(;;){const b=["count="+n];-1==m?0<n?(m=l[0].h,b.push("ofs="+m)):m=0:b.push("ofs="+m);let P=!0;for(let te=0;te<n;te++){let pe=l[te].h;const nt=l[te].g;if(pe-=m,0>pe)m=Math.max(0,l[te].h-100),P=!1;else try{U(nt,b,"req"+pe+"_")}catch(wt){o&&o(nt)}}if(P){o=b.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,o}function Qn(i){i.g||i.u||(i.Y=1,Pe(i.Ga,i),i.A=0)}function br(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=st(Ye(i.Ga,i),Di(i,i.A)),i.A++,0))}function kr(i){null!=i.B&&(me.clearTimeout(i.B),i.B=null)}function ur(i){i.g=new ys(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Li(i.oa);Zr(e,"RID","rpc"),Zr(e,"SID",i.J),Zr(e,"CI",i.N?"0":"1"),Zr(e,"AID",i.U),Jt(i,e),Zr(e,"TYPE","xmlhttp"),i.o&&i.s&&co(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=ds(Li(e)),n.s=null,n.U=!0,so(n,i)}function Vr(i){null!=i.v&&(me.clearTimeout(i.v),i.v=null)}function gi(i,e){var n=null;if(i.g==e){Vr(i),kr(i),i.g=null;var o=2}else{if(!Hr(i.i,e))return;n=e.D,Oi(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;It(o=Xi(),new ct(o,n,e,l)),it(i)}else Qn(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==o&&function ot(i,e){return!(Wr(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=st(Ye(i.Ha,i,e),Di(i,i.C)),i.C++,0)))}(i,e)||2==o&&br(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),l){case 1:Bi(i,5);break;case 4:Bi(i,10);break;case 3:Bi(i,6);break;default:Bi(i,2)}}function Di(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function Bi(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var o=Ye(i.jb,i);n||(n=new cs("//www.google.com/images/cleardot.gif"),me.location&&"http"==me.location.protocol||As(n,"https"),ds(n)),function k(i,e){const n=new _n;if(me.Image){const o=new Image;o.onload=Ut(fe,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Ut(fe,n,o,"TestLoadImage: error",!1,e),o.onabort=Ut(fe,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ut(fe,n,o,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else ti(2);i.G=0,i.j&&i.j.va(e),ms(i),ue(i)}function ms(i){i.G=0,i.I=-1,i.j&&((0!=ni(i.i).length||0!=i.l.length)&&(i.i.i.length=0,mt(i.l),i.l.length=0),i.j.ua())}function di(i,e,n){let o=function Bs(i){return i instanceof cs?Li(i):new cs(i,void 0)}(n);if(""!=o.i)e&&Vs(o,e+"."+o.i),Es(o,o.m);else{const l=me.location;o=function oi(i,e,n,o){var l=new cs(null,void 0);return i&&As(l,i),e&&Vs(l,e),n&&Es(l,n),o&&(l.l=o),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,n)}return i.aa&&At(i.aa,function(l,m){Zr(o,m,l)}),n=i.sa,(e=i.D)&&n&&Zr(o,e,n),Zr(o,"VER",i.ma),Jt(i,o),o}function gs(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gr(n&&i.Ba&&!i.qa?new Wt({ib:!0}):i.qa)).L=i.H,e}function Ei(){}function zi(){if(Gn&&!(10<=Number(Ir)))throw Error("Environmental error: no available transport.")}function ei(i,e){Ge.call(this),this.g=new v(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Ct(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ct(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ri(this)}function qs(i){Fr.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Hs(){mi.call(this),this.status=1}function ri(i){this.g=i}(ge=gr.prototype).ea=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ci.g(),this.C=function Cn(i){return i.h||(i.h=i.i())}(this.u?this.u:Ci),this.g.onreadystatechange=Ye(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(m){return void Bo(this,m)}i=n||"";const l=new ji(this.headers);o&&is(o,function(m,b){l.set(b,m)}),o=function kt(i){e:{var e=lo;const n=i.length,o="string"==typeof i?i.split(""):i;for(let l=0;l<n;l++)if(l in o&&e.call(void 0,o[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),n=me.FormData&&i instanceof me.FormData,!(0<=le(Ka,e))||o||n||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(m,b){this.g.setRequestHeader(b,m)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ro(this),0<this.B&&((this.K=function ao(i){return Gn&&function Er(){return function sn(i){var e=En;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=xt(String(mr)).split("."),n=xt("9").split("."),o=Math.max(e.length,n.length);for(let b=0;0==i&&b<o;b++){var l=e[b]||"",m=n[b]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==l[0].length&&0==m[0].length)break;i=Kt(0==l[1].length?0:parseInt(l[1],10),0==m[1].length?0:parseInt(m[1],10))||Kt(0==l[2].length,0==m[2].length)||Kt(l[2],m[2]),l=l[3],m=m[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ye(this.pa,this)):this.A=bi(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){Bo(this,m)}},ge.pa=function(){void 0!==ke&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,It(this,"timeout"),this.abort(8))},ge.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,It(this,"complete"),It(this,"abort"),uo(this))},ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uo(this,!0)),gr.Z.M.call(this)},ge.Fa=function(){this.s||(this.F||this.v||this.l?La(this):this.cb())},ge.cb=function(){La(this)},ge.ba=function(){try{return 2<ps(this)?this.g.status:-1}catch(i){return-1}},ge.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ge.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),pn(e)}},ge.Da=function(){return this.m},ge.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ge=v.prototype).ma=8,ge.G=1,ge.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},ge.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new ys(this,this.h,i,void 0);let m=this.s;if(this.P&&(m?(m=Bt(m),He(m,this.P)):m=this.P),null===this.o&&(l.H=m),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Hn(this,l,e),Zr(n=Li(this.F),"RID",i),Zr(n,"CVER",22),this.D&&Zr(n,"X-HTTP-Session-Id",this.D),Jt(this,n),this.o&&m&&co(n,this.o,m),jr(this.i,l),this.Ra&&Zr(n,"TYPE","init"),this.ja?(Zr(n,"$req",e),Zr(n,"SID","null"),l.$=!0,vs(l,n,null)):vs(l,n,e),this.G=2}}else 3==this.G&&(i?Nt(this,i):0==this.l.length||fi(this.i)||Nt(this))},ge.Ga=function(){if(this.u=null,ur(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=st(Ye(this.bb,this),i)}},ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ti(10),B(this),ur(this))},ge.ab=function(){null!=this.v&&(this.v=null,B(this),br(this),ti(19))},ge.jb=function(i){i?(this.h.info("Successfully pinged google.com"),ti(2)):(this.h.info("Failed to ping google.com"),ti(1))},(ge=Ei.prototype).xa=function(){},ge.wa=function(){},ge.va=function(){},ge.ua=function(){},ge.Oa=function(){},zi.prototype.g=function(i,e){return new ei(i,e)},$e(ei,Ge),ei.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Pe(Ye(i.hb,i,e))),ti(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=di(i,null,i.W),it(i)},ei.prototype.close=function(){D(this.g)},ei.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Oe(this.g,e)}else this.v?((e={}).__data__=Re(i),Oe(this.g,e)):Oe(this.g,i)},ei.prototype.M=function(){this.g.j=null,delete this.j,D(this.g),delete this.g,ei.Z.M.call(this)},$e(qs,Fr),$e(Hs,mi),$e(ri,Ei),ri.prototype.xa=function(){It(this.g,"a")},ri.prototype.wa=function(i){It(this.g,new qs(i))},ri.prototype.va=function(i){It(this.g,new Hs(i))},ri.prototype.ua=function(){It(this.g,"b")},zi.prototype.createWebChannel=zi.prototype.g,ei.prototype.send=ei.prototype.u,ei.prototype.open=ei.prototype.m,ei.prototype.close=ei.prototype.close,Pt.NO_ERROR=0,Pt.TIMEOUT=8,Pt.HTTP_ERROR=6,on.COMPLETE="complete",Un.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",Ge.prototype.listen=Ge.prototype.N,gr.prototype.listenOnce=gr.prototype.O,gr.prototype.getLastError=gr.prototype.La,gr.prototype.getLastErrorCode=gr.prototype.Da,gr.prototype.getStatus=gr.prototype.ba,gr.prototype.getResponseJson=gr.prototype.Qa,gr.prototype.getResponseText=gr.prototype.ga,gr.prototype.send=gr.prototype.ea;var Gi=ze.createWebChannelTransport=function(){return new zi},ts=ze.getStatEventTarget=function(){return Xi()},vo=ze.ErrorCode=Pt,Ho=ze.EventType=on,Nn=ze.Event=Rr,or=ze.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ar=ze.FetchXmlHttpFactory=Wt,Tr=ze.WebChannel=Un,Ni=ze.XhrIo=gr;const as="@firebase/firestore";class ii{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ii.UNAUTHENTICATED=new ii(null),ii.GOOGLE_CREDENTIALS=new ii("google-credentials-uid"),ii.FIRST_PARTY=new ii("first-party-uid"),ii.MOCK_USER=new ii("mock-user");let Ki="9.6.11";const _i=new z.Yd("@firebase/firestore");function Ea(){return _i.logLevel}function Tl(i){_i.setLogLevel(i)}function yn(i,...e){if(_i.logLevel<=z.in.DEBUG){const n=e.map(eo);_i.debug(`Firestore (${Ki}): ${i}`,...n)}}function ai(i,...e){if(_i.logLevel<=z.in.ERROR){const n=e.map(eo);_i.error(`Firestore (${Ki}): ${i}`,...n)}}function ws(i,...e){if(_i.logLevel<=z.in.WARN){const n=e.map(eo);_i.warn(`Firestore (${Ki}): ${i}`,...n)}}function eo(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(n){return i}}function Xn(i="Unexpected state"){const e=`FIRESTORE (${Ki}) INTERNAL ASSERTION FAILED: `+i;throw ai(e),new Error(e)}function Cr(i,e){i||Xn()}function Sl(i,e){i||Xn()}function An(i,e){return i}const zt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dn extends Ce.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ui{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class aa{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ii.UNAUTHENTICATED))}shutdown(){}}class N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class x{constructor(e){this.t=e,this.currentUser=ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let l=this.i;const m=pe=>this.i!==l?(l=this.i,n(pe)):Promise.resolve();let b=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Ui,e.enqueueRetryable(()=>m(this.currentUser))};const P=()=>{const pe=b;e.enqueueRetryable((0,u.Z)(function*(){yield pe.promise,yield m(o.currentUser)}))},te=pe=>{yn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=pe,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(pe=>te(pe)),setTimeout(()=>{if(!this.auth){const pe=this.t.getImmediate({optional:!0});pe?te(pe):(yn("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Ui)}},0),P()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(yn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Cr("string"==typeof o.accessToken),new aa(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Cr(null===e||"string"==typeof e),new ii(e)}}class I{constructor(e,n,o){this.type="FirstParty",this.user=ii.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class W{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new I(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ve{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const o=m=>{null!=m.error&&yn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const b=m.token!==this.p;return this.p=m.token,yn("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?n(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>o(m))};const l=m=>{yn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.g.onInit(m=>l(m)),setTimeout(()=>{if(!this.appCheck){const m=this.g.getImmediate({optional:!0});m?l(m):yn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Cr("string"==typeof n.token),this.p=n.token,new X(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class lt{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.I(o),this.T=o=>n.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Zt(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}lt.A=-1;class Zn{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=Zt(40);for(let m=0;m<l.length;++m)o.length<20&&l[m]<n&&(o+=e.charAt(l[m]%e.length))}return o}}function Fn(i,e){return i<e?-1:i>e?1:0}function ir(i,e,n){return i.length===e.length&&i.every((o,l)=>n(o,e[l]))}function yi(i){return i+"\0"}class xr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Dn(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Dn(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Dn(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Dn(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xr.fromMillis(Date.now())}static fromDate(e){return xr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new xr(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ar{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ar(e)}static min(){return new ar(new xr(0,0))}static max(){return new ar(new xr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Eo(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Oo(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function jo(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Zs{constructor(e,n,o){void 0===n?n=0:n>e.length&&Xn(),void 0===o?o=e.length-n:o>e.length-n&&Xn(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Zs.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zs?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let l=0;l<o;l++){const m=e.get(l),b=n.get(l);if(m<b)return-1;if(m>b)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class vi extends Zs{construct(e,n,o){return new vi(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Dn(zt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(l=>l.length>0))}return new vi(n)}static emptyPath(){return new vi([])}}const ol=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hs extends Zs{construct(e,n,o){return new hs(e,n,o)}static isValidIdentifier(e){return ol.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hs(["__name__"])}static fromServerFormat(e){const n=[];let o="",l=0;const m=()=>{if(0===o.length)throw new Dn(zt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let b=!1;for(;l<e.length;){const P=e[l];if("\\"===P){if(l+1===e.length)throw new Dn(zt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const te=e[l+1];if("\\"!==te&&"."!==te&&"`"!==te)throw new Dn(zt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=te,l+=2}else"`"===P?(b=!b,l++):"."!==P||b?(o+=P,l++):(m(),l++)}if(m(),b)throw new Dn(zt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hs(n)}static emptyPath(){return new hs([])}}class bo{constructor(e){this.fields=e,e.sort(hs.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ir(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function zl(){return"undefined"!=typeof atob}class ls{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new ls(n)}static fromUint8Array(e){const n=function(o){let l="";for(let m=0;m<o.length;++m)l+=String.fromCharCode(o[m]);return l}(e);return new ls(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ls.EMPTY_BYTE_STRING=new ls("");const Gl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function to(i){if(Cr(!!i),"string"==typeof i){let e=0;const n=Gl.exec(i);if(Cr(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Pi(i.seconds),nanos:Pi(i.nanos)}}function Pi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ho(i){return"string"==typeof i?ls.fromBase64String(i):ls.fromUint8Array(i)}function Al(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ml(i){const e=i.mapValue.fields.__previous_value__;return Al(e)?Ml(e):e}function wo(i){const e=to(i.mapValue.fields.__local_write_time__.timestampValue);return new xr(e.seconds,e.nanos)}class Kl{constructor(e,n,o,l,m,b,P,te){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=l,this.ssl=m,this.forceLongPolling=b,this.autoDetectLongPolling=P,this.useFetchStreams=te}}class ba{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ba("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ba&&e.projectId===this.projectId&&e.database===this.database}}function qi(i){return null==i}function Va(i){return 0===i&&1/i==-1/0}function Gu(i){return"number"==typeof i&&Number.isInteger(i)&&!Va(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Wn{constructor(e){this.path=e}static fromPath(e){return new Wn(vi.fromString(e))}static fromName(e){return new Wn(vi.fromString(e).popFirst(5))}static empty(){return new Wn(vi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return vi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wn(new vi(e.slice()))}}const yu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vu={nullValue:"NULL_VALUE"};function wa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Al(i)?4:Ca(i)?9:10:Xn()}function ko(i,e){if(i===e)return!0;const n=wa(i);if(n!==wa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return wo(i).isEqual(wo(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const m=to(o.timestampValue),b=to(l.timestampValue);return m.seconds===b.seconds&&m.nanos===b.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,ho(i.bytesValue).isEqual(ho(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Pi(o.geoPointValue.latitude)===Pi(l.geoPointValue.latitude)&&Pi(o.geoPointValue.longitude)===Pi(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Pi(o.integerValue)===Pi(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const m=Pi(o.doubleValue),b=Pi(l.doubleValue);return m===b?Va(m)===Va(b):isNaN(m)&&isNaN(b)}return!1}(i,e);case 9:return ir(i.arrayValue.values||[],e.arrayValue.values||[],ko);case 10:return function(o,l){const m=o.mapValue.fields||{},b=l.mapValue.fields||{};if(Eo(m)!==Eo(b))return!1;for(const P in m)if(m.hasOwnProperty(P)&&(void 0===b[P]||!ko(m[P],b[P])))return!1;return!0}(i,e);default:return Xn()}var l}function la(i,e){return void 0!==(i.values||[]).find(n=>ko(n,e))}function ua(i,e){if(i===e)return 0;const n=wa(i),o=wa(e);if(n!==o)return Fn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fn(i.booleanValue,e.booleanValue);case 2:return function(l,m){const b=Pi(l.integerValue||l.doubleValue),P=Pi(m.integerValue||m.doubleValue);return b<P?-1:b>P?1:b===P?0:isNaN(b)?isNaN(P)?0:-1:1}(i,e);case 3:return Cs(i.timestampValue,e.timestampValue);case 4:return Cs(wo(i),wo(e));case 5:return Fn(i.stringValue,e.stringValue);case 6:return function(l,m){const b=ho(l),P=ho(m);return b.compareTo(P)}(i.bytesValue,e.bytesValue);case 7:return function(l,m){const b=l.split("/"),P=m.split("/");for(let te=0;te<b.length&&te<P.length;te++){const pe=Fn(b[te],P[te]);if(0!==pe)return pe}return Fn(b.length,P.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,m){const b=Fn(Pi(l.latitude),Pi(m.latitude));return 0!==b?b:Fn(Pi(l.longitude),Pi(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,m){const b=l.values||[],P=m.values||[];for(let te=0;te<b.length&&te<P.length;++te){const pe=ua(b[te],P[te]);if(pe)return pe}return Fn(b.length,P.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,m){const b=l.fields||{},P=Object.keys(b),te=m.fields||{},pe=Object.keys(te);P.sort(),pe.sort();for(let nt=0;nt<P.length&&nt<pe.length;++nt){const wt=Fn(P[nt],pe[nt]);if(0!==wt)return wt;const qt=ua(b[P[nt]],te[pe[nt]]);if(0!==qt)return qt}return Fn(P.length,pe.length)}(i.mapValue,e.mapValue);default:throw Xn()}}function Cs(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Fn(i,e);const n=to(i),o=to(e),l=Fn(n.seconds,o.seconds);return 0!==l?l:Fn(n.nanos,o.nanos)}function js(i){return Ba(i)}function Ba(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=to(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ho(i.bytesValue).toBase64():"referenceValue"in i?Wn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",m=!0;for(const b of o.values||[])m?m=!1:l+=",",l+=Ba(b);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let m="{",b=!0;for(const P of l)b?b=!1:m+=",",m+=`${P}:${Ba(o.fields[P])}`;return m+"}"}(i.mapValue):Xn();var e}function ca(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function fo(i){return!!i&&"integerValue"in i}function Ds(i){return!!i&&"arrayValue"in i}function no(i){return!!i&&"nullValue"in i}function qa(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ua(i){return!!i&&"mapValue"in i}function $s(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Oo(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=$s(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$s(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Ca(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function al(i){return"nullValue"in i?vu:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?ca(ba.empty(),Wn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Xn()}function ql(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?ca(ba.empty(),Wn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?yu:Xn()}function Yo(i,e){return void 0===i?e:void 0===e||ua(i,e)>0?i:e}function da(i,e){return void 0===i?e:void 0===e||ua(i,e)<0?i:e}class Ms{constructor(e){this.value=e}static empty(){return new Ms({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Ua(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$s(n)}setAll(e){let n=hs.emptyPath(),o={},l=[];e.forEach((b,P)=>{if(!n.isImmediateParentOf(P)){const te=this.getFieldsMap(n);this.applyChanges(te,o,l),o={},l=[],n=P.popLast()}b?o[P.lastSegment()]=$s(b):l.push(P.lastSegment())});const m=this.getFieldsMap(n);this.applyChanges(m,o,l)}delete(e){const n=this.field(e.popLast());Ua(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ko(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=n.mapValue.fields[e.get(o)];Ua(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,o){Oo(n,(l,m)=>e[l]=m);for(const l of o)delete e[l]}clone(){return new Ms($s(this.value))}}function Co(i){const e=[];return Oo(i.fields,(n,o)=>{const l=new hs([n]);if(Ua(o)){const m=Co(o.mapValue).fields;if(0===m.length)e.push(l);else for(const b of m)e.push(l.child(b))}else e.push(l)}),new bo(e)}class Qi{constructor(e,n,o,l,m,b){this.key=e,this.documentType=n,this.version=o,this.readTime=l,this.data=m,this.documentState=b}static newInvalidDocument(e){return new Qi(e,0,ar.min(),ar.min(),Ms.empty(),0)}static newFoundDocument(e,n,o){return new Qi(e,1,n,ar.min(),o,0)}static newNoDocument(e,n){return new Qi(e,2,n,ar.min(),Ms.empty(),0)}static newUnknownDocument(e,n){return new Qi(e,3,n,ar.min(),Ms.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ms.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class No{constructor(e,n,o,l){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=l}}function Eu(i){return i.fields.find(e=>2===e.kind)}function Qo(i){return i.fields.filter(e=>2!==e.kind)}No.UNKNOWN_ID=-1;class Xo{constructor(e,n){this.fieldPath=e,this.kind=n}}class $o{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new $o(0,Ns.min())}}function xl(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=ar.fromTimestamp(1e9===o?new xr(n+1,0):new xr(n,o));return new Ns(l,Wn.empty(),e)}function Za(i){return new Ns(i.readTime,i.key,-1)}class Ns{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Ns(ar.min(),Wn.empty(),-1)}static max(){return new Ns(ar.max(),Wn.empty(),-1)}}function Zl(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Wn.comparator(i.documentKey,e.documentKey),0!==n?n:Fn(i.largestBatchId,e.largestBatchId))}class Jo{constructor(e,n=null,o=[],l=[],m=null,b=null,P=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=l,this.limit=m,this.startAt=b,this.endAt=P,this.P=null}}function ha(i,e=null,n=[],o=[],l=null,m=null,b=null){return new Jo(i,e,n,o,l,m,b)}function ea(i){const e=An(i);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(l=o).field.canonicalString()+l.op.toString()+js(l.value);var l}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),qi(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>js(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>js(o)).join(",")),e.P=n}return e.P}function fa(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!xs(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((n=i.filters[l]).op!==(o=e.filters[l]).op||!n.field.isEqual(o.field)||!ko(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Do(i.startAt,e.startAt)&&Do(i.endAt,e.endAt)}function na(i){return Wn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function ll(i,e){return i.filters.filter(n=>n instanceof ce&&n.field.isEqual(e))}function V(i,e,n){let o,l=!0;for(const m of ll(i,e)){let b,P=!0;switch(m.op){case"<":case"<=":b=al(m.value);break;case"==":case"in":case">=":b=m.value;break;case">":b=m.value,P=!1;break;case"!=":case"not-in":b=vu}Yo(o,b)===b&&(o=b,l=P)}if(null!==n)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const b=n.position[m];Yo(o,b)===b&&(o=b,l=n.inclusive);break}return{value:o,inclusive:l}}function q(i,e,n){let o,l=!0;for(const m of ll(i,e)){let b,P=!0;switch(m.op){case">=":case">":b=ql(m.value),P=!1;break;case"==":case"in":case"<=":b=m.value;break;case"<":b=m.value,P=!1;break;case"!=":case"not-in":b=yu}da(o,b)===b&&(o=b,l=P)}if(null!==n)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const b=n.position[m];da(o,b)===b&&(o=b,l=n.inclusive);break}return{value:o,inclusive:l}}class ce extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,o):new et(e,n,o):"array-contains"===n?new jn(e,o):"in"===n?new Gr(e,o):"not-in"===n?new qr(e,o):"array-contains-any"===n?new pi(e,o):new ce(e,n,o)}static V(e,n,o){return"in"===n?new Ot(e,o):new jt(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(ua(n,this.value)):null!==n&&wa(this.value)===wa(n)&&this.v(ua(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class et extends ce{constructor(e,n,o){super(e,n,o),this.key=Wn.fromName(o.referenceValue)}matches(e){const n=Wn.comparator(e.key,this.key);return this.v(n)}}class Ot extends ce{constructor(e,n){super(e,"in",n),this.keys=Rn(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jt extends ce{constructor(e,n){super(e,"not-in",n),this.keys=Rn(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Rn(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Wn.fromName(o.referenceValue))}class jn extends ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ds(n)&&la(n.arrayValue,this.value)}}class Gr extends ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&la(this.value.arrayValue,n)}}class qr extends ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(la(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!la(this.value.arrayValue,n)}}class pi extends ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ds(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>la(this.value.arrayValue,o))}}class Sr{constructor(e,n){this.position=e,this.inclusive=n}}class Is{constructor(e,n="asc"){this.field=e,this.dir=n}}function xs(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function ra(i,e,n){let o=0;for(let l=0;l<i.position.length;l++){const m=e[l],b=i.position[l];if(o=m.field.isKeyField()?Wn.comparator(Wn.fromName(b.referenceValue),n.key):ua(b,n.data.field(m.field)),"desc"===m.dir&&(o*=-1),0!==o)break}return o}function Do(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ko(i.position[n],e.position[n]))return!1;return!0}class Rs{constructor(e,n=null,o=[],l=[],m=null,b="F",P=null,te=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=l,this.limit=m,this.limitType=b,this.startAt=P,this.endAt=te,this.D=null,this.C=null}}function Wo(i,e,n,o,l,m,b,P){return new Rs(i,e,n,o,l,m,b,P)}function Ys(i){return new Rs(i)}function Da(i){return!qi(i.limit)&&"F"===i.limitType}function ul(i){return!qi(i.limit)&&"L"===i.limitType}function cl(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Ia(i){for(const e of i.filters)if(e.S())return e.field;return null}function Rl(i){return null!==i.collectionGroup}function Ol(i){const e=An(i);if(null===e.D){e.D=[];const n=Ia(e),o=cl(e);if(null!==n&&null===o)n.isKeyField()||e.D.push(new Is(n)),e.D.push(new Is(hs.keyField(),"asc"));else{let l=!1;for(const m of e.explicitOrderBy)e.D.push(m),m.field.isKeyField()&&(l=!0);if(!l){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Is(hs.keyField(),m))}}}return e.D}function Po(i){const e=An(i);if(!e.C)if("F"===e.limitType)e.C=ha(e.path,e.collectionGroup,Ol(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const m of Ol(e))n.push(new Is(m.field,"desc"===m.dir?"asc":"desc"));const o=e.endAt?new Sr(e.endAt.position,!e.endAt.inclusive):null,l=e.startAt?new Sr(e.startAt.position,!e.startAt.inclusive):null;e.C=ha(e.path,e.collectionGroup,n,e.filters,e.limit,o,l)}return e.C}function dl(i,e,n){return new Rs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function pa(i,e){return fa(Po(i),Po(e))&&i.limitType===e.limitType}function kl(i){return`${ea(Po(i))}|lt:${i.limitType}`}function Ku(i){return`Query(target=${function ta(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${js(o.value)}`;var o}).join(", ")}]`),qi(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>js(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>js(n)).join(",")),`Target(${e})`}(Po(i))}; limitType=${i.limitType})`}function hl(i,e){return e.isFoundDocument()&&function(n,o){const l=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):Wn.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(i,e)&&function(n,o){for(const l of n.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(n,o){for(const l of n.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(l,m,b){const P=ra(l,m,b);return l.inclusive?P<=0:P<0}(n.startAt,Ol(n),o)||n.endAt&&!function(l,m,b){const P=ra(l,m,b);return l.inclusive?P>=0:P>0}(n.endAt,Ol(n),o)));var n,o}function Nl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ta(i){return(e,n)=>{let o=!1;for(const l of Ol(i)){const m=Yl(l,e,n);if(0!==m)return m;o=o||l.field.isKeyField()}return 0}}function Yl(i,e,n){const o=i.field.isKeyField()?Wn.comparator(e.key,n.key):function(l,m,b){const P=m.data.field(l),te=b.data.field(l);return null!==P&&null!==te?ua(P,te):Xn()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Xn()}}function wc(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Va(e)?"-0":e}}function qu(i){return{integerValue:""+i}}function fl(i,e){return Gu(e)?qu(e):wc(i,e)}class Sa{constructor(){this._=void 0}}function Ha(i,e,n){return i instanceof Pl?function(o,l){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(m.fields.__previous_value__=l),{mapValue:m}}(n,e):i instanceof Aa?pl(i,e):i instanceof Ma?Io(i,e):function(o,l){const m=ia(o,l),b=Qa(m)+Qa(o.k);return fo(m)&&fo(o.k)?qu(b):wc(o.M,b)}(i,e)}function Zu(i,e,n){return i instanceof Aa?pl(i,e):i instanceof Ma?Io(i,e):n}function ia(i,e){return i instanceof Ya?fo(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Pl extends Sa{}class Aa extends Sa{constructor(e){super(),this.elements=e}}function pl(i,e){const n=Yu(e);for(const o of i.elements)n.some(l=>ko(l,o))||n.push(o);return{arrayValue:{values:n}}}class Ma extends Sa{constructor(e){super(),this.elements=e}}function Io(i,e){let n=Yu(e);for(const o of i.elements)n=n.filter(l=>!ko(l,o));return{arrayValue:{values:n}}}class Ya extends Sa{constructor(e,n){super(),this.M=e,this.k=n}}function Qa(i){return Pi(i.integerValue||i.doubleValue)}function Yu(i){return Ds(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ql{constructor(e,n){this.field=e,this.transform=n}}class Qc{constructor(e,n){this.version=e,this.transformResults=n}}class Ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ts}static exists(e){return new Ts(void 0,e)}static updateTime(e){return new Ts(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function po(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ma{}function Xu(i,e,n){i instanceof ml?function(o,l,m){const b=o.value.clone(),P=Dc(o.fieldTransforms,l,m.transformResults);b.setAll(P),l.convertToFoundDocument(m.version,b).setHasCommittedMutations()}(i,e,n):i instanceof Xa?function(o,l,m){if(!po(o.precondition,l))return void l.convertToUnknownDocument(m.version);const b=Dc(o.fieldTransforms,l,m.transformResults),P=l.data;P.setAll(Cc(o)),P.setAll(b),l.convertToFoundDocument(m.version,P).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Xl(i,e,n){var l;i instanceof ml?function(o,l,m){if(!po(o.precondition,l))return;const b=o.value.clone(),P=A(o.fieldTransforms,m,l);b.setAll(P),l.convertToFoundDocument(ec(l),b).setHasLocalMutations()}(i,e,n):i instanceof Xa?function(o,l,m){if(!po(o.precondition,l))return;const b=A(o.fieldTransforms,m,l),P=l.data;P.setAll(Cc(o)),P.setAll(b),l.convertToFoundDocument(ec(l),P).setHasLocalMutations()}(i,e,n):po(i.precondition,l=e)&&l.convertToNoDocument(ar.min())}function Ju(i,e){let n=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),m=ia(o.transform,l||null);null!=m&&(null==n&&(n=Ms.empty()),n.set(o.field,m))}return n||null}function Fl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&ir(n,o,(l,m)=>function Qu(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof Aa&&o instanceof Aa||n instanceof Ma&&o instanceof Ma?ir(n.elements,o.elements,ko):n instanceof Ya&&o instanceof Ya?ko(n.k,o.k):n instanceof Pl&&o instanceof Pl);var n,o}(l,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}function ec(i){return i.isFoundDocument()?i.version:ar.min()}class ml extends ma{constructor(e,n,o,l=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=l,this.type=0}}class Xa extends ma{constructor(e,n,o,l,m=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=l,this.fieldTransforms=m,this.type=1}}function Cc(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Dc(i,e,n){const o=new Map;Cr(i.length===n.length);for(let l=0;l<n.length;l++){const m=i[l],b=m.transform,P=e.data.field(m.field);o.set(m.field,Zu(b,P,n[l]))}return o}function A(i,e,n){const o=new Map;for(const l of i){const m=l.transform,b=n.data.field(l.field);o.set(l.field,Ha(m,b,e))}return o}class g extends ma{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class y extends ma{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class O{constructor(e){this.count=e}}var ae,xe;function Lt(i){switch(i){default:return Xn();case zt.CANCELLED:case zt.UNKNOWN:case zt.DEADLINE_EXCEEDED:case zt.RESOURCE_EXHAUSTED:case zt.INTERNAL:case zt.UNAVAILABLE:case zt.UNAUTHENTICATED:return!1;case zt.INVALID_ARGUMENT:case zt.NOT_FOUND:case zt.ALREADY_EXISTS:case zt.PERMISSION_DENIED:case zt.FAILED_PRECONDITION:case zt.ABORTED:case zt.OUT_OF_RANGE:case zt.UNIMPLEMENTED:case zt.DATA_LOSS:return!0}}function mn(i){if(void 0===i)return ai("GRPC error has no .code"),zt.UNKNOWN;switch(i){case ae.OK:return zt.OK;case ae.CANCELLED:return zt.CANCELLED;case ae.UNKNOWN:return zt.UNKNOWN;case ae.DEADLINE_EXCEEDED:return zt.DEADLINE_EXCEEDED;case ae.RESOURCE_EXHAUSTED:return zt.RESOURCE_EXHAUSTED;case ae.INTERNAL:return zt.INTERNAL;case ae.UNAVAILABLE:return zt.UNAVAILABLE;case ae.UNAUTHENTICATED:return zt.UNAUTHENTICATED;case ae.INVALID_ARGUMENT:return zt.INVALID_ARGUMENT;case ae.NOT_FOUND:return zt.NOT_FOUND;case ae.ALREADY_EXISTS:return zt.ALREADY_EXISTS;case ae.PERMISSION_DENIED:return zt.PERMISSION_DENIED;case ae.FAILED_PRECONDITION:return zt.FAILED_PRECONDITION;case ae.ABORTED:return zt.ABORTED;case ae.OUT_OF_RANGE:return zt.OUT_OF_RANGE;case ae.UNIMPLEMENTED:return zt.UNIMPLEMENTED;case ae.DATA_LOSS:return zt.DATA_LOSS;default:return Xn()}}(xe=ae||(ae={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";class Yn{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[l,m]of o)if(this.equalsFn(l,e))return m}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,n]],void this.innerSize++;for(let m=0;m<l.length;m++)if(this.equalsFn(l[m][0],e))return void(l[m]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[n]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,(n,o)=>{for(const[l,m]of o)e(l,m)})}isEmpty(){return jo(this.inner)}size(){return this.innerSize}}class nr{constructor(e,n){this.comparator=e,this.root=n||li.EMPTY}insert(e,n){return new nr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return n+o.left.size;l<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qr(this.root,e,this.comparator,!0)}}class Qr{constructor(e,n,o,l){this.isReverse=l,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=n?o(e.key,n):1,n&&l&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class li{constructor(e,n,o,l,m){this.key=e,this.value=n,this.color=null!=o?o:li.RED,this.left=null!=l?l:li.EMPTY,this.right=null!=m?m:li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,l,m){return new li(null!=e?e:this.key,null!=n?n:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let l=this;const m=o(e,l.key);return l=m<0?l.copy(null,null,null,l.left.insert(e,n,o),null):0===m?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return li.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xn();const e=this.left.check();if(e!==this.right.check())throw Xn();return e+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1,li.EMPTY=new class{constructor(){this.size=0}get key(){throw Xn()}get value(){throw Xn()}get color(){throw Xn()}get left(){throw Xn()}get right(){throw Xn()}copy(i,e,n,o,l){return this}insert(i,e,n){return new li(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Si{constructor(e){this.comparator=e,this.data=new nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zo(this.data.getIterator())}getIteratorFrom(e){return new zo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Si)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,m=o.getNext().key;if(0!==this.comparator(l,m))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Si(this.comparator);return n.data=e,n}}class zo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ga(i){return i.hasNext()?i.getNext():void 0}const Jl=new nr(Wn.comparator);function ro(){return Jl}const Ic=new nr(Wn.comparator);function Ll(){return Ic}function xa(){return new Yn(i=>i.toString(),(i,e)=>i.isEqual(e))}const bu=new nr(Wn.comparator),Tc=new Si(Wn.comparator);function Fi(...i){let e=Tc;for(const n of i)e=e.add(n);return e}const wu=new Si(Fn);function eu(){return wu}class _a{constructor(e,n,o,l,m){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,gl.createSynthesizedTargetChangeForCurrentChange(e,n)),new _a(ar.min(),o,eu(),ro(),Fi())}}class gl{constructor(e,n,o,l,m){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,n){return new gl(ls.EMPTY_BYTE_STRING,n,Fi(),Fi(),Fi())}}class tu{constructor(e,n,o,l){this.O=e,this.removedTargetIds=n,this.key=o,this.F=l}}class Xc{constructor(e,n){this.targetId=e,this.$=n}}class Ai{constructor(e,n,o=ls.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=l}}class tc{constructor(){this.B=0,this.L=sa(),this.U=ls.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Fi(),n=Fi(),o=Fi();return this.L.forEach((l,m)=>{switch(m){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:o=o.add(l);break;default:Xn()}}),new gl(this.U,this.q,e,n,o)}J(){this.K=!1,this.L=sa()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Vl{constructor(e){this.nt=e,this.st=new Map,this.it=ro(),this.rt=nu(),this.ot=new Si(Fn)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const o=this.lt(n);switch(e.state){case 0:this.ft(n)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(n);break;case 3:this.ft(n)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),o.W(e.resumeToken));break;default:Xn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((o,l)=>{this.ft(l)&&n(l)})}_t(e){const n=e.targetId,o=e.$.count,l=this.wt(n);if(l){const m=l.target;if(na(m))if(0===o){const b=new Wn(m.path);this.ct(n,b,Qi.newNoDocument(b,ar.min()))}else Cr(1===o);else this.gt(n)!==o&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((m,b)=>{const P=this.wt(b);if(P){if(m.current&&na(P.target)){const te=new Wn(P.target.path);null!==this.it.get(te)||this.It(b,te)||this.ct(b,te,Qi.newNoDocument(te,e))}m.j&&(n.set(b,m.H()),m.J())}});let o=Fi();this.rt.forEach((m,b)=>{let P=!0;b.forEachWhile(te=>{const pe=this.wt(te);return!pe||2===pe.purpose||(P=!1,!1)}),P&&(o=o.add(m))}),this.it.forEach((m,b)=>b.setReadTime(e));const l=new _a(e,n,this.ot,this.it,o);return this.it=ro(),this.rt=nu(),this.ot=new Si(Fn),l}at(e,n){if(!this.ft(e))return;const o=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,o),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,o){if(!this.ft(e))return;const l=this.lt(e);this.It(e,n)?l.Y(n,1):l.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),o&&(this.it=this.it.insert(n,o))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new tc,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Si(Fn),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||yn("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new tc),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function nu(){return new nr(Wn.comparator)}function sa(){return new nr(Wn.comparator)}const ru={asc:"ASCENDING",desc:"DESCENDING"},Kd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class uf{constructor(e,n){this.databaseId=e,this.N=n}}function ja(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cf(i,e){return i.N?e.toBase64():e.toUint8Array()}function zp(i,e){return ja(i,e.toTimestamp())}function To(i){return Cr(!!i),ar.fromTimestamp(function(e){const n=to(e);return new xr(n.seconds,n.nanos)}(i))}function _l(i,e){return(n=i,new vi(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Fo(i){const e=vi.fromString(i);return Cr(Qd(e)),e}function iu(i,e){return _l(i.databaseId,e.path)}function $a(i,e){const n=Fo(e);if(n.get(1)!==i.databaseId.projectId)throw new Dn(zt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Dn(zt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Wn(Bl(n))}function Sc(i,e){return _l(i.databaseId,e)}function Qs(i){const e=Fo(i);return 4===e.length?vi.emptyPath():Bl(e)}function Ra(i){return new vi(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Bl(i){return Cr(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Jc(i,e,n){return{name:iu(i,e),fields:n.value.mapValue.fields}}function qd(i,e,n){const o=$a(i,e.name),l=To(e.updateTime),m=new Ms({mapValue:{fields:e.fields}}),b=Qi.newFoundDocument(o,l,m);return n&&b.setHasCommittedMutations(),n?b.setHasCommittedMutations():b}function Cu(i,e){let n;if(e instanceof ml)n={update:Jc(i,e.key,e.value)};else if(e instanceof g)n={delete:iu(i,e.key)};else if(e instanceof Xa)n={update:Jc(i,e.key,e.data),updateMask:gf(e.fieldMask)};else{if(!(e instanceof y))return Xn();n={verify:iu(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,m){const b=m.transform;if(b instanceof Pl)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Aa)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Ma)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Ya)return{fieldPath:m.field.canonicalString(),increment:b.k};throw Xn()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:zp(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Xn()),n;var l}function ed(i,e){const n=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?Ts.updateTime(To(l.updateTime)):void 0!==l.exists?Ts.exists(l.exists):Ts.none():Ts.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(m,b){let P=null;"setToServerValue"in b?(Cr("REQUEST_TIME"===b.setToServerValue),P=new Pl):"appendMissingElements"in b?P=new Aa(b.appendMissingElements.values||[]):"removeAllFromArray"in b?P=new Ma(b.removeAllFromArray.values||[]):"increment"in b?P=new Ya(m,b.increment):Xn();const te=hs.fromServerFormat(b.fieldPath);return new Ql(te,P)}(i,l)):[];var l;if(e.update){const l=$a(i,e.update.name),m=new Ms({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new bo((e.updateMask.fieldPaths||[]).map(pe=>hs.fromServerFormat(pe)));return new Xa(l,m,b,n,o)}return new ml(l,m,n,o)}if(e.delete){const l=$a(i,e.delete);return new g(l,n)}if(e.verify){const l=$a(i,e.verify);return new y(l,n)}return Xn()}function td(i,e){return{documents:[Sc(i,e.path)]}}function Yd(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Sc(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Sc(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(te){if(0===te.length)return;const pe=te.map(nt=>function(wt){if("=="===wt.op){if(qa(wt.value))return{unaryFilter:{field:Du(wt.field),op:"IS_NAN"}};if(no(wt.value))return{unaryFilter:{field:Du(wt.field),op:"IS_NULL"}}}else if("!="===wt.op){if(qa(wt.value))return{unaryFilter:{field:Du(wt.field),op:"IS_NOT_NAN"}};if(no(wt.value))return{unaryFilter:{field:Du(wt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Du(wt.field),op:ff(wt.op),value:wt.value}}}(nt));return 1===pe.length?pe[0]:{compositeFilter:{op:"AND",filters:pe}}}(e.filters);l&&(n.structuredQuery.where=l);const m=function(te){if(0!==te.length)return te.map(pe=>{return{field:Du((nt=pe).field),direction:rd(nt.dir)};var nt})}(e.orderBy);m&&(n.structuredQuery.orderBy=m);const b=(pe=e.limit,i.N||qi(pe)?pe:{value:pe});var pe,P,te;return null!==b&&(n.structuredQuery.limit=b),e.startAt&&(n.structuredQuery.startAt={before:(P=e.startAt).inclusive,values:P.position}),e.endAt&&(n.structuredQuery.endAt={before:!(te=e.endAt).inclusive,values:te.position}),n}function Ac(i){let e=Qs(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let l=null;if(o>0){Cr(1===o);const nt=n.from[0];nt.allDescendants?l=nt.collectionId:e=e.child(nt.collectionId)}let m=[];n.where&&(m=nd(n.where));let b=[];n.orderBy&&(b=n.orderBy.map(nt=>{return new Is(yl((wt=nt).field),function(qt){switch(qt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(wt.direction));var wt}));let P=null;n.limit&&(P=function(nt){let wt;return wt="object"==typeof nt?nt.value:nt,qi(wt)?null:wt}(n.limit));let te=null;var nt;n.startAt&&(te=new Sr((nt=n.startAt).values||[],!!nt.before));let pe=null;return n.endAt&&(pe=function(nt){return new Sr(nt.values||[],!nt.before)}(n.endAt)),Wo(e,l,b,m,P,"F",te,pe)}function nd(i){return i?void 0!==i.unaryFilter?[mf(i)]:void 0!==i.fieldFilter?[pf(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>nd(e)).reduce((e,n)=>e.concat(n)):Xn():[]}function rd(i){return ru[i]}function ff(i){return Kd[i]}function Du(i){return{fieldPath:i.canonicalString()}}function yl(i){return hs.fromServerFormat(i.fieldPath)}function pf(i){return ce.create(yl(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xn()}}(i.fieldFilter.op),i.fieldFilter.value)}function mf(i){switch(i.unaryFilter.op){case"IS_NAN":const e=yl(i.unaryFilter.field);return ce.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=yl(i.unaryFilter.field);return ce.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=yl(i.unaryFilter.field);return ce.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=yl(i.unaryFilter.field);return ce.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Xn()}}function gf(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Qd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Go(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Jd(e)),e=Xd(i.get(n),e);return Jd(e)}function Xd(i,e){let n=e;const o=i.length;for(let l=0;l<o;l++){const m=i.charAt(l);switch(m){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=m}}return n}function Jd(i){return i+"\x01\x01"}function Ja(i){const e=i.length;if(Cr(e>=2),2===e)return Cr("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),vi.emptyPath();const n=e-2,o=[];let l="";for(let m=0;m<e;){const b=i.indexOf("\x01",m);switch((b<0||b>n)&&Xn(),i.charAt(b+1)){case"\x01":const P=i.substring(m,b);let te;0===l.length?te=P:(l+=P,te=l,l=""),o.push(te);break;case"\x10":l+=i.substring(m,b),l+="\0";break;case"\x11":l+=i.substring(m,b+1);break;default:Xn()}m=b+2}return new vi(o)}const eh=["userId","batchId"];function Mc(i,e){return[i,Go(e)]}function th(i,e,n){return[i,Go(e),n]}const _f={},yf=["prefixPath","collectionGroup","readTime","documentId"],vf=["prefixPath","collectionGroup","documentId"],Iu=["collectionGroup","readTime","prefixPath","documentId"],ka=["canonicalId","targetId"],Ef=["targetId","path"],Gp=["path","targetId"],id=["collectionId","parent"],Kp=["indexId","uid"],el=["uid","sequenceNumber"],sd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],od=["indexId","uid","orderedDocumentKey"],bf=["userId","collectionPath","documentId"],nh=["userId","collectionPath","largestBatchId"],nc=["userId","collectionGroup","largestBatchId"],ad=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rh=[...ad,"documentOverlays"],xc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ld=[...xc,"indexConfiguration","indexState","indexEntries"],ud="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class en{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new en((o,l)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(o,l)},this.catchCallback=m=>{this.wrapFailure(n,m).next(o,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof en?n:en.resolve(n)}catch(n){return en.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):en.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):en.reject(n)}static resolve(e){return new en((n,o)=>{n(e)})}static reject(e){return new en((n,o)=>{o(e)})}static waitFor(e){return new en((n,o)=>{let l=0,m=0,b=!1;e.forEach(P=>{++l,P.next(()=>{++m,b&&m===l&&n()},te=>o(te))}),b=!0,m===l&&n()})}static or(e){let n=en.resolve(!1);for(const o of e)n=n.next(l=>l?en.resolve(l):o());return n}static forEach(e,n){const o=[];return e.forEach((l,m)=>{o.push(n.call(this,l,m))}),this.waitFor(o)}}class Tu{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.At=new Ui,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{n.error?this.At.reject(new f(e,n.error)):this.At.resolve()},this.transaction.onerror=o=>{const l=H(o.target.error);this.At.reject(new f(e,l))}}static open(e,n,o,l){try{return new Tu(n,e.transaction(l,o))}catch(m){throw new f(n,m)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(yn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new d(n)}}class Wa{constructor(e,n,o){this.name=e,this.version=n,this.bt=o,12.2===Wa.Vt((0,Ce.z$)())&&ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return yn("SimpleDb","Removing database:",e),_(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Ce.hl)())return!1;if(Wa.St())return!0;const e=(0,Ce.z$)(),n=Wa.Vt(e),o=0<n&&n<10,l=Wa.Dt(e),m=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||m)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,n){return e.store(n)}static Vt(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var n=this;return(0,u.Z)(function*(){return n.db||(yn("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,l)=>{const m=indexedDB.open(n.name,n.version);m.onsuccess=b=>{o(b.target.result)},m.onblocked=()=>{l(new f(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=b=>{const P=b.target.error;l("VersionError"===P.name?new Dn(zt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new Dn(zt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new f(e,P))},m.onupgradeneeded=b=>{yn("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',b.oldVersion),n.bt.kt(b.target.result,m.transaction,b.oldVersion,n.version).next(()=>{yn("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Mt&&(n.db.onversionchange=o=>n.Mt(o)),n.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,l){var m=this;return(0,u.Z)(function*(){const b="readonly"===n;let P=0;for(;;){++P;try{m.db=yield m.Nt(e);const te=Tu.open(m.db,e,b?"readonly":"readwrite",o),pe=l(te).next(nt=>(te.Pt(),nt)).catch(nt=>(te.abort(nt),en.reject(nt))).toPromise();return pe.catch(()=>{}),yield te.Rt,pe}catch(te){const pe="FirebaseError"!==te.name&&P<3;if(yn("SimpleDb","Transaction failed with error:",te.message,"Retrying:",pe),m.close(),!pe)return Promise.reject(te)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class qp{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return _(this.Ft.delete())}}class f extends Dn{constructor(e,n){super(zt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function c(i){return"IndexedDbTransactionError"===i.name}class d{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(yn("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(yn("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),_(o)}add(e){return yn("SimpleDb","ADD",this.store.name,e,e),_(this.store.add(e))}get(e){return _(this.store.get(e)).next(n=>(void 0===n&&(n=null),yn("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return yn("SimpleDb","DELETE",this.store.name,e),_(this.store.delete(e))}count(){return yn("SimpleDb","COUNT",this.store.name),_(this.store.count())}qt(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),m=[];return this.Kt(l,(b,P)=>{m.push(P)}).next(()=>m)}{const l=this.store.getAll(o.range);return new en((m,b)=>{l.onerror=P=>{b(P.target.error)},l.onsuccess=P=>{m(P.target.result)}})}}Gt(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new en((l,m)=>{o.onerror=b=>{m(b.target.error)},o.onsuccess=b=>{l(b.target.result)}})}Qt(e,n){yn("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.jt=!1;const l=this.cursor(o);return this.Kt(l,(m,b,P)=>P.delete())}Wt(e,n){let o;n?o=e:(o={},n=e);const l=this.cursor(o);return this.Kt(l,n)}zt(e){const n=this.cursor({});return new en((o,l)=>{n.onerror=m=>{const b=H(m.target.error);l(b)},n.onsuccess=m=>{const b=m.target.result;b?e(b.primaryKey,b.value).next(P=>{P?b.continue():o()}):o()}})}Kt(e,n){const o=[];return new en((l,m)=>{e.onerror=b=>{m(b.target.error)},e.onsuccess=b=>{const P=b.target.result;if(!P)return void l();const te=new qp(P),pe=n(P.primaryKey,P.value,te);if(pe instanceof en){const nt=pe.catch(wt=>(te.done(),en.reject(wt)));o.push(nt)}te.isDone?l():null===te.Lt?P.continue():P.continue(te.Lt)}}).next(()=>en.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function _(i){return new en((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=H(o.target.error);n(l)}})}let T=!1;function H(i){const e=Wa.Vt((0,Ce.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new Dn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return T||(T=!0,setTimeout(()=>{throw o},0)),o}}return i}class Y extends wf{constructor(e,n){super(),this.Ht=e,this.currentSequenceNumber=n}}function Ie(i,e){const n=An(i);return Wa.xt(n.Ht,e)}class qe{constructor(e,n,o,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const m=this.mutations[l];m.key.isEqual(e.key)&&Xu(m,e,o[l])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&Xl(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&Xl(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const o=e.get(n.key),l=o;this.applyToLocalView(l),o.isValidDocument()||l.convertToNoDocument(ar.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Fi())}isEqual(e){return this.batchId===e.batchId&&ir(this.mutations,e.mutations,(n,o)=>Fl(n,o))&&ir(this.baseMutations,e.baseMutations,(n,o)=>Fl(n,o))}}class ft{constructor(e,n,o,l){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=l}static from(e,n,o){Cr(e.mutations.length===o.length);let l=bu;const m=e.mutations;for(let b=0;b<m.length;b++)l=l.insert(m[b].key,o[b].version);return new ft(e,n,o,l)}}class Yt{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $t{constructor(e,n,o,l,m=ar.min(),b=ar.min(),P=ls.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=P}withSequenceNumber(e){return new $t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new $t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class gn{constructor(e){this.Jt=e}}function Br(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ii(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:iu(l=i.Jt,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:ja(l,m.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:Os(e.version)};else{if(!e.isUnknownDocument())return Xn();o.unknownDocument={path:n.path.toArray(),version:Os(e.version)}}var l,m;return o}function Ii(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Os(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function tl(i){const e=new xr(i.seconds,i.nanoseconds);return ar.fromTimestamp(e)}function vl(i,e){const n=(e.baseMutations||[]).map(m=>ed(i.Jt,m));for(let m=0;m<e.mutations.length-1;++m){const b=e.mutations[m];m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(b.updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m)}const o=e.mutations.map(m=>ed(i.Jt,m)),l=xr.fromMillis(e.localWriteTimeMs);return new qe(e.batchId,l,n,o)}function nl(i){const e=tl(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?tl(i.lastLimboFreeSnapshotVersion):ar.min();let o;var l;return void 0!==i.query.documents?(Cr(1===(l=i.query).documents.length),o=Po(Ys(Qs(l.documents[0])))):o=Po(Ac(i.query)),new $t(o,i.targetId,0,i.lastListenSequenceNumber,e,n,ls.fromBase64String(i.resumeToken))}function ih(i,e){const n=Os(e.snapshotVersion),o=Os(e.lastLimboFreeSnapshotVersion);let l;l=na(e.target)?td(i.Jt,e.target):Yd(i.Jt,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ea(e.target),readTime:n,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function sh(i){const e=Ac({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?dl(e,e.limit,"L"):e}function oh(i,e){return new Yt(e.largestBatchId,ed(i.Jt,e.overlayMutation))}function Cf(i,e){const n=e.path.lastSegment();return[i,Go(e.path.popLast()),n]}class Df{getBundleMetadata(e,n){return If(e).get(n).next(o=>{if(o)return{id:(l=o).bundleId,createTime:tl(l.createTime),version:l.version};var l})}saveBundleMetadata(e,n){return If(e).put({bundleId:(o=n).id,createTime:Os(To(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return cd(e).get(n).next(o=>{if(o)return{name:(l=o).name,query:sh(l.bundledQuery),readTime:tl(l.readTime)};var l})}saveNamedQuery(e,n){return cd(e).put({name:(o=n).name,readTime:Os(To(o.readTime)),bundledQuery:o.bundledQuery});var o}}function If(i){return Ie(i,"bundles")}function cd(i){return Ie(i,"namedQueries")}class Rc{constructor(e,n){this.M=e,this.userId=n}static Yt(e,n){return new Rc(e,n.uid||"")}getOverlay(e,n){return Oc(e).get(Cf(this.userId,n)).next(o=>o?oh(this.M,o):null)}saveOverlays(e,n,o){const l=[];return o.forEach((m,b)=>{const P=new Yt(n,b);l.push(this.Xt(e,P))}),en.waitFor(l)}removeOverlaysForBatchId(e,n,o){const l=new Set;n.forEach(b=>l.add(Go(b.getCollectionPath())));const m=[];return l.forEach(b=>{const P=IDBKeyRange.bound([this.userId,b,o],[this.userId,b,o+1],!1,!0);m.push(Oc(e).Qt("collectionPathOverlayIndex",P))}),en.waitFor(m)}getOverlaysForCollection(e,n,o){const l=xa(),m=Go(n),b=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Oc(e).qt("collectionPathOverlayIndex",b).next(P=>{for(const te of P){const pe=oh(this.M,te);l.set(pe.getKey(),pe)}return l})}getOverlaysForCollectionGroup(e,n,o,l){const m=xa();let b;const P=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Oc(e).Wt({index:"collectionGroupOverlayIndex",range:P},(te,pe,nt)=>{const wt=oh(this.M,pe);m.size()<l||wt.largestBatchId===b?(m.set(wt.getKey(),wt),b=wt.largestBatchId):nt.done()}).next(()=>m)}Xt(e,n){return Oc(e).put(function(o,l,m){const[b,P,te]=Cf(l,m.mutation.key);return{userId:l,collectionPath:P,documentId:te,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:Cu(o.Jt,m.mutation)}}(this.M,this.userId,n))}}function Oc(i){return Ie(i,"documentOverlays")}class su{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(Pi(e.integerValue));else if("doubleValue"in e){const o=Pi(e.doubleValue);isNaN(o)?this.ne(n,13):(this.ne(n,15),Va(o)?n.se(0):n.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(n,20),"string"==typeof o?n.ie(o):(n.ie(`${o.seconds||""}`),n.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(ho(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(n,45),n.se(o.latitude||0),n.se(o.longitude||0)}else"mapValue"in e?Ca(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):Xn()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const o=e.fields||{};this.ne(n,55);for(const l of Object.keys(o))this.re(l,n),this.te(o[l],n)}he(e,n){const o=e.values||[];this.ne(n,50);for(const l of o)this.te(l,n)}ae(e,n){this.ne(n,37),Wn.fromName(e).path.forEach(o=>{this.ne(n,60),this.le(o,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}function Zp(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function ah(i){const e=64-function(n){let o=0;for(let l=0;l<8;++l){const m=Zp(255&n[l]);if(o+=m,8!==m)break}return o}(i);return Math.ceil(e/8)}su.fe=new su;class dd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this._e(o.value),o=n.next();this.we()}me(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.ge(o.value),o=n.next();this.ye()}pe(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(n<"\ud800"||"\udbff"<n)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const l=n.codePointAt(0);this._e(240|l>>>18),this._e(128|63&l>>>12),this._e(128|63&l>>>6),this._e(128|63&l)}}this.we()}Ie(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const l=n.codePointAt(0);this.ge(240|l>>>18),this.ge(128|63&l>>>12),this.ge(128|63&l>>>6),this.ge(128|63&l)}}this.ye()}Te(e){const n=this.Ee(e),o=ah(n);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=255&n[l]}Re(e){const n=this.Ee(e),o=ah(n);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const n=function(l){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,l,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let l=1;l<n.length;++l)n[l]^=o?255:0;return n}_e(e){const n=255&e;0===n?(this.be(0),this.be(255)):255===n?(this.be(255),this.be(0)):this.be(n)}ge(e){const n=255&e;0===n?(this.ve(0),this.ve(255)):255===n?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class Vg{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class Yp{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class hd{constructor(){this.De=new dd,this.Ce=new Vg(this.De),this.xe=new Yp(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Su{constructor(e,n,o,l){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=l}ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Su(this.indexId,this.documentKey,this.arrayValue,o)}}function Au(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=lh(i.arrayValue,e.arrayValue),0!==n?n:(n=lh(i.directionalValue,e.directionalValue),0!==n?n:Wn.comparator(i.documentKey,e.documentKey)))}function lh(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class Qp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const n of e.filters){const o=n;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const n=Eu(e);if(void 0!==n&&!this.Be(n))return!1;const o=Qo(e);let l=0,m=0;for(;l<o.length&&this.Be(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Fe){const b=o[l];if(!this.Le(this.Fe,b)||!this.Ue(this.Me[m++],b))return!1;++l}for(;l<o.length;++l){const b=o[l];if(m>=this.Me.length||!this.Ue(this.Me[m++],b))return!1}return!0}Be(e){for(const n of this.Oe)if(this.Le(n,e))return!0;return!1}Le(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class Vy{constructor(){this.qe=new uh}addToCollectionParentIndex(e,n){return this.qe.add(n),en.resolve()}getCollectionParents(e,n){return en.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return en.resolve()}deleteFieldIndex(e,n){return en.resolve()}getDocumentsMatchingTarget(e,n){return en.resolve(null)}getFieldIndex(e,n){return en.resolve(null)}getFieldIndexes(e,n){return en.resolve([])}getNextCollectionGroupToUpdate(e){return en.resolve(null)}updateCollectionGroup(e,n,o){return en.resolve()}updateIndexEntries(e,n){return en.resolve()}}class uh{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n]||new Si(vi.comparator),m=!l.has(o);return this.index[n]=l.add(o),m}has(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n];return l&&l.has(o)}getEntries(e){return(this.index[e]||new Si(vi.comparator)).toArray()}}const kc=new Uint8Array(0);class Xp{constructor(e,n){this.user=e,this.databaseId=n,this.Ke=new uh,this.Ge=new Yn(o=>ea(o),(o,l)=>fa(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ke.has(n)){const o=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this.Ke.add(n)});const m={collectionId:o,parent:Go(l)};return Jp(e).put(m)}return en.resolve()}getCollectionParents(e,n){const o=[],l=IDBKeyRange.bound([n,""],[yi(n),""],!1,!0);return Jp(e).qt(l).next(m=>{for(const b of m){if(b.collectionId!==n)break;o.push(Ja(b.parent))}return o})}addFieldIndex(e,n){const o=Na(e),l={indexId:(m=n).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(b=>[b.fieldPath.canonicalString(),b.kind])};var m;return delete l.indexId,o.add(l).next()}deleteFieldIndex(e,n){const o=Na(e),l=ch(e),m=fd(e);return o.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=fd(e);let l=!0;const m=new Map;return en.forEach(this.Qe(n),b=>this.getFieldIndex(e,b).next(P=>{l&&(l=!!P),m.set(b,P)})).next(()=>{if(l){let b=Fi();const P=[];return en.forEach(m,(te,pe)=>{var nt;yn("IndexedDbIndexManager",`Using index ${nt=te,`id=${nt.indexId}|cg=${nt.collectionGroup}|f=${nt.fields.map(zs=>`${zs.fieldPath}:${zs.kind}`).join(",")}`} to execute ${ea(n)}`);const wt=function(zs,oa){const _o=Eu(oa);if(void 0===_o)return null;for(const Xs of ll(zs,_o.fieldPath))switch(Xs.op){case"array-contains-any":return Xs.value.arrayValue.values||[];case"array-contains":return[Xs.value]}return null}(pe,te),qt=function(zs,oa){const _o=new Map;for(const Xs of Qo(oa))for(const va of ll(zs,Xs.fieldPath))switch(va.op){case"==":case"in":_o.set(Xs.fieldPath.canonicalString(),va.value);break;case"not-in":case"!=":return _o.set(Xs.fieldPath.canonicalString(),va.value),Array.from(_o.values())}return null}(pe,te),In=function(zs,oa){const _o=[];let Xs=!0;for(const va of Qo(oa)){const Wu=0===va.kind?V(zs,va.fieldPath,zs.startAt):q(zs,va.fieldPath,zs.startAt);if(!Wu.value)return null;_o.push(Wu.value),Xs&&(Xs=Wu.inclusive)}return new Sr(_o,Xs)}(pe,te),Sn=function(zs,oa){const _o=[];let Xs=!0;for(const va of Qo(oa)){const Wu=0===va.kind?q(zs,va.fieldPath,zs.endAt):V(zs,va.fieldPath,zs.endAt);if(!Wu.value)return null;_o.push(Wu.value),Xs&&(Xs=Wu.inclusive)}return new Sr(_o,Xs)}(pe,te),yr=this.je(te,pe,In),hi=this.je(te,pe,Sn),Ws=this.We(te,pe,qt),go=this.ze(te.indexId,wt,yr,!!In&&In.inclusive,hi,!!Sn&&Sn.inclusive,Ws);return en.forEach(go,zs=>o.Gt(zs,n.limit).next(oa=>{oa.forEach(_o=>{const Xs=Wn.fromSegments(_o.documentKey);b.has(Xs)||(b=b.add(Xs),P.push(Xs))})}))}).next(()=>P)}return en.resolve(null)})}Qe(e){let n=this.Ge.get(e);return n||(n=[e],this.Ge.set(e,n),n)}ze(e,n,o,l,m,b,P){const te=(null!=n?n.length:1)*Math.max(null!=o?o.length:1,null!=m?m.length:1),pe=te/(null!=n?n.length:1),nt=[];for(let wt=0;wt<te;++wt){const qt=n?this.He(n[wt/pe]):kc,In=o?this.Je(e,qt,o[wt%pe],l):this.Ye(e),Sn=m?this.Xe(e,qt,m[wt%pe],b):this.Ye(e+1);nt.push(...this.createRange(In,Sn,P.map(yr=>this.Je(e,qt,yr,!0))))}return nt}Je(e,n,o,l){const m=new Su(e,Wn.empty(),n,o);return l?m:m.ke()}Xe(e,n,o,l){const m=new Su(e,Wn.empty(),n,o);return l?m.ke():m}Ye(e){return new Su(e,Wn.empty(),kc,kc)}getFieldIndex(e,n){const o=new Qp(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(m=>{const b=m.filter(P=>o.$e(P));return b.sort((P,te)=>te.fields.length-P.fields.length),b.length>0?b[0]:null})}Ze(e,n){const o=new hd;for(const l of Qo(e)){const m=n.data.field(l.fieldPath);if(null==m)return null;const b=o.Ne(l.kind);su.fe.Zt(m,b)}return o.Se()}He(e){const n=new hd;return su.fe.Zt(e,n.Ne(0)),n.Se()}tn(e,n){const o=new hd;return su.fe.Zt(ca(this.databaseId,n),o.Ne(function(l){const m=Qo(l);return 0===m.length?0:m[m.length-1].kind}(e))),o.Se()}We(e,n,o){if(null===o)return[];let l=[];l.push(new hd);let m=0;for(const b of Qo(e)){const P=o[m++];for(const te of l)if(this.en(n,b.fieldPath)&&Ds(P))l=this.nn(l,b,P);else{const pe=te.Ne(b.kind);su.fe.Zt(P,pe)}}return this.sn(l)}je(e,n,o){return null==o?null:this.We(e,n,o.position)}sn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Se();return n}nn(e,n,o){const l=[...e],m=[];for(const b of o.arrayValue.values||[])for(const P of l){const te=new hd;te.seed(P.Se()),su.fe.Zt(b,te.Ne(n.kind)),m.push(te)}return m}en(e,n){return!!e.filters.find(o=>o instanceof ce&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=Na(e),l=ch(e);return(n?o.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.qt()).next(m=>{const b=[];return en.forEach(m,P=>l.get([P.indexId,this.uid]).next(te=>{b.push(function(pe,nt){const wt=nt?new $o(nt.sequenceNumber,new Ns(tl(nt.readTime),new Wn(Ja(nt.documentKey)),nt.largestBatchId)):$o.empty(),qt=pe.fields.map(([In,Sn])=>new Xo(hs.fromServerFormat(In),Sn));return new No(pe.indexId,pe.collectionGroup,qt,wt)}(P,te))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,l)=>{const m=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==m?m:Fn(o.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const l=Na(e),m=ch(e);return this.rn(e).next(b=>l.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(P=>en.forEach(P,te=>{return m.put({indexId:te.indexId,uid:this.user.uid||"",sequenceNumber:b,readTime:Os((qt=o).readTime),documentKey:Go(qt.documentKey.path),largestBatchId:qt.largestBatchId});var qt})))}updateIndexEntries(e,n){const o=new Map;return en.forEach(n,(l,m)=>{const b=o.get(l.collectionGroup);return(b?en.resolve(b):this.getFieldIndexes(e,l.collectionGroup)).next(P=>(o.set(l.collectionGroup,P),en.forEach(P,te=>this.on(e,l,te).next(pe=>{const nt=this.un(m,te);return pe.isEqual(nt)?en.resolve():this.an(e,m,te,pe,nt)}))))})}cn(e,n,o,l){return fd(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.tn(o,n.key),documentKey:n.key.path.toArray()})}hn(e,n,o,l){return fd(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.tn(o,n.key),n.key.path.toArray()])}on(e,n,o){const l=fd(e);let m=new Si(Au);return l.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,n)])},(b,P)=>{m=m.add(new Su(o.indexId,n,P.arrayValue,P.directionalValue))}).next(()=>m)}un(e,n){let o=new Si(Au);const l=this.Ze(n,e);if(null==l)return o;const m=Eu(n);if(null!=m){const b=e.data.field(m.fieldPath);if(Ds(b))for(const P of b.arrayValue.values||[])o=o.add(new Su(n.indexId,e.key,this.He(P),l))}else o=o.add(new Su(n.indexId,e.key,kc,l));return o}an(e,n,o,l,m){yn("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const b=[];return function(P,te,pe,nt,wt){const qt=P.getIterator(),In=te.getIterator();let Sn=ga(qt),yr=ga(In);for(;Sn||yr;){let hi=!1,Ws=!1;if(Sn&&yr){const go=pe(Sn,yr);go<0?Ws=!0:go>0&&(hi=!0)}else null!=Sn?Ws=!0:hi=!0;hi?(nt(yr),yr=ga(In)):Ws?(wt(Sn),Sn=ga(qt)):(Sn=ga(qt),yr=ga(In))}}(l,m,Au,P=>{b.push(this.cn(e,n,o,P))},P=>{b.push(this.hn(e,n,o,P))}),en.waitFor(b)}rn(e){let n=1;return ch(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,m)=>{m.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((b,P)=>Au(b,P)).filter((b,P,te)=>!P||0!==Au(b,te[P-1]));const l=[];l.push(e);for(const b of o){const P=Au(b,e),te=Au(b,n);if(0===P)l[0]=e.ke();else if(P>0&&te<0)l.push(b),l.push(b.ke());else if(te>0)break}l.push(n);const m=[];for(let b=0;b<l.length;b+=2)m.push(IDBKeyRange.bound([l[b].indexId,this.uid,l[b].arrayValue,l[b].directionalValue,kc,[]],[l[b+1].indexId,this.uid,l[b+1].arrayValue,l[b+1].directionalValue,kc,[]]));return m}}function Jp(i){return Ie(i,"collectionParents")}function fd(i){return Ie(i,"indexEntries")}function Na(i){return Ie(i,"indexConfiguration")}function ch(i){return Ie(i,"indexState")}const Tf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pa{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Pa(e,Pa.DEFAULT_COLLECTION_PERCENTILE,Pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function em(i,e,n){const o=i.store("mutations"),l=i.store("documentMutations"),m=[],b=IDBKeyRange.only(n.batchId);let P=0;const te=o.Wt({range:b},(nt,wt,qt)=>(P++,qt.delete()));m.push(te.next(()=>{Cr(1===P)}));const pe=[];for(const nt of n.mutations){const wt=th(e,nt.key.path,n.batchId);m.push(l.delete(wt)),pe.push(nt.key)}return en.waitFor(m).next(()=>pe)}function dh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Xn();e=i.noDocument}return JSON.stringify(e).length}Pa.DEFAULT_COLLECTION_PERCENTILE=10,Pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pa.DEFAULT=new Pa(41943040,Pa.DEFAULT_COLLECTION_PERCENTILE,Pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pa.DISABLED=new Pa(-1,0,0);class Sf{constructor(e,n,o,l){this.userId=e,this.M=n,this.indexManager=o,this.referenceDelegate=l,this.ln={}}static Yt(e,n,o,l){Cr(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Sf(m,n,o,l)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mu(e).Wt({index:"userMutationsIndex",range:o},(l,m,b)=>{n=!1,b.done()}).next(()=>n)}addMutationBatch(e,n,o,l){const m=Nc(e),b=Mu(e);return b.add({}).next(P=>{Cr("number"==typeof P);const te=new qe(P,n,o,l),pe=function(qt,In,Sn){const yr=Sn.baseMutations.map(Ws=>Cu(qt.Jt,Ws)),hi=Sn.mutations.map(Ws=>Cu(qt.Jt,Ws));return{userId:In,batchId:Sn.batchId,localWriteTimeMs:Sn.localWriteTime.toMillis(),baseMutations:yr,mutations:hi}}(this.M,this.userId,te),nt=[];let wt=new Si((qt,In)=>Fn(qt.canonicalString(),In.canonicalString()));for(const qt of l){const In=th(this.userId,qt.key.path,P);wt=wt.add(qt.key.path.popLast()),nt.push(b.put(pe)),nt.push(m.put(In,_f))}return wt.forEach(qt=>{nt.push(this.indexManager.addToCollectionParentIndex(e,qt))}),e.addOnCommittedListener(()=>{this.ln[P]=te.keys()}),en.waitFor(nt).next(()=>te)})}lookupMutationBatch(e,n){return Mu(e).get(n).next(o=>o?(Cr(o.userId===this.userId),vl(this.M,o)):null)}fn(e,n){return this.ln[n]?en.resolve(this.ln[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const l=o.keys();return this.ln[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,l=IDBKeyRange.lowerBound([this.userId,o]);let m=null;return Mu(e).Wt({index:"userMutationsIndex",range:l},(b,P,te)=>{P.userId===this.userId&&(Cr(P.batchId>=o),m=vl(this.M,P)),te.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Mu(e).Wt({index:"userMutationsIndex",range:n,reverse:!0},(l,m,b)=>{o=m.batchId,b.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mu(e).qt("userMutationsIndex",n).next(o=>o.map(l=>vl(this.M,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=Mc(this.userId,n.path),l=IDBKeyRange.lowerBound(o),m=[];return Nc(e).Wt({range:l},(b,P,te)=>{const[pe,nt,wt]=b,qt=Ja(nt);if(pe===this.userId&&n.path.isEqual(qt))return Mu(e).get(wt).next(In=>{if(!In)throw Xn();Cr(In.userId===this.userId),m.push(vl(this.M,In))});te.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Si(Fn);const l=[];return n.forEach(m=>{const b=Mc(this.userId,m.path),P=IDBKeyRange.lowerBound(b),te=Nc(e).Wt({range:P},(pe,nt,wt)=>{const[qt,In,Sn]=pe,yr=Ja(In);qt===this.userId&&m.path.isEqual(yr)?o=o.add(Sn):wt.done()});l.push(te)}),en.waitFor(l).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1,m=Mc(this.userId,o),b=IDBKeyRange.lowerBound(m);let P=new Si(Fn);return Nc(e).Wt({range:b},(te,pe,nt)=>{const[wt,qt,In]=te,Sn=Ja(qt);wt===this.userId&&o.isPrefixOf(Sn)?Sn.length===l&&(P=P.add(In)):nt.done()}).next(()=>this.dn(e,P))}dn(e,n){const o=[],l=[];return n.forEach(m=>{l.push(Mu(e).get(m).next(b=>{if(null===b)throw Xn();Cr(b.userId===this.userId),o.push(vl(this.M,b))}))}),en.waitFor(l).next(()=>o)}removeMutationBatch(e,n){return em(e.Ht,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this._n(n.batchId)}),en.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return en.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return Nc(e).Wt({range:o},(m,b,P)=>{if(m[0]===this.userId){const te=Ja(m[1]);l.push(te)}else P.done()}).next(()=>{Cr(0===l.length)})})}containsKey(e,n){return Af(e,this.userId,n)}wn(e){return tm(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Af(i,e,n){const o=Mc(e,n.path),l=o[1],m=IDBKeyRange.lowerBound(o);let b=!1;return Nc(i).Wt({range:m,jt:!0},(P,te,pe)=>{const[nt,wt,qt]=P;nt===e&&wt===l&&(b=!0),pe.done()}).next(()=>b)}function Mu(i){return Ie(i,"mutations")}function Nc(i){return Ie(i,"documentMutations")}function tm(i){return Ie(i,"mutationQueues")}class Xr{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Xr(0)}static yn(){return new Xr(-1)}}class nm{constructor(e,n){this.referenceDelegate=e,this.M=n}allocateTargetId(e){return this.pn(e).next(n=>{const o=new Xr(n.highestTargetId);return n.highestTargetId=o.next(),this.In(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(n=>ar.fromTimestamp(new xr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.pn(e).next(l=>(l.highestListenSequenceNumber=n,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.In(e,l)))}addTargetData(e,n){return this.Tn(e,n).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(n,o),this.In(e,o))))}updateTargetData(e,n){return this.Tn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>rc(e).delete(n.targetId)).next(()=>this.pn(e)).next(o=>(Cr(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,n,o){let l=0;const m=[];return rc(e).Wt((b,P)=>{const te=nl(P);te.sequenceNumber<=n&&null===o.get(te.targetId)&&(l++,m.push(this.removeTargetData(e,te)))}).next(()=>en.waitFor(m)).next(()=>l)}forEachTarget(e,n){return rc(e).Wt((o,l)=>{const m=nl(l);n(m)})}pn(e){return Mf(e).get("targetGlobalKey").next(n=>(Cr(null!==n),n))}In(e,n){return Mf(e).put("targetGlobalKey",n)}Tn(e,n){return rc(e).put(ih(this.M,n))}En(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=ea(n),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let m=null;return rc(e).Wt({range:l,index:"queryTargetsIndex"},(b,P,te)=>{const pe=nl(P);fa(n,pe.target)&&(m=pe,te.done())}).next(()=>m)}addMatchingKeys(e,n,o){const l=[],m=El(e);return n.forEach(b=>{const P=Go(b.path);l.push(m.put({targetId:o,path:P})),l.push(this.referenceDelegate.addReference(e,o,b))}),en.waitFor(l)}removeMatchingKeys(e,n,o){const l=El(e);return en.forEach(n,m=>{const b=Go(m.path);return en.waitFor([l.delete([o,b]),this.referenceDelegate.removeReference(e,o,m)])})}removeMatchingKeysForTargetId(e,n){const o=El(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),l=El(e);let m=Fi();return l.Wt({range:o,jt:!0},(b,P,te)=>{const pe=Ja(b[1]),nt=new Wn(pe);m=m.add(nt)}).next(()=>m)}containsKey(e,n){const o=Go(n.path),l=IDBKeyRange.bound([o],[yi(o)],!1,!0);let m=0;return El(e).Wt({index:"documentTargetsIndex",jt:!0,range:l},([b,P],te,pe)=>{0!==b&&(m++,pe.done())}).next(()=>m>0)}Et(e,n){return rc(e).get(n).next(o=>o?nl(o):null)}}function rc(i){return Ie(i,"targets")}function Mf(i){return Ie(i,"targetGlobal")}function El(i){return Ie(i,"targetDocuments")}function Ko(i){return hh.apply(this,arguments)}function hh(){return hh=(0,u.Z)(function*(i){if(i.code!==zt.FAILED_PRECONDITION||i.message!==ud)throw i;yn("LocalStore","Unexpectedly lost primary lease")}),hh.apply(this,arguments)}function rm([i,e],[n,o]){const l=Fn(i,n);return 0===l?Fn(e,o):l}class xf{constructor(e){this.An=e,this.buffer=new Si(rm),this.Rn=0}Pn(){return++this.Rn}bn(e){const n=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();rm(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ou{constructor(e,n){this.garbageCollector=e,this.asyncQueue=n,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var n=this;const o=this.Vn?3e5:6e4;yn("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,u.Z)(function*(){n.vn=null,n.Vn=!0;try{yield e.collectGarbage(n.garbageCollector)}catch(l){c(l)?yn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Ko(l)}yield n.Sn(e)}))}}class Rf{constructor(e,n){this.Dn=e,this.params=n}calculateTargetCount(e,n){return this.Dn.Cn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return en.resolve(lt.A);const o=new xf(n);return this.Dn.forEachTarget(e,l=>o.bn(l.sequenceNumber)).next(()=>this.Dn.xn(e,l=>o.bn(l))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.Dn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.Dn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(yn("LruGarbageCollector","Garbage collection skipped; disabled"),en.resolve(Tf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(yn("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tf):this.Nn(e,n))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,n){let o,l,m,b,P,te,pe;const nt=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(wt=>(wt>this.params.maximumSequenceNumbersToCollect?(yn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${wt}`),l=this.params.maximumSequenceNumbersToCollect):l=wt,b=Date.now(),this.nthSequenceNumber(e,l))).next(wt=>(o=wt,P=Date.now(),this.removeTargets(e,o,n))).next(wt=>(m=wt,te=Date.now(),this.removeOrphanedDocuments(e,o))).next(wt=>(pe=Date.now(),Ea()<=z.in.DEBUG&&yn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-nt}ms\n\tDetermined least recently used ${l} in `+(P-b)+`ms\n\tRemoved ${m} targets in `+(te-P)+`ms\n\tRemoved ${wt} documents in `+(pe-te)+`ms\nTotal Duration: ${pe-nt}ms`),en.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:m,documentsRemoved:wt})))}}class im{constructor(e,n){this.db=e,this.garbageCollector=new Rf(this,n)}Cn(e){const n=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(l=>o+l))}kn(e){let n=0;return this.xn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}xn(e,n){return this.Mn(e,(o,l)=>n(l))}addReference(e,n,o){return Pc(e,o)}removeReference(e,n,o){return Pc(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return Pc(e,n)}On(e,n){return function(o,l){let m=!1;return tm(o).zt(b=>Af(o,b,l).next(P=>(P&&(m=!0),en.resolve(!P)))).next(()=>m)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let m=0;return this.Mn(e,(b,P)=>{if(P<=n){const te=this.On(e,b).next(pe=>{if(!pe)return m++,o.getEntry(e,b).next(()=>(o.removeEntry(b,ar.min()),El(e).delete([0,Go(b.path)])))});l.push(te)}}).next(()=>en.waitFor(l)).next(()=>o.apply(e)).next(()=>m)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return Pc(e,n)}Mn(e,n){const o=El(e);let l,m=lt.A;return o.Wt({index:"documentTargetsIndex"},([b,P],{path:te,sequenceNumber:pe})=>{0===b?(m!==lt.A&&n(new Wn(Ja(l)),m),m=pe,l=te):m=lt.A}).next(()=>{m!==lt.A&&n(new Wn(Ja(l)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Pc(i,e){return El(i).put((o=i.currentSequenceNumber,{targetId:0,path:Go(e.path),sequenceNumber:o}));var o}class Bg{constructor(){this.changes=new Yn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?en.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sm{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return Ul(e).put(o)}removeEntry(e,n,o){return Ul(e).delete(function(l,m){const b=l.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],Ii(m),b[b.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.Fn(e,o)))}getEntry(e,n){let o=Qi.newInvalidDocument(n);return Ul(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(ic(n))},(l,m)=>{o=this.$n(n,m)}).next(()=>o)}Bn(e,n){let o={size:0,document:Qi.newInvalidDocument(n)};return Ul(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(ic(n))},(l,m)=>{o={document:this.$n(n,m),size:dh(m)}}).next(()=>o)}getEntries(e,n){let o=ro();return this.Ln(e,n,(l,m)=>{const b=this.$n(l,m);o=o.insert(l,b)}).next(()=>o)}Un(e,n){let o=ro(),l=new nr(Wn.comparator);return this.Ln(e,n,(m,b)=>{const P=this.$n(m,b);o=o.insert(m,P),l=l.insert(m,dh(b))}).next(()=>({documents:o,qn:l}))}Ln(e,n,o){if(n.isEmpty())return en.resolve();let l=new Si(ph);n.forEach(te=>l=l.add(te));const m=IDBKeyRange.bound(ic(l.first()),ic(l.last())),b=l.getIterator();let P=b.getNext();return Ul(e).Wt({index:"documentKeyIndex",range:m},(te,pe,nt)=>{const wt=Wn.fromSegments([...pe.prefixPath,pe.collectionGroup,pe.documentId]);for(;P&&ph(P,wt)<0;)o(P,null),P=b.getNext();P&&P.isEqual(wt)&&(o(P,pe),P=b.hasNext()?b.getNext():null),P?nt.Ut(ic(P)):nt.done()}).next(()=>{for(;P;)o(P,null),P=b.hasNext()?b.getNext():null})}getAllFromCollection(e,n,o){const l=[n.popLast().toArray(),n.lastSegment(),Ii(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],m=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ul(e).qt(IDBKeyRange.bound(l,m,!0)).next(b=>{let P=ro();for(const te of b){const pe=this.$n(Wn.fromSegments(te.prefixPath.concat(te.collectionGroup,te.documentId)),te);P=P.insert(pe.key,pe)}return P})}getAllFromCollectionGroup(e,n,o,l){let m=ro();const b=fh(n,o),P=fh(n,Ns.max());return Ul(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,P,!0)},(te,pe,nt)=>{const wt=this.$n(Wn.fromSegments(pe.prefixPath.concat(pe.collectionGroup,pe.documentId)),pe);m=m.insert(wt.key,wt),m.size===l&&nt.done()}).next(()=>m)}newChangeBuffer(e){return new By(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return pd(e).get("remoteDocumentGlobalKey").next(n=>(Cr(!!n),n))}Fn(e,n){return pd(e).put("remoteDocumentGlobalKey",n)}$n(e,n){if(n){const o=function _r(i,e){let n;if(e.document)n=qd(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Wn.fromSegments(e.noDocument.path),l=tl(e.noDocument.readTime);n=Qi.newNoDocument(o,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xn();{const o=Wn.fromSegments(e.unknownDocument.path),l=tl(e.unknownDocument.version);n=Qi.newUnknownDocument(o,l)}}return e.readTime&&n.setReadTime(function(o){const l=new xr(o[0],o[1]);return ar.fromTimestamp(l)}(e.readTime)),n}(this.M,n);if(!o.isNoDocument()||!o.version.isEqual(ar.min()))return o}return Qi.newInvalidDocument(e)}}class By extends Bg{constructor(e,n){super(),this.Kn=e,this.trackRemovals=n,this.Gn=new Yn(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const n=[];let o=0,l=new Si((m,b)=>Fn(m.canonicalString(),b.canonicalString()));return this.changes.forEach((m,b)=>{const P=this.Gn.get(m);if(n.push(this.Kn.removeEntry(e,m,P.readTime)),b.isValidDocument()){const te=Br(this.Kn.M,b);l=l.add(m.path.popLast()),o+=dh(te)-P.size,n.push(this.Kn.addEntry(e,m,te))}else if(o-=P.size,this.trackRemovals){const te=Br(this.Kn.M,b.convertToNoDocument(ar.min()));n.push(this.Kn.addEntry(e,m,te))}}),l.forEach(m=>{n.push(this.Kn.indexManager.addToCollectionParentIndex(e,m))}),n.push(this.Kn.updateMetadata(e,o)),en.waitFor(n)}getFromCache(e,n){return this.Kn.Bn(e,n).next(o=>(this.Gn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.Kn.Un(e,n).next(({documents:o,qn:l})=>(l.forEach((m,b)=>{this.Gn.set(m,{size:b,readTime:o.get(m).readTime})}),o))}}function pd(i){return Ie(i,"remoteDocumentGlobal")}function Ul(i){return Ie(i,"remoteDocumentsV14")}function ic(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fh(i,e){const n=e.documentKey.path.toArray();return[i,Ii(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ph(i,e){const n=i.path.toArray(),o=e.path.toArray();let l=0;for(let m=0;m<n.length-2&&m<o.length-2;++m)if(l=Fn(n[m],o[m]),l)return l;return l=Fn(n.length,o.length),l||(l=Fn(n[n.length-2],o[o.length-2]),l||Fn(n[n.length-1],o[o.length-1]))}class Uy{constructor(e){this.M=e}kt(e,n,o,l){const m=new Tu("createOrUpgrade",n);var P;o<1&&l>=1&&(e.createObjectStore("owner"),(P=e).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eh,{unique:!0}),P.createObjectStore("documentMutations"),om(e),function(P){P.createObjectStore("remoteDocuments")}(e));let b=en.resolve();return o<3&&l>=3&&(0!==o&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(e),om(e)),b=b.next(()=>function(P){const te=P.store("targetGlobal"),pe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ar.min().toTimestamp(),targetCount:0};return te.put("targetGlobalKey",pe)}(m))),o<4&&l>=4&&(0!==o&&(b=b.next(()=>function(P,te){return te.store("mutations").qt().next(pe=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eh,{unique:!0});const nt=te.store("mutations"),wt=pe.map(qt=>nt.put(qt));return en.waitFor(wt)})}(e,m))),b=b.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(b=b.next(()=>this.Qn(m))),o<6&&l>=6&&(b=b.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(e),this.jn(m)))),o<7&&l>=7&&(b=b.next(()=>this.Wn(m))),o<8&&l>=8&&(b=b.next(()=>this.zn(e,m))),o<9&&l>=9&&(b=b.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(b=b.next(()=>this.Hn(m))),o<11&&l>=11&&(b=b.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(b=b.next(()=>{!function(P){const te=P.createObjectStore("documentOverlays",{keyPath:bf});te.createIndex("collectionPathOverlayIndex",nh,{unique:!1}),te.createIndex("collectionGroupOverlayIndex",nc,{unique:!1})}(e)})),o<13&&l>=13&&(b=b.next(()=>function(P){const te=P.createObjectStore("remoteDocumentsV14",{keyPath:yf});te.createIndex("documentKeyIndex",vf),te.createIndex("collectionGroupIndex",Iu)}(e)).next(()=>this.Jn(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(b=b.next(()=>{!function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:Kp}).createIndex("sequenceNumberIndex",el,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:sd}).createIndex("documentKeyIndex",od,{unique:!1})}(e)})),b}jn(e){let n=0;return e.store("remoteDocuments").Wt((o,l)=>{n+=dh(l)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.qt().next(l=>en.forEach(l,m=>{const b=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",b).next(P=>en.forEach(P,te=>{Cr(te.userId===m.userId);const pe=vl(this.M,te);return em(e,m.userId,pe).next(()=>{})}))}))}Wn(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const m=[];return o.Wt((b,P)=>{const te=new vi(b),pe=[0,Go(te)];m.push(n.get(pe).next(nt=>nt?en.resolve():n.put({targetId:0,path:Go(te),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>en.waitFor(m))})}zn(e,n){e.createObjectStore("collectionParents",{keyPath:id});const o=n.store("collectionParents"),l=new uh,m=b=>{if(l.add(b)){const P=b.lastSegment(),te=b.popLast();return o.put({collectionId:P,parent:Go(te)})}};return n.store("remoteDocuments").Wt({jt:!0},(b,P)=>{const te=new vi(b);return m(te.popLast())}).next(()=>n.store("documentMutations").Wt({jt:!0},([b,P,te],pe)=>{const nt=Ja(P);return m(nt.popLast())}))}Hn(e){const n=e.store("targets");return n.Wt((o,l)=>{const m=nl(l),b=ih(this.M,m);return n.put(b)})}Jn(e,n){const o=n.store("remoteDocuments"),l=[];return o.Wt((m,b)=>{const P=n.store("remoteDocumentsV14"),te=(pe=b,pe.document?new Wn(vi.fromString(pe.document.name).popFirst(5)):pe.noDocument?Wn.fromSegments(pe.noDocument.path):pe.unknownDocument?Wn.fromSegments(pe.unknownDocument.path):Xn()).path.toArray();var pe;const nt={prefixPath:te.slice(0,te.length-2),collectionGroup:te[te.length-2],documentId:te[te.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};l.push(P.put(nt))}).next(()=>en.waitFor(l))}}function om(i){i.createObjectStore("targetDocuments",{keyPath:Ef}).createIndex("documentTargetsIndex",Gp,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ka,{unique:!0}),i.createObjectStore("targetGlobal")}const Of="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kf{constructor(e,n,o,l,m,b,P,te,pe,nt,wt=13){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.Yn=m,this.window=b,this.document=P,this.Xn=pe,this.Zn=nt,this.ts=wt,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=qt=>Promise.resolve(),!kf.vt())throw new Dn(zt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new im(this,l),this.hs=n+"main",this.M=new gn(te),this.ls=new Wa(this.hs,this.ts,new Uy(this.M)),this.fs=new nm(this.referenceDelegate,this.M),this.ds=new sm(this.M),this._s=new Df,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===nt&&ai("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Dn(zt.FAILED_PRECONDITION,Of);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new lt(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var n=this;return this.cs=function(){var o=(0,u.Z)(function*(l){if(n.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var n=(0,u.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,u.Z)(function*(){n.started&&(yield n.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(n=>{n||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(n=>this.isPrimary&&!n?this.Rs(e).next(()=>!1):!!n&&this.Ps(e).next(()=>!0))).catch(e=>{if(c(e))return yn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return yn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return md(e).get("owner").next(n=>en.resolve(this.bs(n)))}Vs(e){return gd(e).delete(this.clientId)}vs(){var e=this;return(0,u.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Ie(o,"clientMetadata");return l.qt().next(m=>{const b=e.Ds(m,18e5),P=m.filter(te=>-1===b.indexOf(te));return en.forEach(P,te=>l.delete(te.clientId)).next(()=>P)})}).catch(()=>[]);if(e.ws)for(const o of n)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?en.resolve(!0):md(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)){if(this.bs(n)&&this.networkEnabled)return!0;if(!this.bs(n)){if(!n.allowTabSynchronization)throw new Dn(zt.FAILED_PRECONDITION,Of);return!1}}return!(!this.networkEnabled||!this.inForeground)||gd(e).qt().next(o=>void 0===this.Ds(o,5e3).find(l=>{if(this.clientId!==l.clientId){const b=!this.inForeground&&l.inForeground,P=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||b&&P)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&yn("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,u.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Y(n,lt.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,n){return e.filter(o=>this.Ss(o.updateTimeMs,n)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>gd(e).qt().next(n=>this.Ds(n,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,n){return Sf.Yt(e,this.M,n,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Xp(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Rc.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,n,o){yn("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",m=14===(b=this.ts)?ld:13===b?xc:12===b?rh:11===b?ad:void Xn();var b;let P;return this.ls.runTransaction(e,l,m,te=>(P=new Y(te,this.es?this.es.next():lt.A),"readwrite-primary"===n?this.Es(P).next(pe=>!!pe||this.As(P)).next(pe=>{if(!pe)throw ai(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Dn(zt.FAILED_PRECONDITION,ud);return o(P)}).next(pe=>this.Ps(P).next(()=>pe)):this.$s(P).next(()=>o(P)))).then(te=>(P.raiseOnCommittedEvent(),te))}$s(e){return md(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)&&!this.bs(n)&&!(this.Zn||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Dn(zt.FAILED_PRECONDITION,Of)})}Ps(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return md(e).put("owner",n)}static vt(){return Wa.vt()}Rs(e){const n=md(e);return n.get("owner").next(o=>this.bs(o)?(yn("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):en.resolve())}Ss(e,n){const o=Date.now();return!(e<o-n||e>o&&(ai(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Ce.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var n;try{const o=null!==(null===(n=this.ws)||void 0===n?void 0:n.getItem(this.Cs(e)));return yn("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return ai("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){ai("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function md(i){return Ie(i,"owner")}function gd(i){return Ie(i,"clientMetadata")}function am(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Ug{constructor(e,n,o){this.ds=e,this.Bs=n,this.indexManager=o}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(o=>this.Us(e,n,o))}Us(e,n,o){return this.ds.getEntry(e,n).next(l=>{for(const m of o)m.applyToLocalView(l);return l})}qs(e,n){e.forEach((o,l)=>{for(const m of n)m.applyToLocalView(l)})}Ks(e,n){return this.ds.getEntries(e,n).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>this.qs(n,o))}Qs(e,n,o){return Wn.isDocumentKey((l=n).path)&&null===l.collectionGroup&&0===l.filters.length?this.js(e,n.path):Rl(n)?this.Ws(e,n,o):this.zs(e,n,o);var l}js(e,n){return this.Ls(e,new Wn(n)).next(o=>{let l=Ll();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}Ws(e,n,o){const l=n.collectionGroup;let m=Ll();return this.indexManager.getCollectionParents(e,l).next(b=>en.forEach(b,P=>{const te=(pe=n,nt=P.child(l),new Rs(nt,null,pe.explicitOrderBy.slice(),pe.filters.slice(),pe.limit,pe.limitType,pe.startAt,pe.endAt));var pe,nt;return this.zs(e,te,o).next(pe=>{pe.forEach((nt,wt)=>{m=m.insert(nt,wt)})})}).next(()=>m))}zs(e,n,o){let l;return this.ds.getAllFromCollection(e,n.path,o).next(m=>(l=m,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(m=>{for(const b of m)for(const P of b.mutations){const te=P.key;let pe=l.get(te);null==pe&&(pe=Qi.newInvalidDocument(te),l=l.insert(te,pe)),Xl(P,pe,b.localWriteTime),pe.isFoundDocument()||(l=l.remove(te))}}).next(()=>(l.forEach((m,b)=>{hl(n,b)||(l=l.remove(m))}),l))}}class lm{constructor(e,n,o,l){this.targetId=e,this.fromCache=n,this.Hs=o,this.Js=l}static Ys(e,n){let o=Fi(),l=Fi();for(const m of n.docChanges)switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:l=l.add(m.doc.key)}return new lm(e,n.fromCache,o,l)}}class Nf{Xs(e){this.Zs=e}Qs(e,n,o,l){return 0===(m=n).filters.length&&null===m.limit&&null==m.startAt&&null==m.endAt&&(0===m.explicitOrderBy.length||1===m.explicitOrderBy.length&&m.explicitOrderBy[0].field.isKeyField())||o.isEqual(ar.min())?this.ti(e,n):this.Zs.Ks(e,l).next(m=>{const b=this.ei(n,m);return(Da(n)||ul(n))&&this.ni(n.limitType,b,l,o)?this.ti(e,n):(Ea()<=z.in.DEBUG&&yn("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ku(n)),this.Zs.Qs(e,n,xl(o,-1)).next(P=>(b.forEach(te=>{P=P.insert(te.key,te)}),P)))});var m}ei(e,n){let o=new Si(Ta(e));return n.forEach((l,m)=>{hl(e,m)&&(o=o.add(m))}),o}ni(e,n,o,l){if(o.size!==n.size)return!0;const m="F"===e?n.last():n.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(l)>0)}ti(e,n){return Ea()<=z.in.DEBUG&&yn("QueryEngine","Using full collection scan to execute query:",Ku(n)),this.Zs.Qs(e,n,Ns.min())}}class um{constructor(e,n,o,l){this.persistence=e,this.si=n,this.M=l,this.ii=new nr(Fn),this.ri=new Yn(m=>ea(m),fa),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(o)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new Ug(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ii))}}function cm(i,e,n,o){return new um(i,e,n,o)}function mh(i,e){return dm.apply(this,arguments)}function dm(){return dm=(0,u.Z)(function*(i,e){const n=An(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let l;return n.Bs.getAllMutationBatches(o).next(m=>(l=m,n.ai(e),n.Bs.getAllMutationBatches(o))).next(m=>{const b=[],P=[];let te=Fi();for(const pe of l){b.push(pe.batchId);for(const nt of pe.mutations)te=te.add(nt.key)}for(const pe of m){P.push(pe.batchId);for(const nt of pe.mutations)te=te.add(nt.key)}return n.ci.Ks(o,te).next(pe=>({hi:pe,removedBatchIds:b,addedBatchIds:P}))})})}),dm.apply(this,arguments)}function Hy(i,e){const n=An(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),m=n.ui.newChangeBuffer({trackRemovals:!0});return function(b,P,te,pe){const nt=te.batch,wt=nt.keys();let qt=en.resolve();return wt.forEach(In=>{qt=qt.next(()=>pe.getEntry(P,In)).next(Sn=>{const yr=te.docVersions.get(In);Cr(null!==yr),Sn.version.compareTo(yr)<0&&(nt.applyToRemoteDocument(Sn,te),Sn.isValidDocument()&&(Sn.setReadTime(te.commitVersion),pe.addEntry(Sn)))})}),qt.next(()=>b.Bs.removeMutationBatch(P,nt))}(n,o,e,m).next(()=>m.apply(o)).next(()=>n.Bs.performConsistencyCheck(o)).next(()=>n.ci.Ks(o,l))})}function Hg(i){const e=An(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function jy(i,e){const n=An(i),o=e.snapshotVersion;let l=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const b=n.ui.newChangeBuffer({trackRemovals:!0});l=n.ii;const P=[];e.targetChanges.forEach((pe,nt)=>{const wt=l.get(nt);if(!wt)return;P.push(n.fs.removeMatchingKeys(m,pe.removedDocuments,nt).next(()=>n.fs.addMatchingKeys(m,pe.addedDocuments,nt)));let qt=wt.withSequenceNumber(m.currentSequenceNumber);var In,Sn,yr;e.targetMismatches.has(nt)?qt=qt.withResumeToken(ls.EMPTY_BYTE_STRING,ar.min()).withLastLimboFreeSnapshotVersion(ar.min()):pe.resumeToken.approximateByteSize()>0&&(qt=qt.withResumeToken(pe.resumeToken,o)),l=l.insert(nt,qt),Sn=qt,yr=pe,(0===(In=wt).resumeToken.approximateByteSize()||Sn.snapshotVersion.toMicroseconds()-In.snapshotVersion.toMicroseconds()>=3e8||yr.addedDocuments.size+yr.modifiedDocuments.size+yr.removedDocuments.size>0)&&P.push(n.fs.updateTargetData(m,qt))});let te=ro();if(e.documentUpdates.forEach(pe=>{e.resolvedLimboDocuments.has(pe)&&P.push(n.persistence.referenceDelegate.updateLimboDocument(m,pe))}),P.push(jg(m,b,e.documentUpdates).next(pe=>{te=pe})),!o.isEqual(ar.min())){const pe=n.fs.getLastRemoteSnapshotVersion(m).next(nt=>n.fs.setTargetsMetadata(m,m.currentSequenceNumber,o));P.push(pe)}return en.waitFor(P).next(()=>b.apply(m)).next(()=>n.ci.Gs(m,te)).next(()=>te)}).then(m=>(n.ii=l,m))}function jg(i,e,n){let o=Fi();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let m=ro();return n.forEach((b,P)=>{const te=l.get(b);P.isNoDocument()&&P.version.isEqual(ar.min())?(e.removeEntry(b,P.readTime),m=m.insert(b,P)):!te.isValidDocument()||P.version.compareTo(te.version)>0||0===P.version.compareTo(te.version)&&te.hasPendingWrites?(e.addEntry(P),m=m.insert(b,P)):yn("LocalStore","Ignoring outdated watch update for ",b,". Current version:",te.version," Watch version:",P.version)}),m})}function $y(i,e){const n=An(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(o,e)))}function _d(i,e){const n=An(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return n.fs.getTargetData(o,e).next(m=>m?(l=m,en.resolve(l)):n.fs.allocateTargetId(o).next(b=>(l=new $t(e,b,0,o.currentSequenceNumber),n.fs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=n.ii.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.ii=n.ii.insert(o.targetId,o),n.ri.set(e,o.targetId)),o})}function yd(i,e,n){return hm.apply(this,arguments)}function hm(){return hm=(0,u.Z)(function*(i,e,n){const o=An(i),l=o.ii.get(e),m=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",m,b=>o.persistence.referenceDelegate.removeTarget(b,l)))}catch(b){if(!c(b))throw b;yn("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}o.ii=o.ii.remove(e),o.ri.delete(l.target)}),hm.apply(this,arguments)}function Pf(i,e,n){const o=An(i);let l=ar.min(),m=Fi();return o.persistence.runTransaction("Execute query","readonly",b=>function(P,te,pe){const nt=An(P),wt=nt.ri.get(pe);return void 0!==wt?en.resolve(nt.ii.get(wt)):nt.fs.getTargetData(te,pe)}(o,b,Po(e)).next(P=>{if(P)return l=P.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(b,P.targetId).next(te=>{m=te})}).next(()=>o.si.Qs(b,e,n?l:ar.min(),n?m:Fi())).next(P=>(fm(o,Nl(e),P),{documents:P,li:m})))}function au(i,e){const n=An(i),o=An(n.fs),l=n.ii.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",m=>o.Et(m,e).next(b=>b?b.target:null))}function gh(i,e){const n=An(i),o=n.oi.get(e)||ar.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.ui.getAllFromCollectionGroup(l,e,xl(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(fm(n,e,l),l))}function fm(i,e,n){let o=ar.min();n.forEach((l,m)=>{m.readTime.compareTo(o)>0&&(o=m.readTime)}),i.oi.set(e,o)}function vd(){return vd=(0,u.Z)(function*(i,e,n,o){const l=An(i);let m=Fi(),b=ro();for(const pe of n){const nt=e.fi(pe.metadata.name);pe.document&&(m=m.add(nt));const wt=e.di(pe);wt.setReadTime(e._i(pe.metadata.readTime)),b=b.insert(nt,wt)}const P=l.ui.newChangeBuffer({trackRemovals:!0}),te=yield _d(l,(pe=o,Po(Ys(vi.fromString(`__bundle__/docs/${pe}`)))));var pe;return l.persistence.runTransaction("Apply bundle documents","readwrite",pe=>jg(pe,P,b).next(nt=>(P.apply(pe),nt)).next(nt=>l.fs.removeMatchingKeysForTargetId(pe,te.targetId).next(()=>l.fs.addMatchingKeys(pe,m,te.targetId)).next(()=>l.ci.Gs(pe,nt)).next(()=>nt)))}),vd.apply(this,arguments)}function mm(i,e){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,u.Z)(function*(i,e,n=Fi()){const o=yield _d(i,Po(sh(e.bundledQuery))),l=An(i);return l.persistence.runTransaction("Save named query","readwrite",m=>{const b=To(e.readTime);if(o.snapshotVersion.compareTo(b)>=0)return l._s.saveNamedQuery(m,e);const P=o.withResumeToken(ls.EMPTY_BYTE_STRING,b);return l.ii=l.ii.insert(P.targetId,P),l.fs.updateTargetData(m,P).next(()=>l.fs.removeMatchingKeysForTargetId(m,o.targetId)).next(()=>l.fs.addMatchingKeys(m,n,o.targetId)).next(()=>l._s.saveNamedQuery(m,e))})}),Ed.apply(this,arguments)}class $g{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,n){return en.resolve(this.wi.get(n))}saveBundleMetadata(e,n){var o;return this.wi.set(n.id,{id:(o=n).id,version:o.version,createTime:To(o.createTime)}),en.resolve()}getNamedQuery(e,n){return en.resolve(this.mi.get(n))}saveNamedQuery(e,n){return this.mi.set(n.name,{name:(o=n).name,query:sh(o.bundledQuery),readTime:To(o.readTime)}),en.resolve();var o}}class xu{constructor(){this.overlays=new nr(Wn.comparator),this.gi=new Map}getOverlay(e,n){return en.resolve(this.overlays.get(n))}saveOverlays(e,n,o){return o.forEach((l,m)=>{this.Xt(e,n,m)}),en.resolve()}removeOverlaysForBatchId(e,n,o){const l=this.gi.get(o);return void 0!==l&&(l.forEach(m=>this.overlays=this.overlays.remove(m)),this.gi.delete(o)),en.resolve()}getOverlaysForCollection(e,n,o){const l=xa(),m=n.length+1,b=new Wn(n.child("")),P=this.overlays.getIteratorFrom(b);for(;P.hasNext();){const te=P.getNext().value,pe=te.getKey();if(!n.isPrefixOf(pe.path))break;pe.path.length===m&&te.largestBatchId>o&&l.set(te.getKey(),te)}return en.resolve(l)}getOverlaysForCollectionGroup(e,n,o,l){let m=new nr((pe,nt)=>pe-nt);const b=this.overlays.getIterator();for(;b.hasNext();){const pe=b.getNext().value;if(pe.getKey().getCollectionGroup()===n&&pe.largestBatchId>o){let nt=m.get(pe.largestBatchId);null===nt&&(nt=xa(),m=m.insert(pe.largestBatchId,nt)),nt.set(pe.getKey(),pe)}}const P=xa(),te=m.getIterator();for(;te.hasNext()&&(te.getNext().value.forEach((pe,nt)=>P.set(pe,nt)),!(P.size()>=l)););return en.resolve(P)}Xt(e,n,o){if(null===o)return;const l=this.overlays.get(o.key);if(null!==l){const b=this.gi.get(l.largestBatchId).delete(o.key);this.gi.set(l.largestBatchId,b)}this.overlays=this.overlays.insert(o.key,new Yt(n,o));let m=this.gi.get(n);void 0===m&&(m=Fi(),this.gi.set(n,m)),this.gi.set(n,m.add(o.key))}}class _h{constructor(){this.yi=new Si(Lo.pi),this.Ii=new Si(Lo.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,n){const o=new Lo(e,n);this.yi=this.yi.add(o),this.Ii=this.Ii.add(o)}Ei(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.Ai(new Lo(e,n))}Ri(e,n){e.forEach(o=>this.removeReference(o,n))}Pi(e){const n=new Wn(new vi([])),o=new Lo(n,e),l=new Lo(n,e+1),m=[];return this.Ii.forEachInRange([o,l],b=>{this.Ai(b),m.push(b.key)}),m}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const n=new Wn(new vi([])),o=new Lo(n,e),l=new Lo(n,e+1);let m=Fi();return this.Ii.forEachInRange([o,l],b=>{m=m.add(b.key)}),m}containsKey(e){const n=new Lo(e,0),o=this.yi.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Lo{constructor(e,n){this.key=e,this.vi=n}static pi(e,n){return Wn.comparator(e.key,n.key)||Fn(e.vi,n.vi)}static Ti(e,n){return Fn(e.vi,n.vi)||Wn.comparator(e.key,n.key)}}class Ff{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Si(Lo.pi)}checkEmpty(e){return en.resolve(0===this.Bs.length)}addMutationBatch(e,n,o,l){const m=this.Si;this.Si++;const b=new qe(m,n,o,l);this.Bs.push(b);for(const P of l)this.Di=this.Di.add(new Lo(P.key,m)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return en.resolve(b)}lookupMutationBatch(e,n){return en.resolve(this.Ci(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.xi(n+1),m=l<0?0:l;return en.resolve(this.Bs.length>m?this.Bs[m]:null)}getHighestUnacknowledgedBatchId(){return en.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return en.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Lo(n,0),l=new Lo(n,Number.POSITIVE_INFINITY),m=[];return this.Di.forEachInRange([o,l],b=>{const P=this.Ci(b.vi);m.push(P)}),en.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Si(Fn);return n.forEach(l=>{const m=new Lo(l,0),b=new Lo(l,Number.POSITIVE_INFINITY);this.Di.forEachInRange([m,b],P=>{o=o.add(P.vi)})}),en.resolve(this.Ni(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1;let m=o;Wn.isDocumentKey(m)||(m=m.child(""));const b=new Lo(new Wn(m),0);let P=new Si(Fn);return this.Di.forEachWhile(te=>{const pe=te.key.path;return!!o.isPrefixOf(pe)&&(pe.length===l&&(P=P.add(te.vi)),!0)},b),en.resolve(this.Ni(P))}Ni(e){const n=[];return e.forEach(o=>{const l=this.Ci(o);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){Cr(0===this.ki(n.batchId,"removed")),this.Bs.shift();let o=this.Di;return en.forEach(n.mutations,l=>{const m=new Lo(l.key,n.batchId);return o=o.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Di=o})}_n(e){}containsKey(e,n){const o=new Lo(n,0),l=this.Di.firstAfterOrEqual(o);return en.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return en.resolve()}ki(e,n){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const n=this.xi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class Wg{constructor(e){this.Mi=e,this.docs=new nr(Wn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,l=this.docs.get(o),m=l?l.size:0,b=this.Mi(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:b}),this.size+=b-m,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return en.resolve(o?o.document.mutableCopy():Qi.newInvalidDocument(n))}getEntries(e,n){let o=ro();return n.forEach(l=>{const m=this.docs.get(l);o=o.insert(l,m?m.document.mutableCopy():Qi.newInvalidDocument(l))}),en.resolve(o)}getAllFromCollection(e,n,o){let l=ro();const m=new Wn(n.child("")),b=this.docs.getIteratorFrom(m);for(;b.hasNext();){const{key:P,value:{document:te}}=b.getNext();if(!n.isPrefixOf(P.path))break;P.path.length>n.length+1||Zl(Za(te),o)<=0||(l=l.insert(te.key,te.mutableCopy()))}return en.resolve(l)}getAllFromCollectionGroup(e,n,o,l){Xn()}Oi(e,n){return en.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new gm(this)}getSize(e){return en.resolve(this.size)}}class gm extends Bg{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?n.push(this.Kn.addEntry(e,l)):this.Kn.removeEntry(o)}),en.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class zg{constructor(e){this.persistence=e,this.Fi=new Yn(n=>ea(n),fa),this.lastRemoteSnapshotVersion=ar.min(),this.highestTargetId=0,this.$i=0,this.Bi=new _h,this.targetCount=0,this.Li=Xr.gn()}forEachTarget(e,n){return this.Fi.forEach((o,l)=>n(l)),en.resolve()}getLastRemoteSnapshotVersion(e){return en.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return en.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),en.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.$i&&(this.$i=n),en.resolve()}Tn(e){this.Fi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Li=new Xr(n),this.highestTargetId=n),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,en.resolve()}updateTargetData(e,n){return this.Tn(n),en.resolve()}removeTargetData(e,n){return this.Fi.delete(n.target),this.Bi.Pi(n.targetId),this.targetCount-=1,en.resolve()}removeTargets(e,n,o){let l=0;const m=[];return this.Fi.forEach((b,P)=>{P.sequenceNumber<=n&&null===o.get(P.targetId)&&(this.Fi.delete(b),m.push(this.removeMatchingKeysForTargetId(e,P.targetId)),l++)}),en.waitFor(m).next(()=>l)}getTargetCount(e){return en.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fi.get(n)||null;return en.resolve(o)}addMatchingKeys(e,n,o){return this.Bi.Ei(n,o),en.resolve()}removeMatchingKeys(e,n,o){this.Bi.Ri(n,o);const l=this.persistence.referenceDelegate,m=[];return l&&n.forEach(b=>{m.push(l.markPotentiallyOrphaned(e,b))}),en.waitFor(m)}removeMatchingKeysForTargetId(e,n){return this.Bi.Pi(n),en.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Bi.Vi(n);return en.resolve(o)}containsKey(e,n){return en.resolve(this.Bi.containsKey(n))}}class Gg{constructor(e,n){this.Ui={},this.overlays={},this.es=new lt(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new zg(this),this.indexManager=new Vy,this.ds=new Wg(o=>this.referenceDelegate.qi(o)),this.M=new gn(n),this._s=new $g(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xu,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Ui[e.toKey()];return o||(o=new Ff(n,this.referenceDelegate),this.Ui[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,o){yn("MemoryPersistence","Starting transaction:",e);const l=new bd(this.es.next());return this.referenceDelegate.Ki(),o(l).next(m=>this.referenceDelegate.Gi(l).next(()=>m)).toPromise().then(m=>(l.raiseOnCommittedEvent(),m))}Qi(e,n){return en.or(Object.values(this.Ui).map(o=>()=>o.containsKey(e,n)))}}class bd extends wf{constructor(e){super(),this.currentSequenceNumber=e}}class Ru{constructor(e){this.persistence=e,this.ji=new _h,this.Wi=null}static zi(e){return new Ru(e)}get Hi(){if(this.Wi)return this.Wi;throw Xn()}addReference(e,n,o){return this.ji.addReference(o,n),this.Hi.delete(o.toString()),en.resolve()}removeReference(e,n,o){return this.ji.removeReference(o,n),this.Hi.add(o.toString()),en.resolve()}markPotentiallyOrphaned(e,n){return this.Hi.add(n.toString()),en.resolve()}removeTarget(e,n){this.ji.Pi(n.targetId).forEach(l=>this.Hi.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(m=>this.Hi.add(m.toString()))}).next(()=>o.removeTargetData(e,n))}Ki(){this.Wi=new Set}Gi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return en.forEach(this.Hi,o=>{const l=Wn.fromPath(o);return this.Ji(e,l).next(m=>{m||n.removeEntry(l,ar.min())})}).next(()=>(this.Wi=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ji(e,n).next(o=>{o?this.Hi.delete(n.toString()):this.Hi.add(n.toString())})}qi(e){return 0}Ji(e,n){return en.or([()=>en.resolve(this.ji.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Qi(e,n)])}}function yh(i,e){return`firestore_clients_${i}_${e}`}function sc(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function oc(i,e){return`firestore_targets_${i}_${e}`}class lu{constructor(e,n,o,l){this.user=e,this.batchId=n,this.state=o,this.error=l}static Yi(e,n,o){const l=JSON.parse(o);let m,b="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return b&&l.error&&(b="string"==typeof l.error.message&&"string"==typeof l.error.code,b&&(m=new Dn(l.error.code,l.error.message))),b?new lu(e,n,l.state,m):(ai("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wd{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Yi(e,n){const o=JSON.parse(n);let l,m="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return m&&o.error&&(m="string"==typeof o.error.message&&"string"==typeof o.error.code,m&&(l=new Dn(o.error.code,o.error.message))),m?new wd(e,o.state,l):(ai("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cd{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Yi(e,n){const o=JSON.parse(n);let l="object"==typeof o&&o.activeTargetIds instanceof Array,m=eu();for(let b=0;l&&b<o.activeTargetIds.length;++b)l=Gu(o.activeTargetIds[b]),m=m.add(o.activeTargetIds[b]);return l?new Cd(e,m):(ai("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class vh{constructor(e,n){this.clientId=e,this.onlineState=n}static Yi(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new vh(n.clientId,n.onlineState):(ai("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Dd{constructor(){this.activeTargetIds=eu()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Id{constructor(e,n,o,l,m){this.window=e,this.Yn=n,this.persistenceKey=o,this.er=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new nr(Fn),this.started=!1,this.rr=[];const b=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.ur=yh(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Dd),this.cr=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,u.Z)(function*(){const n=yield e.syncEngine.Fs();for(const l of n){if(l===e.er)continue;const m=e.getItem(yh(e.persistenceKey,l));if(m){const b=Cd.Yi(l,m);b&&(e.ir=e.ir.insert(b.clientId,b))}}e.wr();const o=e.storage.getItem(e.dr);if(o){const l=e.mr(o);l&&e.gr(l)}for(const l of e.rr)e.sr(l);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let n=!1;return this.ir.forEach((o,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,n,o){this.pr(e,n,o),this.Ir(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(oc(this.persistenceKey,e));if(o){const l=wd.Yi(e,o);l&&(n=l.state)}}return this.Tr.Zi(e),this.wr(),n}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(oc(this.persistenceKey,e))}updateQueryState(e,n,o){this.Er(e,n,o)}handleUserChange(e,n,o){n.forEach(l=>{this.Ir(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return yn("SharedClientState","READ",e,n),n}setItem(e,n){yn("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){yn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(yn("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ur)return void ai("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,u.Z)(function*(){if(n.started){if(null!==o.key)if(n.cr.test(o.key)){if(null==o.newValue){const l=n.Pr(o.key);return n.br(l,null)}{const l=n.Vr(o.key,o.newValue);if(l)return n.br(l.clientId,l)}}else if(n.hr.test(o.key)){if(null!==o.newValue){const l=n.vr(o.key,o.newValue);if(l)return n.Sr(l)}}else if(n.lr.test(o.key)){if(null!==o.newValue){const l=n.Dr(o.key,o.newValue);if(l)return n.Cr(l)}}else if(o.key===n.dr){if(null!==o.newValue){const l=n.mr(o.newValue);if(l)return n.gr(l)}}else if(o.key===n.ar){const l=function(m){let b=lt.A;if(null!=m)try{const P=JSON.parse(m);Cr("number"==typeof P),b=P}catch(P){ai("SharedClientState","Failed to read sequence number from WebStorage",P)}return b}(o.newValue);l!==lt.A&&n.sequenceNumberHandler(l)}else if(o.key===n._r){const l=n.Nr(o.newValue);yield Promise.all(l.map(m=>n.syncEngine.kr(m)))}}else n.rr.push(o)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,n,o){const l=new lu(this.currentUser,e,n,o),m=sc(this.persistenceKey,this.currentUser,e);this.setItem(m,l.Xi())}Ir(e){const n=sc(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,n,o){const l=oc(this.persistenceKey,e),m=new wd(e,n,o);this.setItem(l,m.Xi())}Rr(e){const n=JSON.stringify(Array.from(e));this.setItem(this._r,n)}Pr(e){const n=this.cr.exec(e);return n?n[1]:null}Vr(e,n){const o=this.Pr(e);return Cd.Yi(o,n)}vr(e,n){const o=this.hr.exec(e),l=Number(o[1]);return lu.Yi(new ii(void 0!==o[2]?o[2]:null),l,n)}Dr(e,n){const o=this.lr.exec(e),l=Number(o[1]);return wd.Yi(l,n)}mr(e){return vh.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var n=this;return(0,u.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Mr(e.batchId,e.state,e.error);yn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,n){const o=n?this.ir.insert(e,n):this.ir.remove(e),l=this.yr(this.ir),m=this.yr(o),b=[],P=[];return m.forEach(te=>{l.has(te)||b.push(te)}),l.forEach(te=>{m.has(te)||P.push(te)}),this.syncEngine.Fr(b,P).then(()=>{this.ir=o})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let n=eu();return e.forEach((o,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class Lf{constructor(){this.$r=new Dd,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,n,o){this.Br[e]=n}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Dd,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Eh{Lr(e){}shutdown(){}}class _m{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){yn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){yn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ym={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Wy{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class vm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,n,o,l,m){const b=this.uo(e,n);yn("RestConnection","Sending: ",b,o);const P={};return this.ao(P,l,m),this.co(e,b,P,o).then(te=>(yn("RestConnection","Received: ",te),te),te=>{throw ws("RestConnection",`${e} failed with error: `,te,"url: ",b,"request:",o),te})}ho(e,n,o,l,m){return this.oo(e,n,o,l,m)}ao(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ki,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,m)=>e[m]=l),o&&o.headers.forEach((l,m)=>e[m]=l)}uo(e,n){return`${this.io}/v1/${n}:${ym[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,o,l){return new Promise((m,b)=>{const P=new Ni;P.listenOnce(Ho.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case vo.NO_ERROR:const pe=P.getResponseJson();yn("Connection","XHR received:",JSON.stringify(pe)),m(pe);break;case vo.TIMEOUT:yn("Connection",'RPC "'+e+'" timed out'),b(new Dn(zt.DEADLINE_EXCEEDED,"Request time out"));break;case vo.HTTP_ERROR:const nt=P.getStatus();if(yn("Connection",'RPC "'+e+'" failed with status:',nt,"response text:",P.getResponseText()),nt>0){const wt=P.getResponseJson().error;if(wt&&wt.status&&wt.message){const qt=function(In){const Sn=In.toLowerCase().replace(/_/g,"-");return Object.values(zt).indexOf(Sn)>=0?Sn:zt.UNKNOWN}(wt.status);b(new Dn(qt,wt.message))}else b(new Dn(zt.UNKNOWN,"Server responded with status "+P.getStatus()))}else b(new Dn(zt.UNAVAILABLE,"Connection failed."));break;default:Xn()}}finally{yn("Connection",'RPC "'+e+'" completed.')}});const te=JSON.stringify(l);P.send(n,"POST",te,o,15)})}lo(e,n,o){const l=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=Gi(),b=ts(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(P.xmlHttpFactory=new Ar({})),this.ao(P.initMessageHeaders,n,o),(0,Ce.uI)()||(0,Ce.b$)()||(0,Ce.d)()||(0,Ce.w1)()||(0,Ce.Mn)()||(0,Ce.ru)()||(P.httpHeadersOverwriteParam="$httpHeaders");const te=l.join("");yn("Connection","Creating WebChannel: "+te,P);const pe=m.createWebChannel(te,P);let nt=!1,wt=!1;const qt=new Wy({Wr:Sn=>{wt?yn("Connection","Not sending because WebChannel is closed:",Sn):(nt||(yn("Connection","Opening WebChannel transport."),pe.open(),nt=!0),yn("Connection","WebChannel sending:",Sn),pe.send(Sn))},zr:()=>pe.close()}),In=(Sn,yr,hi)=>{Sn.listen(yr,Ws=>{try{hi(Ws)}catch(go){setTimeout(()=>{throw go},0)}})};return In(pe,Tr.EventType.OPEN,()=>{wt||yn("Connection","WebChannel transport opened.")}),In(pe,Tr.EventType.CLOSE,()=>{wt||(wt=!0,yn("Connection","WebChannel transport closed"),qt.no())}),In(pe,Tr.EventType.ERROR,Sn=>{wt||(wt=!0,ws("Connection","WebChannel transport errored:",Sn),qt.no(new Dn(zt.UNAVAILABLE,"The operation could not be completed")))}),In(pe,Tr.EventType.MESSAGE,Sn=>{var yr;if(!wt){const hi=Sn.data[0];Cr(!!hi);const Ws=hi,go=Ws.error||(null===(yr=Ws[0])||void 0===yr?void 0:yr.error);if(go){yn("Connection","WebChannel received error:",go);const zs=go.status;let oa=function(Xs){const va=ae[Xs];if(void 0!==va)return mn(va)}(zs),_o=go.message;void 0===oa&&(oa=zt.INTERNAL,_o="Unknown error status: "+zs+" with message "+go.message),wt=!0,qt.no(new Dn(oa,_o)),pe.close()}else yn("Connection","WebChannel received:",hi),qt.so(hi)}}),In(b,Nn.STAT_EVENT,Sn=>{Sn.stat===or.PROXY?yn("Connection","Detected buffering proxy"):Sn.stat===or.NOPROXY&&yn("Connection","Detected no buffering proxy")}),setTimeout(()=>{qt.eo()},0),qt}}function Vf(){return"undefined"!=typeof window?window:null}function bh(){return"undefined"!=typeof document?document:null}function Fc(i){return new uf(i,!0)}class Bf{constructor(e,n,o=1e3,l=1.5,m=6e4){this.Yn=e,this.timerId=n,this.fo=o,this._o=l,this.wo=m,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const n=Math.floor(this.mo+this.Eo()),o=Math.max(0,Date.now()-this.po),l=Math.max(0,n-o);l>0&&yn("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.mo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,l,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class Em{constructor(e,n,o,l,m,b,P,te){this.Yn=e,this.Ro=o,this.Po=l,this.bo=m,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=P,this.listener=te,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Bf(e,n)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,u.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,u.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,n){var o=this;return(0,u.Z)(function*(){o.$o(),o.Bo(),o.Do.cancel(),o.Vo++,4!==e?o.Do.reset():n&&n.code===zt.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),o.Do.Io()):n&&n.code===zt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Lo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Yr(n)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Vo===n&&this.qo(o,l)},o=>{e(()=>{const l=new Dn(zt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ko(l)})})}qo(e,n){const o=this.Uo(this.Vo);this.stream=this.Go(e,n),this.stream.Hr(()=>{o(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(l=>{o(()=>this.Ko(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}No(){var e=this;this.state=5,this.Do.To((0,u.Z)(function*(){e.state=0,e.start()}))}Ko(e){return yn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Yn.enqueueAndForget(()=>this.Vo===e?n():(yn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class za extends Em{constructor(e,n,o,l,m,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,l,b),this.M=m}Go(e,n){return this.bo.lo("Listen",e,n)}onMessage(e){this.Do.reset();const n=function df(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(te=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===te?1:"REMOVE"===te?2:"CURRENT"===te?3:"RESET"===te?4:Xn(),l=e.targetChange.targetIds||[],m=function(te,pe){return te.N?(Cr(void 0===pe||"string"==typeof pe),ls.fromBase64String(pe||"")):(Cr(void 0===pe||pe instanceof Uint8Array),ls.fromUint8Array(pe||new Uint8Array))}(i,e.targetChange.resumeToken),b=e.targetChange.cause,P=b&&function(te){const pe=void 0===te.code?zt.UNKNOWN:mn(te.code);return new Dn(pe,te.message||"")}(b);n=new Ai(o,l,m,P||null)}else if("documentChange"in e){const o=e.documentChange,l=$a(i,o.document.name),m=To(o.document.updateTime),b=new Ms({mapValue:{fields:o.document.fields}}),P=Qi.newFoundDocument(l,m,b);n=new tu(o.targetIds||[],o.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const o=e.documentDelete,l=$a(i,o.document),m=o.readTime?To(o.readTime):ar.min(),b=Qi.newNoDocument(l,m);n=new tu([],o.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const o=e.documentRemove,l=$a(i,o.document);n=new tu([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Xn();{const o=e.filter,m=new O(o.count||0);n=new Xc(o.targetId,m)}}var te;return n}(this.M,e),o=function(l){if(!("targetChange"in l))return ar.min();const m=l.targetChange;return m.targetIds&&m.targetIds.length?ar.min():m.readTime?To(m.readTime):ar.min()}(e);return this.listener.Qo(n,o)}jo(e){const n={};n.database=Ra(this.M),n.addTarget=function(l,m){let b;const P=m.target;return b=na(P)?{documents:td(l,P)}:{query:Yd(l,P)},b.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?b.resumeToken=cf(l,m.resumeToken):m.snapshotVersion.compareTo(ar.min())>0&&(b.readTime=ja(l,m.snapshotVersion.toTimestamp())),b}(this.M,e);const o=function hf(i,e){const n=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xn()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Fo(n)}Wo(e){const n={};n.database=Ra(this.M),n.removeTarget=e,this.Fo(n)}}class Kg extends Em{constructor(e,n,o,l,m,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,l,b),this.M=m,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,n){return this.bo.lo("Write",e,n)}onMessage(e){if(Cr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const n=function Oa(i,e){return i&&i.length>0?(Cr(void 0!==e),i.map(n=>function(o,l){let m=To(o.updateTime?o.updateTime:l);return m.isEqual(ar.min())&&(m=To(l)),new Qc(m,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=To(e.commitTime);return this.listener.Yo(o,n)}return Cr(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Ra(this.M),this.Fo(e)}Jo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>Cu(this.M,o))};this.Fo(n)}}class qg extends class{}{constructor(e,n,o,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=o,this.M=l,this.tu=!1}eu(){if(this.tu)throw new Dn(zt.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,n,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,m])=>this.bo.oo(e,n,o,l,m)).catch(l=>{throw"FirebaseError"===l.name?(l.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Dn(zt.UNKNOWN,l.toString())})}ho(e,n,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,m])=>this.bo.ho(e,n,o,l,m)).catch(l=>{throw"FirebaseError"===l.name?(l.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Dn(zt.UNKNOWN,l.toString())})}terminate(){this.tu=!0}}class zy{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(ai(n),this.iu=!1):yn("OnlineStateTracker",n)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Gy{constructor(e,n,o,l,m){var b=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=m,this._u.Lr(P=>{o.enqueueAndForget((0,u.Z)(function*(){var te;uu(b)&&(yn("RemoteStore","Restarting streams for network reachability change."),yield(te=(0,u.Z)(function*(pe){const nt=An(pe);nt.fu.add(4),yield Vc(nt),nt.wu.set("Unknown"),nt.fu.delete(4),yield Lc(nt)}),function(pe){return te.apply(this,arguments)})(b))}))}),this.wu=new zy(o,l)}}function Lc(i){return bm.apply(this,arguments)}function bm(){return bm=(0,u.Z)(function*(i){if(uu(i))for(const e of i.du)yield e(!0)}),bm.apply(this,arguments)}function Vc(i){return Td.apply(this,arguments)}function Td(){return Td=(0,u.Z)(function*(i){for(const e of i.du)yield e(!1)}),Td.apply(this,arguments)}function Sd(i,e){const n=An(i);n.lu.has(e.targetId)||(n.lu.set(e.targetId,e),Hf(n)?wh(n):lc(n).xo()&&Uf(n,e))}function Ad(i,e){const n=An(i),o=lc(n);n.lu.delete(e),o.xo()&&wm(n,e),0===n.lu.size&&(o.xo()?o.Mo():uu(n)&&n.wu.set("Unknown"))}function Uf(i,e){i.mu.Z(e.targetId),lc(i).jo(e)}function wm(i,e){i.mu.Z(e),lc(i).Wo(e)}function wh(i){i.mu=new Vl({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.lu.get(e)||null}),lc(i).start(),i.wu.ru()}function Hf(i){return uu(i)&&!lc(i).Co()&&i.lu.size>0}function uu(i){return 0===An(i).fu.size}function Cm(i){i.mu=void 0}function Zg(i){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,u.Z)(function*(i){i.lu.forEach((e,n)=>{Uf(i,e)})}),Ch.apply(this,arguments)}function Dm(i,e){return jf.apply(this,arguments)}function jf(){return jf=(0,u.Z)(function*(i,e){Cm(i),Hf(i)?(i.wu.au(e),wh(i)):i.wu.set("Unknown")}),jf.apply(this,arguments)}function Hl(i,e,n){return Md.apply(this,arguments)}function Md(){return Md=(0,u.Z)(function*(i,e,n){if(i.wu.set("Online"),e instanceof Ai&&2===e.state&&e.cause)try{yield(o=(0,u.Z)(function*(l,m){const b=m.cause;for(const P of m.targetIds)l.lu.has(P)&&(yield l.remoteSyncer.rejectListen(P,b),l.lu.delete(P),l.mu.removeTarget(P))}),function(l,m){return o.apply(this,arguments)})(i,e)}catch(o){yn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Dh(i,o)}else if(e instanceof tu?i.mu.ut(e):e instanceof Xc?i.mu._t(e):i.mu.ht(e),!n.isEqual(ar.min()))try{const o=yield Hg(i.localStore);n.compareTo(o)>=0&&(yield function(l,m){const b=l.mu.yt(m);return b.targetChanges.forEach((P,te)=>{if(P.resumeToken.approximateByteSize()>0){const pe=l.lu.get(te);pe&&l.lu.set(te,pe.withResumeToken(P.resumeToken,m))}}),b.targetMismatches.forEach(P=>{const te=l.lu.get(P);if(!te)return;l.lu.set(P,te.withResumeToken(ls.EMPTY_BYTE_STRING,te.snapshotVersion)),wm(l,P);const pe=new $t(te.target,P,1,te.sequenceNumber);Uf(l,pe)}),l.remoteSyncer.applyRemoteEvent(b)}(i,n))}catch(o){yn("RemoteStore","Failed to raise snapshot:",o),yield Dh(i,o)}var o}),Md.apply(this,arguments)}function Dh(i,e,n){return $f.apply(this,arguments)}function $f(){return $f=(0,u.Z)(function*(i,e,n){if(!c(e))throw e;i.fu.add(1),yield Vc(i),i.wu.set("Offline"),n||(n=()=>Hg(i.localStore)),i.asyncQueue.enqueueRetryable((0,u.Z)(function*(){yn("RemoteStore","Retrying IndexedDB access"),yield n(),i.fu.delete(1),yield Lc(i)}))}),$f.apply(this,arguments)}function Yg(i,e){return e().catch(n=>Dh(i,n,e))}function ac(i){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,u.Z)(function*(i){const e=An(i),n=cu(e);let o=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;Qg(e);)try{const l=yield $y(e.localStore,o);if(null===l){0===e.hu.length&&n.Mo();break}o=l.batchId,Xg(e,l)}catch(l){yield Dh(e,l)}Ih(e)&&Im(e)}),Wf.apply(this,arguments)}function Qg(i){return uu(i)&&i.hu.length<10}function Xg(i,e){i.hu.push(e);const n=cu(i);n.xo()&&n.Ho&&n.Jo(e.mutations)}function Ih(i){return uu(i)&&!cu(i).Co()&&i.hu.length>0}function Im(i){cu(i).start()}function Jg(i){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,u.Z)(function*(i){cu(i).Zo()}),Bc.apply(this,arguments)}function zf(i){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,u.Z)(function*(i){const e=cu(i);for(const n of i.hu)e.Jo(n.mutations)}),Gf.apply(this,arguments)}function Kf(i,e,n){return xd.apply(this,arguments)}function xd(){return xd=(0,u.Z)(function*(i,e,n){const o=i.hu.shift(),l=ft.from(o,e,n);yield Yg(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield ac(i)}),xd.apply(this,arguments)}function Tm(i,e){return qf.apply(this,arguments)}function qf(){return qf=(0,u.Z)(function*(i,e){var n;e&&cu(i).Ho&&(yield(n=(0,u.Z)(function*(o,l){if(Lt(m=l.code)&&m!==zt.ABORTED){const b=o.hu.shift();cu(o).ko(),yield Yg(o,()=>o.remoteSyncer.rejectFailedWrite(b.batchId,l)),yield ac(o)}var m}),function(o,l){return n.apply(this,arguments)})(i,e)),Ih(i)&&Im(i)}),qf.apply(this,arguments)}function Sm(i,e){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,u.Z)(function*(i,e){const n=An(i);n.asyncQueue.verifyOperationInProgress(),yn("RemoteStore","RemoteStore received new credentials");const o=uu(n);n.fu.add(3),yield Vc(n),o&&n.wu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.fu.delete(3),yield Lc(n)}),Rd.apply(this,arguments)}function Am(i,e){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,u.Z)(function*(i,e){const n=An(i);e?(n.fu.delete(2),yield Lc(n)):e||(n.fu.add(2),yield Vc(n),n.wu.set("Unknown"))}),Zf.apply(this,arguments)}function lc(i){return i.gu||(i.gu=function(e,n,o){const l=An(e);return l.eu(),new za(n,l.bo,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{Hr:Zg.bind(null,i),Yr:Dm.bind(null,i),Qo:Hl.bind(null,i)}),i.du.push(function(){var e=(0,u.Z)(function*(n){n?(i.gu.ko(),Hf(i)?wh(i):i.wu.set("Unknown")):(yield i.gu.stop(),Cm(i))});return function(n){return e.apply(this,arguments)}}())),i.gu}function cu(i){return i.yu||(i.yu=function(e,n,o){const l=An(e);return l.eu(),new Kg(n,l.bo,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{Hr:Jg.bind(null,i),Yr:Tm.bind(null,i),Xo:zf.bind(null,i),Yo:Kf.bind(null,i)}),i.du.push(function(){var e=(0,u.Z)(function*(n){n?(i.yu.ko(),yield ac(i)):(yield i.yu.stop(),i.hu.length>0&&(yn("RemoteStore",`Stopping write stream with ${i.hu.length} pending writes`),i.hu=[]))});return function(n){return e.apply(this,arguments)}}())),i.yu}class Th{constructor(e,n,o,l,m){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=l,this.removalCallback=m,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,n,o,l,m){const b=Date.now()+o,P=new Th(e,n,b,l,m);return P.start(o),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dn(zt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uc(i,e){if(ai("AsyncQueue",`${e}: ${i}`),c(i))return new Dn(zt.UNAVAILABLE,`${e}: ${i}`);throw i}class cc{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Wn.comparator(n.key,o.key):(n,o)=>Wn.comparator(n.key,o.key),this.keyedMap=Ll(),this.sortedSet=new nr(this.comparator)}static emptySet(e){return new cc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,m=o.getNext().key;if(!l.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new cc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class jl{constructor(){this.pu=new nr(Wn.comparator)}track(e){const n=e.doc.key,o=this.pu.get(n);o?0!==e.type&&3===o.type?this.pu=this.pu.insert(n,e):3===e.type&&1!==o.type?this.pu=this.pu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.pu=this.pu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.pu=this.pu.remove(n):1===e.type&&2===o.type?this.pu=this.pu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):Xn():this.pu=this.pu.insert(n,e)}Iu(){const e=[];return this.pu.inorderTraversal((n,o)=>{e.push(o)}),e}}class du{constructor(e,n,o,l,m,b,P,te){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=m,this.fromCache=b,this.syncStateChanged=P,this.excludesMetadataChanges=te}static fromInitialDocuments(e,n,o,l){const m=[];return n.forEach(b=>{m.push({type:0,doc:b})}),new du(e,n,cc.emptySet(n),m,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==o[l].type||!n[l].doc.isEqual(o[l].doc))return!1;return!0}}class e_{constructor(){this.Tu=void 0,this.listeners=[]}}class t_{constructor(){this.queries=new Yn(e=>kl(e),pa),this.onlineState="Unknown",this.Eu=new Set}}function Mm(i,e){return Od.apply(this,arguments)}function Od(){return Od=(0,u.Z)(function*(i,e){const n=An(i),o=e.query;let l=!1,m=n.queries.get(o);if(m||(l=!0,m=new e_),l)try{m.Tu=yield n.onListen(o)}catch(b){const P=uc(b,`Initialization of query '${Ku(e.query)}' failed`);return void e.onError(P)}n.queries.set(o,m),m.listeners.push(e),e.Au(n.onlineState),m.Tu&&e.Ru(m.Tu)&&Pd(n)}),Od.apply(this,arguments)}function Sh(i,e){return kd.apply(this,arguments)}function kd(){return kd=(0,u.Z)(function*(i,e){const n=An(i),o=e.query;let l=!1;const m=n.queries.get(o);if(m){const b=m.listeners.indexOf(e);b>=0&&(m.listeners.splice(b,1),l=0===m.listeners.length)}if(l)return n.queries.delete(o),n.onUnlisten(o)}),kd.apply(this,arguments)}function Nd(i,e){const n=An(i);let o=!1;for(const l of e){const b=n.queries.get(l.query);if(b){for(const P of b.listeners)P.Ru(l)&&(o=!0);b.Tu=l}}o&&Pd(n)}function n_(i,e,n){const o=An(i),l=o.queries.get(e);if(l)for(const m of l.listeners)m.onError(n);o.queries.delete(e)}function Pd(i){i.Eu.forEach(e=>{e.next()})}class Ah{constructor(e,n,o){this.query=e,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=o||{}}Ru(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new du(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),n=!0):this.Su(e,this.onlineState)&&(this.Du(e),n=!0),this.Vu=e,n}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let n=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),n=!0),n}Su(e,n){return!e.fromCache||!(this.options.Cu&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class xm{constructor(e,n){this.payload=e,this.byteLength=n}xu(){return"metadata"in this.payload}}class Yf{constructor(e){this.M=e}fi(e){return $a(this.M,e)}di(e){return e.metadata.exists?qd(this.M,e.document,!1):Qi.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return To(e)}}class r_{constructor(e,n,o){this.Nu=e,this.localStore=n,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Mh(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=vi.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Mu(e){const n=new Map,o=new Yf(this.M);for(const l of e)if(l.metadata.queries){const m=o.fi(l.metadata.name);for(const b of l.metadata.queries){const P=(n.get(b)||Fi()).add(m);n.set(b,P)}}return n}complete(){var e=this;return(0,u.Z)(function*(){const n=yield function pm(i,e,n,o){return vd.apply(this,arguments)}(e.localStore,new Yf(e.M),e.documents,e.Nu.id),o=e.Mu(e.documents);for(const l of e.queries)yield mm(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:n}})()}}function Mh(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Rm{constructor(e){this.key=e}}class Om{constructor(e){this.key=e}}class Qf{constructor(e,n){this.query=e,this.$u=n,this.Bu=null,this.current=!1,this.Lu=Fi(),this.mutatedKeys=Fi(),this.Uu=Ta(e),this.qu=new cc(this.Uu)}get Ku(){return this.$u}Gu(e,n){const o=n?n.Qu:new jl,l=n?n.qu:this.qu;let m=n?n.mutatedKeys:this.mutatedKeys,b=l,P=!1;const te=Da(this.query)&&l.size===this.query.limit?l.last():null,pe=ul(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((nt,wt)=>{const qt=l.get(nt),In=hl(this.query,wt)?wt:null,Sn=!!qt&&this.mutatedKeys.has(qt.key),yr=!!In&&(In.hasLocalMutations||this.mutatedKeys.has(In.key)&&In.hasCommittedMutations);let hi=!1;qt&&In?qt.data.isEqual(In.data)?Sn!==yr&&(o.track({type:3,doc:In}),hi=!0):this.ju(qt,In)||(o.track({type:2,doc:In}),hi=!0,(te&&this.Uu(In,te)>0||pe&&this.Uu(In,pe)<0)&&(P=!0)):!qt&&In?(o.track({type:0,doc:In}),hi=!0):qt&&!In&&(o.track({type:1,doc:qt}),hi=!0,(te||pe)&&(P=!0)),hi&&(In?(b=b.add(In),m=yr?m.add(nt):m.delete(nt)):(b=b.delete(nt),m=m.delete(nt)))}),Da(this.query)||ul(this.query))for(;b.size>this.query.limit;){const nt=Da(this.query)?b.last():b.first();b=b.delete(nt.key),m=m.delete(nt.key),o.track({type:1,doc:nt})}return{qu:b,Qu:o,ni:P,mutatedKeys:m}}ju(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const l=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const m=e.Qu.Iu();m.sort((pe,nt)=>function(wt,qt){const In=Sn=>{switch(Sn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xn()}};return In(wt)-In(qt)}(pe.type,nt.type)||this.Uu(pe.doc,nt.doc)),this.Wu(o);const b=n?this.zu():[],P=0===this.Lu.size&&this.current?1:0,te=P!==this.Bu;return this.Bu=P,0!==m.length||te?{snapshot:new du(this.query,e.qu,l,m,e.mutatedKeys,0===P,te,!1),Hu:b}:{Hu:b}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new jl,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(n=>this.$u=this.$u.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.$u=this.$u.delete(n)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Fi(),this.qu.forEach(o=>{this.Ju(o.key)&&(this.Lu=this.Lu.add(o.key))});const n=[];return e.forEach(o=>{this.Lu.has(o)||n.push(new Om(o))}),this.Lu.forEach(o=>{e.has(o)||n.push(new Rm(o))}),n}Yu(e){this.$u=e.li,this.Lu=Fi();const n=this.Gu(e.documents);return this.applyChanges(n,!0)}Xu(){return du.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Uc{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class km{constructor(e){this.key=e,this.Zu=!1}}class i_{constructor(e,n,o,l,m,b){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=l,this.currentUser=m,this.maxConcurrentLimboResolutions=b,this.ta={},this.ea=new Yn(P=>kl(P),pa),this.na=new Map,this.sa=new Set,this.ia=new nr(Wn.comparator),this.ra=new Map,this.oa=new _h,this.ua={},this.aa=new Map,this.ca=Xr.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function s_(i,e){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,u.Z)(function*(i,e){const n=ku(i);let o,l;const m=n.ea.get(e);if(m)o=m.targetId,n.sharedClientState.addLocalQueryTarget(o),l=m.view.Xu();else{const b=yield _d(n.localStore,Po(e));n.isPrimaryClient&&Sd(n.remoteStore,b);const P=n.sharedClientState.addLocalQueryTarget(b.targetId);o=b.targetId,l=yield Xf(n,e,o,"current"===P)}return l}),Ou.apply(this,arguments)}function Xf(i,e,n,o){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,u.Z)(function*(i,e,n,o){i.la=(nt,wt,qt)=>{return(In=(0,u.Z)(function*(Sn,yr,hi,Ws){let go=yr.view.Gu(hi);go.ni&&(go=yield Pf(Sn.localStore,yr.query,!1).then(({documents:_o})=>yr.view.Gu(_o,go)));const zs=Ws&&Ws.targetChanges.get(yr.targetId),oa=yr.view.applyChanges(go,Sn.isPrimaryClient,zs);return Vd(Sn,yr.targetId,oa.Hu),oa.snapshot}),function(Sn,yr,hi,Ws){return In.apply(this,arguments)})(i,nt,wt,qt);var In};const l=yield Pf(i.localStore,e,!0),m=new Qf(e,l.li),b=m.Gu(l.documents),P=gl.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),te=m.applyChanges(b,i.isPrimaryClient,P);Vd(i,n,te.Hu);const pe=new Uc(e,n,m);return i.ea.set(e,pe),i.na.has(n)?i.na.get(n).push(e):i.na.set(n,[e]),te.snapshot}),Jf.apply(this,arguments)}function o_(i,e){return ep.apply(this,arguments)}function ep(){return ep=(0,u.Z)(function*(i,e){const n=An(i),o=n.ea.get(e),l=n.na.get(o.targetId);if(l.length>1)return n.na.set(o.targetId,l.filter(m=>!pa(m,e))),void n.ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield yd(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Ad(n.remoteStore,o.targetId),Ld(n,o.targetId)}).catch(Ko))):(Ld(n,o.targetId),yield yd(n.localStore,o.targetId,!0))}),ep.apply(this,arguments)}function Fd(){return Fd=(0,u.Z)(function*(i,e,n){const o=hp(i);try{const l=yield function(m,b){const P=An(m),te=xr.now(),pe=b.reduce((wt,qt)=>wt.add(qt.key),Fi());let nt;return P.persistence.runTransaction("Locally write mutations","readwrite",wt=>P.ci.Ks(wt,pe).next(qt=>{nt=qt;const In=[];for(const Sn of b){const yr=Ju(Sn,nt.get(Sn.key));null!=yr&&In.push(new Xa(Sn.key,yr,Co(yr.value.mapValue),Ts.exists(!0)))}return P.Bs.addMutationBatch(wt,te,In,b)})).then(wt=>(wt.applyToLocalDocumentSet(nt),{batchId:wt.batchId,changes:nt}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(m,b,P){let te=m.ua[m.currentUser.toKey()];te||(te=new nr(Fn)),te=te.insert(b,P),m.ua[m.currentUser.toKey()]=te}(o,l.batchId,n),yield $l(o,l.changes),yield ac(o.remoteStore)}catch(l){const m=uc(l,"Failed to persist write");n.reject(m)}}),Fd.apply(this,arguments)}function tp(i,e){return xh.apply(this,arguments)}function xh(){return xh=(0,u.Z)(function*(i,e){const n=An(i);try{const o=yield jy(n.localStore,e);e.targetChanges.forEach((l,m)=>{const b=n.ra.get(m);b&&(Cr(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?b.Zu=!0:l.modifiedDocuments.size>0?Cr(b.Zu):l.removedDocuments.size>0&&(Cr(b.Zu),b.Zu=!1))}),yield $l(n,o,e)}catch(o){yield Ko(o)}}),xh.apply(this,arguments)}function np(i,e,n){const o=An(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const l=[];o.ea.forEach((m,b)=>{const P=b.view.Au(e);P.snapshot&&l.push(P.snapshot)}),function(m,b){const P=An(m);P.onlineState=b;let te=!1;P.queries.forEach((pe,nt)=>{for(const wt of nt.listeners)wt.Au(b)&&(te=!0)}),te&&Pd(P)}(o.eventManager,e),l.length&&o.ta.Qo(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Nm(i,e,n){return rp.apply(this,arguments)}function rp(){return rp=(0,u.Z)(function*(i,e,n){const o=An(i);o.sharedClientState.updateQueryState(e,"rejected",n);const l=o.ra.get(e),m=l&&l.key;if(m){let b=new nr(Wn.comparator);b=b.insert(m,Qi.newNoDocument(m,ar.min()));const P=Fi().add(m),te=new _a(ar.min(),new Map,new Si(Fn),b,P);yield tp(o,te),o.ia=o.ia.remove(m),o.ra.delete(e),kh(o)}else yield yd(o.localStore,e,!1).then(()=>Ld(o,e,n)).catch(Ko)}),rp.apply(this,arguments)}function a_(i,e){return ip.apply(this,arguments)}function ip(){return ip=(0,u.Z)(function*(i,e){const n=An(i),o=e.batch.batchId;try{const l=yield Hy(n.localStore,e);op(n,o,null),sp(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield $l(n,l)}catch(l){yield Ko(l)}}),ip.apply(this,arguments)}function l_(i,e,n){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,u.Z)(function*(i,e,n){const o=An(i);try{const l=yield function(m,b){const P=An(m);return P.persistence.runTransaction("Reject batch","readwrite-primary",te=>{let pe;return P.Bs.lookupMutationBatch(te,b).next(nt=>(Cr(null!==nt),pe=nt.keys(),P.Bs.removeMutationBatch(te,nt))).next(()=>P.Bs.performConsistencyCheck(te)).next(()=>P.ci.Ks(te,pe))})}(o.localStore,e);op(o,e,n),sp(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield $l(o,l)}catch(l){yield Ko(l)}}),Rh.apply(this,arguments)}function Oh(){return Oh=(0,u.Z)(function*(i,e){const n=An(i);uu(n.remoteStore)||yn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(m){const b=An(m);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>b.Bs.getHighestUnacknowledgedBatchId(P))}(n.localStore);if(-1===o)return void e.resolve();const l=n.aa.get(o)||[];l.push(e),n.aa.set(o,l)}catch(o){const l=uc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Oh.apply(this,arguments)}function sp(i,e){(i.aa.get(e)||[]).forEach(n=>{n.resolve()}),i.aa.delete(e)}function op(i,e,n){const o=An(i);let l=o.ua[o.currentUser.toKey()];if(l){const m=l.get(e);m&&(n?m.reject(n):m.resolve(),l=l.remove(e)),o.ua[o.currentUser.toKey()]=l}}function Ld(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.na.get(e))i.ea.delete(o),n&&i.ta.fa(o,n);i.na.delete(e),i.isPrimaryClient&&i.oa.Pi(e).forEach(o=>{i.oa.containsKey(o)||u_(i,o)})}function u_(i,e){i.sa.delete(e.path.canonicalString());const n=i.ia.get(e);null!==n&&(Ad(i.remoteStore,n),i.ia=i.ia.remove(e),i.ra.delete(n),kh(i))}function Vd(i,e,n){for(const o of n)o instanceof Rm?(i.oa.addReference(o.key,e),c_(i,o)):o instanceof Om?(yn("SyncEngine","Document no longer in limbo: "+o.key),i.oa.removeReference(o.key,e),i.oa.containsKey(o.key)||u_(i,o.key)):Xn()}function c_(i,e){const n=e.key,o=n.path.canonicalString();i.ia.get(n)||i.sa.has(o)||(yn("SyncEngine","New document in limbo: "+n),i.sa.add(o),kh(i))}function kh(i){for(;i.sa.size>0&&i.ia.size<i.maxConcurrentLimboResolutions;){const e=i.sa.values().next().value;i.sa.delete(e);const n=new Wn(vi.fromString(e)),o=i.ca.next();i.ra.set(o,new km(n)),i.ia=i.ia.insert(n,o),Sd(i.remoteStore,new $t(Po(Ys(n.path)),o,2,lt.A))}}function $l(i,e,n){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,u.Z)(function*(i,e,n){const o=An(i),l=[],m=[],b=[];var P;o.ea.isEmpty()||(o.ea.forEach((P,te)=>{b.push(o.la(te,e,n).then(pe=>{if(pe){o.isPrimaryClient&&o.sharedClientState.updateQueryState(te.targetId,pe.fromCache?"not-current":"current"),l.push(pe);const nt=lm.Ys(te.targetId,pe);m.push(nt)}}))}),yield Promise.all(b),o.ta.Qo(l),yield(P=(0,u.Z)(function*(te,pe){const nt=An(te);try{yield nt.persistence.runTransaction("notifyLocalViewChanges","readwrite",wt=>en.forEach(pe,qt=>en.forEach(qt.Hs,In=>nt.persistence.referenceDelegate.addReference(wt,qt.targetId,In)).next(()=>en.forEach(qt.Js,In=>nt.persistence.referenceDelegate.removeReference(wt,qt.targetId,In)))))}catch(wt){if(!c(wt))throw wt;yn("LocalStore","Failed to update sequence numbers: "+wt)}for(const wt of pe){const qt=wt.targetId;if(!wt.fromCache){const In=nt.ii.get(qt),yr=In.withLastLimboFreeSnapshotVersion(In.snapshotVersion);nt.ii=nt.ii.insert(qt,yr)}}}),function(te,pe){return P.apply(this,arguments)})(o.localStore,m))}),Pm.apply(this,arguments)}function wl(i,e){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,u.Z)(function*(i,e){const n=An(i);if(!n.currentUser.isEqual(e)){yn("SyncEngine","User change. New user:",e.toKey());const o=yield mh(n.localStore,e);n.currentUser=e,(l=n).aa.forEach(b=>{b.forEach(P=>{P.reject(new Dn(zt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.aa.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield $l(n,o.hi)}var l}),Fm.apply(this,arguments)}function qy(i,e){const n=An(i),o=n.ra.get(e);if(o&&o.Zu)return Fi().add(o.key);{let l=Fi();const m=n.na.get(e);if(!m)return l;for(const b of m){const P=n.ea.get(b);l=l.unionWith(P.view.Ku)}return l}}function Lm(i,e){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,u.Z)(function*(i,e){const n=An(i),o=yield Pf(n.localStore,e.query,!0),l=e.view.Yu(o);return n.isPrimaryClient&&Vd(n,e.targetId,l.Hu),l}),Nh.apply(this,arguments)}function Vm(i,e){return ap.apply(this,arguments)}function ap(){return ap=(0,u.Z)(function*(i,e){const n=An(i);return gh(n.localStore,e).then(o=>$l(n,o))}),ap.apply(this,arguments)}function Zy(i,e,n,o){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,u.Z)(function*(i,e,n,o){const l=An(i),m=yield function(b,P){const te=An(b),pe=An(te.Bs);return te.persistence.runTransaction("Lookup mutation documents","readonly",nt=>pe.fn(nt,P).next(wt=>wt?te.ci.Ks(nt,wt):en.resolve(null)))}(l.localStore,e);var P;null!==m?("pending"===n?yield ac(l.remoteStore):"acknowledged"===n||"rejected"===n?(op(l,e,o||null),sp(l,e),P=e,An(An(l.localStore).Bs)._n(P)):Xn(),yield $l(l,m)):yn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ph.apply(this,arguments)}function up(){return up=(0,u.Z)(function*(i,e){const n=An(i);if(ku(n),hp(n),!0===e&&!0!==n.ha){const o=n.sharedClientState.getAllActiveQueryTargets(),l=yield Fh(n,o.toArray());n.ha=!0,yield Am(n.remoteStore,!0);for(const m of l)Sd(n.remoteStore,m)}else if(!1===e&&!1!==n.ha){const o=[];let l=Promise.resolve();n.na.forEach((m,b)=>{n.sharedClientState.isLocalQueryTarget(b)?o.push(b):l=l.then(()=>(Ld(n,b),yd(n.localStore,b,!0))),Ad(n.remoteStore,b)}),yield l,yield Fh(n,o),function(m){const b=An(m);b.ra.forEach((P,te)=>{Ad(b.remoteStore,te)}),b.oa.bi(),b.ra=new Map,b.ia=new nr(Wn.comparator)}(n),n.ha=!1,yield Am(n.remoteStore,!1)}}),up.apply(this,arguments)}function Fh(i,e,n){return cp.apply(this,arguments)}function cp(){return cp=(0,u.Z)(function*(i,e,n){const o=An(i),l=[],m=[];for(const b of e){let P;const te=o.na.get(b);if(te&&0!==te.length){P=yield _d(o.localStore,Po(te[0]));for(const pe of te){const nt=o.ea.get(pe),wt=yield Lm(o,nt);wt.snapshot&&m.push(wt.snapshot)}}else{const pe=yield au(o.localStore,b);P=yield _d(o.localStore,pe),yield Xf(o,Bm(pe),b,!1)}l.push(P)}return o.ta.Qo(m),l}),cp.apply(this,arguments)}function Bm(i){return Wo(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function d_(i){const e=An(i);return An(An(e.localStore).persistence).Fs()}function h_(i,e,n,o){return dp.apply(this,arguments)}function dp(){return dp=(0,u.Z)(function*(i,e,n,o){const l=An(i);if(l.ha)return void yn("SyncEngine","Ignoring unexpected query state notification.");const m=l.na.get(e);if(m&&m.length>0)switch(n){case"current":case"not-current":{const b=yield gh(l.localStore,Nl(m[0])),P=_a.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield $l(l,b,P);break}case"rejected":yield yd(l.localStore,e,!0),Ld(l,e,o);break;default:Xn()}}),dp.apply(this,arguments)}function f_(i,e,n){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,u.Z)(function*(i,e,n){const o=ku(i);if(o.ha){for(const l of e){if(o.na.has(l)){yn("SyncEngine","Adding an already active target "+l);continue}const m=yield au(o.localStore,l),b=yield _d(o.localStore,m);yield Xf(o,Bm(m),b.targetId,!1),Sd(o.remoteStore,b)}for(const l of n)o.na.has(l)&&(yield yd(o.localStore,l,!1).then(()=>{Ad(o.remoteStore,l),Ld(o,l)}).catch(Ko))}}),Hc.apply(this,arguments)}function ku(i){const e=An(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=tp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nm.bind(null,e),e.ta.Qo=Nd.bind(null,e.eventManager),e.ta.fa=n_.bind(null,e.eventManager),e}function hp(i){const e=An(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l_.bind(null,e),e}class Um{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,u.Z)(function*(){n.M=Fc(e.databaseInfo.databaseId),n.sharedClientState=n._a(e),n.persistence=n.wa(e),yield n.persistence.start(),n.gcScheduler=n.ma(e),n.localStore=n.ga(e)})()}ma(e){return null}ga(e){return cm(this.persistence,new Nf,e.initialUser,this.M)}wa(e){return new Gg(Ru.zi,this.M)}_a(e){return new Lf}terminate(){var e=this;return(0,u.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Hm extends Um{constructor(e,n,o){super(),this.ya=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,u.Z)(function*(){yield n().call(o,e),yield o.ya.initialize(o,e),yield hp(o.ya.syncEngine),yield ac(o.ya.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ga(e){return cm(this.persistence,new Nf,e.initialUser,this.M)}ma(e){return new ou(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const n=am(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Pa.withCacheSize(this.cacheSizeBytes):Pa.DEFAULT;return new kf(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,Vf(),bh(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new Lf}}class fp extends Hm{constructor(e,n){super(e,n,!1),this.ya=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,u.Z)(function*(){yield n().call(o,e);const l=o.ya.syncEngine;o.sharedClientState instanceof Id&&(o.sharedClientState.syncEngine={Mr:Zy.bind(null,l),Or:h_.bind(null,l),Fr:f_.bind(null,l),Fs:d_.bind(null,l),kr:Vm.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var m=(0,u.Z)(function*(b){yield function lp(i,e){return up.apply(this,arguments)}(o.ya.syncEngine,b),o.gcScheduler&&(b&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):b||o.gcScheduler.stop())});return function(b){return m.apply(this,arguments)}}())})()}_a(e){const n=Vf();if(!Id.vt(n))throw new Dn(zt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=am(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Id(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class rl{initialize(e,n){var o=this;return(0,u.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>np(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=wl.bind(null,o.syncEngine),yield Am(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new t_}createDatastore(e){const n=Fc(e.databaseInfo.databaseId),o=new vm(e.databaseInfo);return new qg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,l=e.asyncQueue,m=P=>np(this.syncEngine,P,0),b=_m.vt()?new _m:new Eh,new Gy(n,o,l,m,b);var n,o,l,m,b}createSyncEngine(e,n){return function(o,l,m,b,P,te,pe){const nt=new i_(o,l,m,b,P,te);return pe&&(nt.ha=!0),nt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,u.Z)(function*(n){const o=An(n);yn("RemoteStore","RemoteStore shutting down."),o.fu.add(5),yield Vc(o),o._u.shutdown(),o.wu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function jc(i,e=10240){let n=0;return{read:()=>(0,u.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,u.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class So{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class dc{constructor(e,n){this.Ta=e,this.M=n,this.metadata=new Ui,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(o=>{o&&o.xu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,u.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,u.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,u.Z)(function*(){const n=yield e.Ra();if(null===n)return null;const o=e.Ea.decode(n),l=Number(o);isNaN(l)&&e.Pa(`length string (${o}) is not valid number`);const m=yield e.ba(l);return new xm(JSON.parse(m),n.length+l)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,u.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const n=e.Va();n<0&&e.Pa("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}ba(e){var n=this;return(0,u.Z)(function*(){for(;n.buffer.length<e;)(yield n.va())&&n.Pa("Reached the end of bundle when more is expected.");const o=n.Ea.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,u.Z)(function*(){const n=yield e.Ta.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class Lh{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,u.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Dn(zt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,u.Z)(function*(m,b){const P=An(m),te=Ra(P.M)+"/documents",pe={documents:b.map(In=>iu(P.M,In))},nt=yield P.ho("BatchGetDocuments",te,pe),wt=new Map;nt.forEach(In=>{const Sn=function Zd(i,e){return"found"in e?function(n,o){Cr(!!o.found);const l=$a(n,o.found.name),m=To(o.found.updateTime),b=new Ms({mapValue:{fields:o.found.fields}});return Qi.newFoundDocument(l,m,b)}(i,e):"missing"in e?function(n,o){Cr(!!o.missing),Cr(!!o.readTime);const l=$a(n,o.missing),m=To(o.readTime);return Qi.newNoDocument(l,m)}(i,e):Xn()}(P.M,In);wt.set(Sn.key.toString(),Sn)});const qt=[];return b.forEach(In=>{const Sn=wt.get(In.toString());Cr(!!Sn),qt.push(Sn)}),qt}),function(m,b){return l.apply(this,arguments)})(n.datastore,e);var l;return o.forEach(l=>n.recordVersion(l)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new g(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,u.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,l)=>{const m=Wn.fromPath(l);e.mutations.push(new y(m,e.precondition(m)))}),yield(o=(0,u.Z)(function*(l,m){const b=An(l),P=Ra(b.M)+"/documents",te={writes:m.map(pe=>Cu(b.M,pe))};yield b.oo("Commit",P,te)}),function(l,m){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Xn();n=ar.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new Dn(zt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?Ts.updateTime(n):Ts.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ar.min()))throw new Dn(zt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ts.updateTime(n)}return Ts.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class il{constructor(e,n,o,l){this.asyncQueue=e,this.datastore=n,this.updateFunction=o,this.deferred=l,this.Sa=5,this.Do=new Bf(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,u.Z)(function*(){const n=new Lh(e.datastore),o=e.Ca(n);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(m=>{e.xa(m)}))}).catch(l=>{e.xa(l)})}))}Ca(e){try{const n=this.updateFunction(e);return!qi(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!Lt(n)}return!1}}class pp{constructor(e,n,o,l){var m=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=l,this.user=ii.UNAUTHENTICATED,this.clientId=Zn.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var b=(0,u.Z)(function*(P){yn("FirestoreClient","Received user=",P.uid),yield m.authCredentialListener(P),m.user=P});return function(P){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(o,b=>(yn("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,u.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Dn(zt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,u.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const l=uc(o,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function hc(i,e){return Nu.apply(this,arguments)}function Nu(){return Nu=(0,u.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),yn("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var l=(0,u.Z)(function*(m){o.isEqual(m)||(yield mh(e.localStore,m),o=m)});return function(m){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Nu.apply(this,arguments)}function fc(i,e){return Pu.apply(this,arguments)}function Pu(){return Pu=(0,u.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Fu(i);yn("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(l=>Sm(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,m)=>Sm(e.remoteStore,m)),i.onlineComponents=e}),Pu.apply(this,arguments)}function Fu(i){return Lu.apply(this,arguments)}function Lu(){return Lu=(0,u.Z)(function*(i){return i.offlineComponents||(yn("FirestoreClient","Using default OfflineComponentProvider"),yield hc(i,new Um)),i.offlineComponents}),Lu.apply(this,arguments)}function hu(i){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,u.Z)(function*(i){return i.onlineComponents||(yn("FirestoreClient","Using default OnlineComponentProvider"),yield fc(i,new rl)),i.onlineComponents}),Vu.apply(this,arguments)}function pc(i){return Fu(i).then(e=>e.persistence)}function Vh(i){return Fu(i).then(e=>e.localStore)}function mp(i){return hu(i).then(e=>e.remoteStore)}function Bh(i){return hu(i).then(e=>e.syncEngine)}function mc(i){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,u.Z)(function*(i){const e=yield hu(i),n=e.eventManager;return n.onListen=s_.bind(null,e.syncEngine),n.onUnlisten=o_.bind(null,e.syncEngine),n}),Uh.apply(this,arguments)}function gp(i,e,n={}){const o=new Ui;return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function(l,m,b,P,te){const pe=new So({next:wt=>{m.enqueueAndForget(()=>Sh(l,nt));const qt=wt.docs.has(b);!qt&&wt.fromCache?te.reject(new Dn(zt.UNAVAILABLE,"Failed to get document because the client is offline.")):qt&&wt.fromCache&&P&&"server"===P.source?te.reject(new Dn(zt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):te.resolve(wt)},error:wt=>te.reject(wt)}),nt=new Ah(Ys(b.path),pe,{includeMetadataChanges:!0,Cu:!0});return Mm(l,nt)}(yield mc(i),i.asyncQueue,e,n,o)})),o.promise}function _p(i,e,n={}){const o=new Ui;return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function(l,m,b,P,te){const pe=new So({next:wt=>{m.enqueueAndForget(()=>Sh(l,nt)),wt.fromCache&&"server"===P.source?te.reject(new Dn(zt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):te.resolve(wt)},error:wt=>te.reject(wt)}),nt=new Ah(b,pe,{includeMetadataChanges:!0,Cu:!0});return Mm(l,nt)}(yield mc(i),i.asyncQueue,e,n,o)})),o.promise}const Km=new Map;function Hh(i,e,n){if(!n)throw new Dn(zt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function qm(i,e,n,o){if(!0===e&&!0===o)throw new Dn(zt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function yp(i){if(!Wn.isDocumentKey(i))throw new Dn(zt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Zm(i){if(Wn.isDocumentKey(i))throw new Dn(zt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function jh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Xn()}function Hi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Dn(zt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jh(i);throw new Dn(zt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ym(i,e){if(e<=0)throw new Dn(zt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class $h{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new Dn(zt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Dn(zt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gc{constructor(e,n,o){this._authCredentials=n,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $h({}),this._settingsFrozen=!1,e instanceof ba?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Dn(zt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ba(l.options.projectId)}(e))}get app(){if(!this._app)throw new Dn(zt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Dn(zt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $h(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Zo;switch(n.type){case"gapi":const o=n.client;return Cr(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new W(o,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Dn(zt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Km.get(e);n&&(yn("ComponentProvider","Removing Datastore"),Km.delete(e),n.terminate())}(this),Promise.resolve()}}function __(i,e,n,o={}){var l;const m=(i=Hi(i,gc))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&ws("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let b,P;if("string"==typeof o.mockUserToken)b=o.mockUserToken,P=ii.MOCK_USER;else{b=(0,Ce.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const te=o.mockUserToken.sub||o.mockUserToken.user_id;if(!te)throw new Dn(zt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new ii(te)}i._authCredentials=new N(new aa(b,P))}}class io{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new io(this.firestore,e,this._key)}}class ya{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ya(this.firestore,e,this._query)}}class fu extends ya{constructor(e,n,o){super(e,n,Ys(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new io(this.firestore,null,new Wn(e))}withConverter(e){return new fu(this.firestore,e,this._path)}}function y_(i,e,...n){if(i=(0,Ce.m9)(i),Hh("collection","path",e),i instanceof gc){const o=vi.fromString(e,...n);return Zm(o),new fu(i,null,o)}{if(!(i instanceof io||i instanceof fu))throw new Dn(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(vi.fromString(e,...n));return Zm(o),new fu(i.firestore,null,o)}}function Qm(i,e){if(i=Hi(i,gc),Hh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Dn(zt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ya(i,null,(n=e,new Rs(vi.emptyPath(),n)));var n}function v_(i,e,...n){if(i=(0,Ce.m9)(i),1===arguments.length&&(e=Zn.R()),Hh("doc","path",e),i instanceof gc){const o=vi.fromString(e,...n);return yp(o),new io(i,null,new Wn(o))}{if(!(i instanceof io||i instanceof fu))throw new Dn(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(vi.fromString(e,...n));return yp(o),new io(i.firestore,i instanceof fu?i.converter:null,new Wn(o))}}function E_(i,e){return i=(0,Ce.m9)(i),e=(0,Ce.m9)(e),(i instanceof io||i instanceof fu)&&(e instanceof io||e instanceof fu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function _c(i,e){return i=(0,Ce.m9)(i),e=(0,Ce.m9)(e),i instanceof ya&&e instanceof ya&&i.firestore===e.firestore&&pa(i._query,e._query)&&i.converter===e.converter}class b_{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Bf(this,"async_queue_retry"),this.qa=()=>{const n=bh();n&&yn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Do.Ao()};const e=bh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const n=bh();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const n=new Ui;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,u.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(n){if(!c(n))throw n;yn("AsyncQueue","Operation failed with retryable error: "+n)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const n=this.ka.then(()=>(this.Ba=!0,e().catch(o=>{throw this.$a=o,this.Ba=!1,ai("INTERNAL UNHANDLED ERROR: ",function(m){let b=m.message||"";return m.stack&&(b=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),b}(o)),o}).then(o=>(this.Ba=!1,o))));return this.ka=n,n}enqueueAfterDelay(e,n,o){this.Ka(),this.Ua.indexOf(e)>-1&&(n=0);const l=Th.createAndSchedule(this,e,n,o,m=>this.ja(m));return this.Fa.push(l),l}Ka(){this.$a&&Xn()}verifyOperationInProgress(){}Wa(){var e=this;return(0,u.Z)(function*(){let n;do{n=e.ka,yield n}while(n!==e.ka)})()}za(e){for(const n of this.Fa)if(n.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Fa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const n=this.Fa.indexOf(e);this.Fa.splice(n,1)}}function Wh(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class w_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Xm=-1;class Ss extends gc{constructor(e,n,o){super(e,n,o),this.type="firestore",this._queue=new b_,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||eg(this),this._firestoreClient.terminate()}}function Jm(i=(0,C.getApp)()){return(0,C._getProvider)(i,"firestore").getImmediate()}function mo(i){return i._firestoreClient||eg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function eg(i){var e;const n=i._freezeSettings(),o=(m=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Kl(i._databaseId,m,i._persistenceKey,(P=n).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams));var m,P;i._firestoreClient=new pp(i._authCredentials,i._appCheckCredentials,i._queue,o)}function C_(i,e){og(i=Hi(i,Ss));const n=mo(i),o=i._freezeSettings(),l=new rl;return tg(n,l,new Hm(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function D_(i){og(i=Hi(i,Ss));const e=mo(i),n=i._freezeSettings(),o=new rl;return tg(e,o,new fp(o,n.cacheSizeBytes))}function tg(i,e,n){const o=new Ui;return i.asyncQueue.enqueue((0,u.Z)(function*(){try{yield hc(i,n),yield fc(i,e),o.resolve()}catch(l){if(!("FirebaseError"===(m=l).name?m.code===zt.FAILED_PRECONDITION||m.code===zt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),o.reject(l)}var m})).then(()=>o.promise)}function ng(i){if(i._initialized&&!i._terminated)throw new Dn(zt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ui;return i._queue.enqueueAndForgetEvenWhileRestricted((0,u.Z)(function*(){try{yield(n=(0,u.Z)(function*(o){if(!Wa.vt())return Promise.resolve();const l=o+"main";yield Wa.delete(l)}),function(o){return n.apply(this,arguments)})(am(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function I_(i){return function(e){const n=new Ui;return e.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function Ky(i,e){return Oh.apply(this,arguments)}(yield Bh(e),n)})),n.promise}(mo(i=Hi(i,Ss)))}function rg(i){return function jm(i){return i.asyncQueue.enqueue((0,u.Z)(function*(){const e=yield pc(i),n=yield mp(i);return e.setNetworkEnabled(!0),function(o){const l=An(o);return l.fu.delete(0),Lc(l)}(n)}))}(mo(i=Hi(i,Ss)))}function ig(i){return function $m(i){return i.asyncQueue.enqueue((0,u.Z)(function*(){const e=yield pc(i),n=yield mp(i);return e.setNetworkEnabled(!1),(o=(0,u.Z)(function*(l){const m=An(l);m.fu.add(0),yield Vc(m),m.wu.set("Offline")}),function(l){return o.apply(this,arguments)})(n);var o}))}(mo(i=Hi(i,Ss)))}function Qy(i,e){const n=mo(i=Hi(i,Ss)),o=new w_;return function Gm(i,e,n,o){const l=function(m,b){let P;return P="string"==typeof m?(new TextEncoder).encode(m):m,te=function(te,pe){if(te instanceof Uint8Array)return jc(te,void 0);if(te instanceof ArrayBuffer)return jc(new Uint8Array(te),void 0);if(te instanceof ReadableStream)return te.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new dc(te,b);var te}(n,Fc(e));i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){!function Bd(i,e,n){const o=An(i);var l;(l=(0,u.Z)(function*(m,b,P){try{const te=yield b.getMetadata();if(yield function(qt,In){const Sn=An(qt),yr=To(In.createTime);return Sn.persistence.runTransaction("hasNewerBundle","readonly",hi=>Sn._s.getBundleMetadata(hi,In.id)).then(hi=>!!hi&&hi.createTime.compareTo(yr)>=0)}(m.localStore,te))return yield b.close(),P._completeWith({taskState:"Success",documentsLoaded:(qt=te).totalDocuments,bytesLoaded:qt.totalBytes,totalDocuments:qt.totalDocuments,totalBytes:qt.totalBytes}),Promise.resolve(new Set);P._updateProgress(Mh(te));const pe=new r_(te,m.localStore,b.M);let nt=yield b.da();for(;nt;){const qt=yield pe.ku(nt);qt&&P._updateProgress(qt),nt=yield b.da()}const wt=yield pe.complete();return yield $l(m,wt.Fu,void 0),yield function(qt,In){const Sn=An(qt);return Sn.persistence.runTransaction("Save bundle","readwrite",yr=>Sn._s.saveBundleMetadata(yr,In))}(m.localStore,te),P._completeWith(wt.progress),Promise.resolve(wt.Ou)}catch(te){return ws("SyncEngine",`Loading bundle failed with ${te}`),P._failWith(te),Promise.resolve(new Set)}var qt}),function(m,b,P){return l.apply(this,arguments)})(o,e,n).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield Bh(i),l,o)}))}(n,i._databaseId,e,o),o}function vp(i,e){return function g_(i,e){return i.asyncQueue.enqueue((0,u.Z)(function*(){return function(n,o){const l=An(n);return l.persistence.runTransaction("Get named query","readonly",m=>l._s.getNamedQuery(m,o))}(yield Vh(i),e)}))}(mo(i=Hi(i,Ss)),e).then(n=>n?new ya(i,null,n.query):null)}function og(i){if(i._initialized||i._terminated)throw new Dn(zt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Dn(zt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pu(ls.fromBase64String(e))}catch(n){throw new Dn(zt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pu(ls.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mu{constructor(e){this._methodName=e}}class $c{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Dn(zt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Dn(zt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}}const T_=/^__.*__$/;class Gh{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new ml(e,this.data,n,this.fieldTransforms)}}class Ud{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Xa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Kh(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xn()}}class Ep{constructor(e,n,o,l,m,b){this.settings=e,this.databaseId=n,this.M=o,this.ignoreUndefinedProperties=l,void 0===m&&this.Ya(),this.fieldTransforms=m||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new Ep(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Za({path:o,ec:!1});return l.nc(e),l}sc(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Za({path:o,ec:!1});return l.Ya(),l}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return zc(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(Kh(this.Xa)&&T_.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class S_{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=o||Fc(e)}ac(e,n,o,l=!1){return new Ep({Xa:e,methodName:n,uc:o,path:hs.emptyPath(),ec:!1,oc:l},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Wl(i){const e=i._freezeSettings(),n=Fc(i._databaseId);return new S_(i._databaseId,!!e.ignoreUndefinedProperties,n)}function vc(i,e,n,o,l,m={}){const b=i.ac(m.merge||m.mergeFields?2:0,e,n,l);Tp("Data must be an object, but it was:",b,o);const P=Zh(o,b);let te,pe;if(m.merge)te=new bo(b.fieldMask),pe=b.fieldTransforms;else if(m.mergeFields){const nt=[];for(const wt of m.mergeFields){const qt=Yh(e,wt,n);if(!b.contains(qt))throw new Dn(zt.INVALID_ARGUMENT,`Field '${qt}' is specified in your field mask but missing from your input data.`);Sp(nt,qt)||nt.push(qt)}te=new bo(nt),pe=b.fieldTransforms.filter(wt=>te.covers(wt.field))}else te=null,pe=b.fieldTransforms;return new Gh(new Ms(P),te,pe)}class Ec extends mu{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ec}}function bp(i,e,n){return new Ep({Xa:3,uc:e.settings.uc,methodName:i._methodName,ec:n},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Hd extends mu{_toFieldTransform(e){return new Ql(e.path,new Pl)}isEqual(e){return e instanceof Hd}}class ag extends mu{constructor(e,n){super(e),this.cc=n}_toFieldTransform(e){const n=bp(this,e,!0),o=this.cc.map(m=>Bu(m,n)),l=new Aa(o);return new Ql(e.path,l)}isEqual(e){return this===e}}class lg extends mu{constructor(e,n){super(e),this.cc=n}_toFieldTransform(e){const n=bp(this,e,!0),o=this.cc.map(m=>Bu(m,n)),l=new Ma(o);return new Ql(e.path,l)}isEqual(e){return this===e}}class wp extends mu{constructor(e,n){super(e),this.hc=n}_toFieldTransform(e){const n=new Ya(e.M,fl(e.M,this.hc));return new Ql(e.path,n)}isEqual(e){return this===e}}function qh(i,e,n,o){const l=i.ac(1,e,n);Tp("Data must be an object, but it was:",l,o);const m=[],b=Ms.empty();Oo(o,(te,pe)=>{const nt=Wc(e,te,n);pe=(0,Ce.m9)(pe);const wt=l.sc(nt);if(pe instanceof Ec)m.push(nt);else{const qt=Bu(pe,wt);null!=qt&&(m.push(nt),b.set(nt,qt))}});const P=new bo(m);return new Ud(b,P,l.fieldTransforms)}function Cp(i,e,n,o,l,m){const b=i.ac(1,e,n),P=[Yh(e,o,n)],te=[l];if(m.length%2!=0)throw new Dn(zt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let qt=0;qt<m.length;qt+=2)P.push(Yh(e,m[qt])),te.push(m[qt+1]);const pe=[],nt=Ms.empty();for(let qt=P.length-1;qt>=0;--qt)if(!Sp(pe,P[qt])){const In=P[qt];let Sn=te[qt];Sn=(0,Ce.m9)(Sn);const yr=b.sc(In);if(Sn instanceof Ec)pe.push(In);else{const hi=Bu(Sn,yr);null!=hi&&(pe.push(In),nt.set(In,hi))}}const wt=new bo(pe);return new Ud(nt,wt,b.fieldTransforms)}function Dp(i,e,n,o=!1){return Bu(n,i.ac(o?4:3,e))}function Bu(i,e){if(Ip(i=(0,Ce.m9)(i)))return Tp("Unsupported field value:",e,i),Zh(i,e);if(i instanceof mu)return function(n,o){if(!Kh(o.Xa))throw o.rc(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.rc(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(n,o){const l=[];let m=0;for(const b of n){let P=Bu(b,o.ic(m));null==P&&(P={nullValue:"NULL_VALUE"}),l.push(P),m++}return{arrayValue:{values:l}}}(i,e)}return function(n,o){if(null===(n=(0,Ce.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return fl(o.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const l=xr.fromDate(n);return{timestampValue:ja(o.M,l)}}if(n instanceof xr){const l=new xr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ja(o.M,l)}}if(n instanceof $c)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof pu)return{bytesValue:cf(o.M,n._byteString)};if(n instanceof io){const l=o.databaseId,m=n.firestore._databaseId;if(!m.isEqual(l))throw o.rc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:_l(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.rc(`Unsupported field value: ${jh(n)}`)}(i,e)}function Zh(i,e){const n={};return jo(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(i,(o,l)=>{const m=Bu(l,e.tc(o));null!=m&&(n[o]=m)}),{mapValue:{fields:n}}}function Ip(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof xr||i instanceof $c||i instanceof pu||i instanceof io||i instanceof mu)}function Tp(i,e,n){if(!Ip(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=jh(n);throw e.rc("an object"===o?i+" a custom object":i+" "+o)}var o}function Yh(i,e,n){if((e=(0,Ce.m9)(e))instanceof yc)return e._internalPath;if("string"==typeof e)return Wc(i,e);throw zc("Field path arguments must be of type string or ",i,!1,void 0,n)}const ug=new RegExp("[~\\*/\\[\\]]");function Wc(i,e,n){if(e.search(ug)>=0)throw zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new yc(...e.split("."))._internalPath}catch(o){throw zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function zc(i,e,n,o,l){const m=o&&!o.isEmpty(),b=void 0!==l;let P=`Function ${e}() called with invalid data`;n&&(P+=" (via `toFirestore()`)"),P+=". ";let te="";return(m||b)&&(te+=" (found",m&&(te+=` in field ${o}`),b&&(te+=` in document ${l}`),te+=")"),new Dn(zt.INVALID_ARGUMENT,P+i+te)}function Sp(i,e){return i.some(n=>n.isEqual(e))}class Gc{constructor(e,n,o,l,m){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=l,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new io(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class cg extends Gc{data(){return super.data()}}function jd(i,e){return"string"==typeof e?Wc(i,e):e instanceof yc?e._internalPath:e._delegate._internalPath}class Uu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hu extends Gc{constructor(e,n,o,l,m,b){super(e,n,o,l,b),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(jd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Kc extends Hu{data(e={}){return super.data(e)}}class ju{constructor(e,n,o,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Uu(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Kc(this._firestore,this._userDataWriter,o.key,o,new Uu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Dn(zt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map(b=>({type:"added",doc:new Kc(o._firestore,o._userDataWriter,b.doc.key,b.doc,new Uu(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:m++}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(b=>l||3!==b.type).map(b=>{const P=new Kc(o._firestore,o._userDataWriter,b.doc.key,b.doc,new Uu(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter);let te=-1,pe=-1;return 0!==b.type&&(te=m.indexOf(b.doc.key),m=m.delete(b.doc.key)),1!==b.type&&(m=m.add(b.doc),pe=m.indexOf(b.doc.key)),{type:Xy(b.type),doc:P,oldIndex:te,newIndex:pe}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Xy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xn()}}function A_(i,e){return i instanceof Hu&&e instanceof Hu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof ju&&e instanceof ju&&i._firestore===e._firestore&&_c(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function dg(i){if(ul(i)&&0===i.explicitOrderBy.length)throw new Dn(zt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qc{}function M_(i,...e){for(const n of e)i=n._apply(i);return i}class Ao extends qc{constructor(e,n,o){super(),this.lc=e,this.fc=n,this.dc=o,this.type="where"}_apply(e){const n=Wl(e.firestore),o=function(l,m,b,P,te,pe,nt){let wt;if(te.isKeyField()){if("array-contains"===pe||"array-contains-any"===pe)throw new Dn(zt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${pe}' queries on documentId().`);if("in"===pe||"not-in"===pe){Qh(nt,pe);const In=[];for(const Sn of nt)In.push(P_(P,l,Sn));wt={arrayValue:{values:In}}}else wt=P_(P,l,nt)}else"in"!==pe&&"not-in"!==pe&&"array-contains-any"!==pe||Qh(nt,pe),wt=Dp(b,"where",nt,"in"===pe||"not-in"===pe);const qt=ce.create(te,pe,wt);return function(In,Sn){if(Sn.S()){const hi=Ia(In);if(null!==hi&&!hi.isEqual(Sn.field))throw new Dn(zt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${hi.toString()}' and '${Sn.field.toString()}'`);const Ws=cl(In);null!==Ws&&Xh(0,Sn.field,Ws)}const yr=function(hi,Ws){for(const go of hi.filters)if(Ws.indexOf(go.op)>=0)return go.op;return null}(In,function(hi){switch(hi){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Sn.op));if(null!==yr)throw new Dn(zt.INVALID_ARGUMENT,yr===Sn.op?`Invalid query. You cannot use more than one '${Sn.op.toString()}' filter.`:`Invalid query. You cannot use '${Sn.op.toString()}' filters with '${yr.toString()}' filters.`)}(l,qt),qt}(e._query,0,n,e.firestore._databaseId,this.lc,this.fc,this.dc);return new ya(e.firestore,e.converter,function(l,m){const b=l.filters.concat([m]);return new Rs(l.path,l.collectionGroup,l.explicitOrderBy.slice(),b,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,o))}}function hg(i,e,n){const o=e,l=jd("where",i);return new Ao(l,o,n)}class x_ extends qc{constructor(e,n){super(),this.lc=e,this._c=n,this.type="orderBy"}_apply(e){const n=function(o,l,m){if(null!==o.startAt)throw new Dn(zt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Dn(zt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new Is(l,m);return function(P,te){if(null===cl(P)){const pe=Ia(P);null!==pe&&Xh(0,pe,te.field)}}(o,b),b}(e._query,this.lc,this._c);return new ya(e.firestore,e.converter,function(o,l){const m=o.explicitOrderBy.concat([l]);return new Rs(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function R_(i,e="asc"){const n=e,o=jd("orderBy",i);return new x_(o,n)}class Ap extends qc{constructor(e,n,o){super(),this.type=e,this.wc=n,this.mc=o}_apply(e){return new ya(e.firestore,e.converter,dl(e._query,this.wc,this.mc))}}function O_(i){return Ym("limit",i),new Ap("limit",i,"F")}function fg(i){return Ym("limitToLast",i),new Ap("limitToLast",i,"L")}class Mp extends qc{constructor(e,n,o){super(),this.type=e,this.gc=n,this.yc=o}_apply(e){const n=xp(e,this.type,this.gc,this.yc);return new ya(e.firestore,e.converter,(l=n,new Rs((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}function Zc(...i){return new Mp("startAt",i,!0)}function k_(...i){return new Mp("startAfter",i,!1)}class pg extends qc{constructor(e,n,o){super(),this.type=e,this.gc=n,this.yc=o}_apply(e){const n=xp(e,this.type,this.gc,this.yc);return new ya(e.firestore,e.converter,(l=n,new Rs((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function mg(...i){return new pg("endBefore",i,!1)}function N_(...i){return new pg("endAt",i,!0)}function xp(i,e,n,o){if(n[0]=(0,Ce.m9)(n[0]),n[0]instanceof Gc)return function(l,m,b,P,te){if(!P)throw new Dn(zt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const pe=[];for(const nt of Ol(l))if(nt.field.isKeyField())pe.push(ca(m,P.key));else{const wt=P.data.field(nt.field);if(Al(wt))throw new Dn(zt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+nt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===wt){const qt=nt.field.canonicalString();throw new Dn(zt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${qt}' (used as the orderBy) does not exist.`)}pe.push(wt)}return new Sr(pe,te)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const l=Wl(i.firestore);return function(m,b,P,te,pe,nt){const wt=m.explicitOrderBy;if(pe.length>wt.length)throw new Dn(zt.INVALID_ARGUMENT,`Too many arguments provided to ${te}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const qt=[];for(let In=0;In<pe.length;In++){const Sn=pe[In];if(wt[In].field.isKeyField()){if("string"!=typeof Sn)throw new Dn(zt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${te}(), but got a ${typeof Sn}`);if(!Rl(m)&&-1!==Sn.indexOf("/"))throw new Dn(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${te}() must be a plain document ID, but '${Sn}' contains a slash.`);const yr=m.path.child(vi.fromString(Sn));if(!Wn.isDocumentKey(yr))throw new Dn(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${te}() must result in a valid document path, but '${yr}' is not because it contains an odd number of segments.`);const hi=new Wn(yr);qt.push(ca(b,hi))}else{const yr=Dp(P,te,Sn);qt.push(yr)}}return new Sr(qt,nt)}(i._query,i.firestore._databaseId,l,e,n,o)}}function P_(i,e,n){if("string"==typeof(n=(0,Ce.m9)(n))){if(""===n)throw new Dn(zt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rl(e)&&-1!==n.indexOf("/"))throw new Dn(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(vi.fromString(n));if(!Wn.isDocumentKey(o))throw new Dn(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ca(i,new Wn(o))}if(n instanceof io)return ca(i,n._key);throw new Dn(zt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(n)}.`)}function Qh(i,e){if(!Array.isArray(i)||0===i.length)throw new Dn(zt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Dn(zt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Xh(i,e,n){if(!n.isEqual(e))throw new Dn(zt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class sl{convertValue(e,n="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Xn()}}convertObject(e,n){const o={};return Oo(e.fields,(l,m)=>{o[l]=this.convertValue(m,n)}),o}convertGeoPoint(e){return new $c(Pi(e.latitude),Pi(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Ml(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(wo(e));default:return null}}convertTimestamp(e){const n=to(e);return new xr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=vi.fromString(e);Cr(Qd(o));const l=new ba(o.get(1),o.get(3)),m=new Wn(o.popFirst(5));return l.isEqual(n)||ai(`Document ${m} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),m}}function Jh(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class F_ extends sl{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new io(this.firestore,null,n)}}class Cl{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Wl(e)}set(e,n,o){this._verifyNotCommitted();const l=Vo(e,this._firestore),m=Jh(l.converter,n,o),b=vc(this._dataReader,"WriteBatch.set",l._key,m,null!==l.converter,o);return this._mutations.push(b.toMutation(l._key,Ts.none())),this}update(e,n,o,...l){this._verifyNotCommitted();const m=Vo(e,this._firestore);let b;return b="string"==typeof(n=(0,Ce.m9)(n))||n instanceof yc?Cp(this._dataReader,"WriteBatch.update",m._key,n,o,l):qh(this._dataReader,"WriteBatch.update",m._key,n),this._mutations.push(b.toMutation(m._key,Ts.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Vo(e,this._firestore);return this._mutations=this._mutations.concat(new g(n._key,Ts.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Dn(zt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vo(i,e){if((i=(0,Ce.m9)(i)).firestore!==e)throw new Dn(zt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Dl(i){i=Hi(i,io);const e=Hi(i.firestore,Ss);return gp(mo(e),i._key).then(n=>Yc(e,i,n))}class $u extends sl{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new io(this.firestore,null,n)}}function gg(i){i=Hi(i,io);const e=Hi(i.firestore,Ss),n=mo(e),o=new $u(e);return function Wm(i,e){const n=new Ui;return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return(o=(0,u.Z)(function*(l,m,b){try{const P=yield function(te,pe){const nt=An(te);return nt.persistence.runTransaction("read document","readonly",wt=>nt.ci.Ls(wt,pe))}(l,m);P.isFoundDocument()?b.resolve(P):P.isNoDocument()?b.resolve(null):b.reject(new Dn(zt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const te=uc(P,`Failed to get document '${m} from cache`);b.reject(te)}}),function(l,m,b){return o.apply(this,arguments)})(yield Vh(i),e,n);var o})),n.promise}(n,i._key).then(l=>new Hu(e,o,i._key,l,new Uu(null!==l&&l.hasLocalMutations,!0),i.converter))}function L_(i){i=Hi(i,io);const e=Hi(i.firestore,Ss);return gp(mo(e),i._key,{source:"server"}).then(n=>Yc(e,i,n))}function V_(i){i=Hi(i,ya);const e=Hi(i.firestore,Ss),n=mo(e),o=new $u(e);return dg(i._query),_p(n,i._query).then(l=>new ju(e,o,i,l))}function B_(i){i=Hi(i,ya);const e=Hi(i.firestore,Ss),n=mo(e),o=new $u(e);return function p_(i,e){const n=new Ui;return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return(o=(0,u.Z)(function*(l,m,b){try{const P=yield Pf(l,m,!0),te=new Qf(m,P.li),pe=te.Gu(P.documents),nt=te.applyChanges(pe,!1);b.resolve(nt.snapshot)}catch(P){const te=uc(P,`Failed to execute query '${m} against cache`);b.reject(te)}}),function(l,m,b){return o.apply(this,arguments)})(yield Vh(i),e,n);var o})),n.promise}(n,i._query).then(l=>new ju(e,o,i,l))}function U_(i){i=Hi(i,ya);const e=Hi(i.firestore,Ss),n=mo(e),o=new $u(e);return _p(n,i._query,{source:"server"}).then(l=>new ju(e,o,i,l))}function Rp(i,e,n){i=Hi(i,io);const o=Hi(i.firestore,Ss),l=Jh(i.converter,e,n);return bc(o,[vc(Wl(o),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,Ts.none())])}function $d(i,e,n,...o){i=Hi(i,io);const l=Hi(i.firestore,Ss),m=Wl(l);let b;return b="string"==typeof(e=(0,Ce.m9)(e))||e instanceof yc?Cp(m,"updateDoc",i._key,e,n,o):qh(m,"updateDoc",i._key,e),bc(l,[b.toMutation(i._key,Ts.exists(!0))])}function H_(i){return bc(Hi(i.firestore,Ss),[new g(i._key,Ts.none())])}function _g(i,e){const n=Hi(i.firestore,Ss),o=v_(i),l=Jh(i.converter,e);return bc(n,[vc(Wl(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,Ts.exists(!1))]).then(()=>o)}function j_(i,...e){var n,o,l;i=(0,Ce.m9)(i);let m={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||Wh(e[b])||(m=e[b],b++);const P={includeMetadataChanges:m.includeMetadataChanges};if(Wh(e[b])){const wt=e[b];e[b]=null===(n=wt.next)||void 0===n?void 0:n.bind(wt),e[b+1]=null===(o=wt.error)||void 0===o?void 0:o.bind(wt),e[b+2]=null===(l=wt.complete)||void 0===l?void 0:l.bind(wt)}let te,pe,nt;if(i instanceof io)pe=Hi(i.firestore,Ss),nt=Ys(i._key.path),te={next:wt=>{e[b]&&e[b](Yc(pe,i,wt))},error:e[b+1],complete:e[b+2]};else{const wt=Hi(i,ya);pe=Hi(wt.firestore,Ss),nt=wt._query;const qt=new $u(pe);te={next:In=>{e[b]&&e[b](new ju(pe,qt,wt,In))},error:e[b+1],complete:e[b+2]},dg(i._query)}return function(wt,qt,In,Sn){const yr=new So(Sn),hi=new Ah(qt,yr,In);return wt.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return Mm(yield mc(wt),hi)})),()=>{yr.Ia(),wt.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return Sh(yield mc(wt),hi)}))}}(mo(pe),nt,P,te)}function yg(i,e){return function m_(i,e){const n=new So(e);return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return o=yield mc(i),l=n,An(o).Eu.add(l),void l.next();var o,l})),()=>{n.Ia(),i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return o=yield mc(i),l=n,void An(o).Eu.delete(l);var o,l}))}}(mo(i=Hi(i,Ss)),Wh(e)?e:{next:e})}function bc(i,e){return function(n,o){const l=new Ui;return n.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function bl(i,e,n){return Fd.apply(this,arguments)}(yield Bh(n),o,l)})),l.promise}(mo(i),e)}function Yc(i,e,n){const o=n.docs.get(e._key),l=new $u(i);return new Hu(i,l,e._key,o,new Uu(n.hasPendingWrites,n.fromCache),e.converter)}class $_ extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Wl(e)}get(e){const n=Vo(e,this._firestore),o=new F_(this._firestore);return this._transaction.lookup([n._key]).then(l=>{if(!l||1!==l.length)return Xn();const m=l[0];if(m.isFoundDocument())return new Gc(this._firestore,o,m.key,m,n.converter);if(m.isNoDocument())return new Gc(this._firestore,o,n._key,null,n.converter);throw Xn()})}set(e,n,o){const l=Vo(e,this._firestore),m=Jh(l.converter,n,o),b=vc(this._dataReader,"Transaction.set",l._key,m,null!==l.converter,o);return this._transaction.set(l._key,b),this}update(e,n,o,...l){const m=Vo(e,this._firestore);let b;return b="string"==typeof(n=(0,Ce.m9)(n))||n instanceof yc?Cp(this._dataReader,"Transaction.update",m._key,n,o,l):qh(this._dataReader,"Transaction.update",m._key,n),this._transaction.update(m._key,b),this}delete(e){const n=Vo(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Vo(e,this._firestore),o=new $u(this._firestore);return super.get(e).then(l=>new Hu(this._firestore,o,n._key,l._document,new Uu(!1,!1),n.converter))}}function vg(i,e){return function zm(i,e){const n=new Ui;return i.asyncQueue.enqueueAndForget((0,u.Z)(function*(){const o=yield(l=i,hu(l).then(m=>m.datastore));var l;new il(i.asyncQueue,o,e,n).run()})),n.promise}(mo(i=Hi(i,Ss)),n=>e(new $_(i,n)))}function Eg(){return new Ec("deleteField")}function Op(){return new Hd("serverTimestamp")}function ef(...i){return new ag("arrayUnion",i)}function kp(...i){return new lg("arrayRemove",i)}function bg(i){return new wp("increment",i)}!function(i,e=!0){Ki=C.SDK_VERSION,(0,C._registerComponent)(new G.wA("firestore",(n,{options:o})=>{const l=n.getProvider("app").getImmediate(),m=new Ss(l,new x(n.getProvider("auth-internal")),new ve(n.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),m._setSettings(o),m},"PUBLIC")),(0,C.registerVersion)(as,"3.4.8",i),(0,C.registerVersion)(as,"3.4.8","esm2017")}()},2090:(fn,ht,S)=>{S.d(ht,{BH:()=>tt,LL:()=>Kt,ZR:()=>ut,gQ:()=>Pr,zI:()=>mt,hu:()=>G,g5:()=>z,US:()=>ze,tV:()=>me,h$:()=>ge,L:()=>ke,$s:()=>wr,r3:()=>an,Sg:()=>Ze,ne:()=>bn,p$:()=>Te,vZ:()=>cr,ZB:()=>Fe,Lj:()=>be,gK:()=>nn,pd:()=>dr,m9:()=>at,z$:()=>Dt,GJ:()=>sn,jU:()=>Ye,ru:()=>Ut,d:()=>De,xb:()=>vr,w1:()=>Se,hl:()=>kt,uI:()=>Je,UG:()=>pt,Yr:()=>le,b$:()=>$e,G6:()=>Tt,Mn:()=>Le,w9:()=>vt,cI:()=>rn,UI:()=>Kn,X3:()=>L,xO:()=>Pn,zd:()=>mr,DV:()=>Gn,ug:()=>Ve,dS:()=>Mt,Pz:()=>At,Dv:()=>Ir,Wj:()=>Et,lb:()=>Qe,eu:()=>_t});var u=S(5861);const G=function(Ae,Ne){if(!Ae)throw z(Ne)},z=function(Ae){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ae)},Ce=function(Ae){const Ne=[];let Ge=0;for(let It=0;It<Ae.length;It++){let we=Ae.charCodeAt(It);we<128?Ne[Ge++]=we:we<2048?(Ne[Ge++]=we>>6|192,Ne[Ge++]=63&we|128):55296==(64512&we)&&It+1<Ae.length&&56320==(64512&Ae.charCodeAt(It+1))?(we=65536+((1023&we)<<10)+(1023&Ae.charCodeAt(++It)),Ne[Ge++]=we>>18|240,Ne[Ge++]=we>>12&63|128,Ne[Ge++]=we>>6&63|128,Ne[Ge++]=63&we|128):(Ne[Ge++]=we>>12|224,Ne[Ge++]=we>>6&63|128,Ne[Ge++]=63&we|128)}return Ne},ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ae,Ne){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ge=Ne?this.byteToCharMapWebSafe_:this.byteToCharMap_,It=[];for(let we=0;we<Ae.length;we+=3){const Re=Ae[we],se=we+1<Ae.length,_e=se?Ae[we+1]:0,J=we+2<Ae.length,Q=J?Ae[we+2]:0;let gt=(15&_e)<<2|Q>>6,Ht=63&Q;J||(Ht=64,se||(gt=64)),It.push(Ge[Re>>2],Ge[(3&Re)<<4|_e>>4],Ge[gt],Ge[Ht])}return It.join("")},encodeString(Ae,Ne){return this.HAS_NATIVE_SUPPORT&&!Ne?btoa(Ae):this.encodeByteArray(Ce(Ae),Ne)},decodeString(Ae,Ne){return this.HAS_NATIVE_SUPPORT&&!Ne?atob(Ae):function(Ae){const Ne=[];let Ge=0,It=0;for(;Ge<Ae.length;){const we=Ae[Ge++];if(we<128)Ne[It++]=String.fromCharCode(we);else if(we>191&&we<224){const Re=Ae[Ge++];Ne[It++]=String.fromCharCode((31&we)<<6|63&Re)}else if(we>239&&we<365){const J=((7&we)<<18|(63&Ae[Ge++])<<12|(63&Ae[Ge++])<<6|63&Ae[Ge++])-65536;Ne[It++]=String.fromCharCode(55296+(J>>10)),Ne[It++]=String.fromCharCode(56320+(1023&J))}else{const Re=Ae[Ge++],se=Ae[Ge++];Ne[It++]=String.fromCharCode((15&we)<<12|(63&Re)<<6|63&se)}}return Ne.join("")}(this.decodeStringToByteArray(Ae,Ne))},decodeStringToByteArray(Ae,Ne){this.init_();const Ge=Ne?this.charToByteMapWebSafe_:this.charToByteMap_,It=[];for(let we=0;we<Ae.length;){const Re=Ge[Ae.charAt(we++)],_e=we<Ae.length?Ge[Ae.charAt(we)]:0;++we;const Q=we<Ae.length?Ge[Ae.charAt(we)]:64;++we;const Pe=we<Ae.length?Ge[Ae.charAt(we)]:64;if(++we,null==Re||null==_e||null==Q||null==Pe)throw Error();It.push(Re<<2|_e>>4),64!==Q&&(It.push(_e<<4&240|Q>>2),64!==Pe&&It.push(Q<<6&192|Pe))}return It},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}},ge=function(Ae){const Ne=Ce(Ae);return ze.encodeByteArray(Ne,!0)},ke=function(Ae){return ge(Ae).replace(/\./g,"")},me=function(Ae){try{return ze.decodeString(Ae,!0)}catch(Ne){console.error("base64Decode failed: ",Ne)}return null};function Te(Ae){return Fe(void 0,Ae)}function Fe(Ae,Ne){if(!(Ne instanceof Object))return Ne;switch(Ne.constructor){case Date:return new Date(Ne.getTime());case Object:void 0===Ae&&(Ae={});break;case Array:Ae=[];break;default:return Ne}for(const Ge in Ne)!Ne.hasOwnProperty(Ge)||!Xe(Ge)||(Ae[Ge]=Fe(Ae[Ge],Ne[Ge]));return Ae}function Xe(Ae){return"__proto__"!==Ae}class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ne,Ge)=>{this.resolve=Ne,this.reject=Ge})}wrapCallback(Ne){return(Ge,It)=>{Ge?this.reject(Ge):this.resolve(It),"function"==typeof Ne&&(this.promise.catch(()=>{}),1===Ne.length?Ne(Ge):Ne(Ge,It))}}}function Ze(Ae,Ne){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const It=Ne||"demo-project",we=Ae.iat||0,Re=Ae.sub||Ae.user_id;if(!Re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const se=Object.assign({iss:`https://securetoken.google.com/${It}`,aud:It,iat:we,exp:we+3600,auth_time:we,sub:Re,user_id:Re,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[ke(JSON.stringify({alg:"none",type:"JWT"})),ke(JSON.stringify(se)),""].join(".")}function Dt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Je(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function pt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ae){return!1}}function Ye(){return"object"==typeof self&&self.self===self}function Ut(){const Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function $e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function De(){return Dt().indexOf("Electron/")>=0}function Se(){const Ae=Dt();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function Le(){return Dt().indexOf("MSAppHost/")>=0}function le(){return!1}function Tt(){return!pt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kt(){return"object"==typeof indexedDB}function _t(){return new Promise((Ae,Ne)=>{try{let Ge=!0;const It="validate-browser-context-for-indexeddb-analytics-module",we=self.indexedDB.open(It);we.onsuccess=()=>{we.result.close(),Ge||self.indexedDB.deleteDatabase(It),Ae(!0)},we.onupgradeneeded=()=>{Ge=!1},we.onerror=()=>{var Re;Ne((null===(Re=we.error)||void 0===Re?void 0:Re.message)||"")}}catch(Ge){Ne(Ge)}})}function mt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ut extends Error{constructor(Ne,Ge,It){super(Ge),this.code=Ne,this.customData=It,this.name="FirebaseError",Object.setPrototypeOf(this,ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kt.prototype.create)}}class Kt{constructor(Ne,Ge,It){this.service=Ne,this.serviceName=Ge,this.errors=It}create(Ne,...Ge){const It=Ge[0]||{},we=`${this.service}/${Ne}`,Re=this.errors[Ne],se=Re?function tn(Ae,Ne){return Ae.replace(dn,(Ge,It)=>{const we=Ne[It];return null!=we?String(we):`<${It}?>`})}(Re,It):"Error";return new ut(we,`${this.serviceName}: ${se} (${we}).`,It)}}const dn=/\{\$([^}]+)}/g;function rn(Ae){return JSON.parse(Ae)}function At(Ae){return JSON.stringify(Ae)}const Bt=function(Ae){let Ne={},Ge={},It={},we="";try{const Re=Ae.split(".");Ne=rn(me(Re[0])||""),Ge=rn(me(Re[1])||""),we=Re[2],It=Ge.d||{},delete Ge.d}catch(Re){}return{header:Ne,claims:Ge,data:It,signature:we}},vt=function(Ae){const Ge=Bt(Ae).claims;return!!Ge&&"object"==typeof Ge&&Ge.hasOwnProperty("iat")},sn=function(Ae){const Ne=Bt(Ae).claims;return"object"==typeof Ne&&!0===Ne.admin};function an(Ae,Ne){return Object.prototype.hasOwnProperty.call(Ae,Ne)}function Gn(Ae,Ne){if(Object.prototype.hasOwnProperty.call(Ae,Ne))return Ae[Ne]}function vr(Ae){for(const Ne in Ae)if(Object.prototype.hasOwnProperty.call(Ae,Ne))return!1;return!0}function Kn(Ae,Ne,Ge){const It={};for(const we in Ae)Object.prototype.hasOwnProperty.call(Ae,we)&&(It[we]=Ne.call(Ge,Ae[we],we,Ae));return It}function cr(Ae,Ne){if(Ae===Ne)return!0;const Ge=Object.keys(Ae),It=Object.keys(Ne);for(const we of Ge){if(!It.includes(we))return!1;const Re=Ae[we],se=Ne[we];if(sr(Re)&&sr(se)){if(!cr(Re,se))return!1}else if(Re!==se)return!1}for(const we of It)if(!Ge.includes(we))return!1;return!0}function sr(Ae){return null!==Ae&&"object"==typeof Ae}function Pn(Ae){const Ne=[];for(const[Ge,It]of Object.entries(Ae))Array.isArray(It)?It.forEach(we=>{Ne.push(encodeURIComponent(Ge)+"="+encodeURIComponent(we))}):Ne.push(encodeURIComponent(Ge)+"="+encodeURIComponent(It));return Ne.length?"&"+Ne.join("&"):""}function mr(Ae){const Ne={};return Ae.replace(/^\?/,"").split("&").forEach(It=>{if(It){const[we,Re]=It.split("=");Ne[decodeURIComponent(we)]=decodeURIComponent(Re)}}),Ne}function dr(Ae){const Ne=Ae.indexOf("?");if(!Ne)return"";const Ge=Ae.indexOf("#",Ne);return Ae.substring(Ne,Ge>0?Ge:void 0)}class Pr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ne=1;Ne<this.blockSize;++Ne)this.pad_[Ne]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ne,Ge){Ge||(Ge=0);const It=this.W_;if("string"==typeof Ne)for(let Pe=0;Pe<16;Pe++)It[Pe]=Ne.charCodeAt(Ge)<<24|Ne.charCodeAt(Ge+1)<<16|Ne.charCodeAt(Ge+2)<<8|Ne.charCodeAt(Ge+3),Ge+=4;else for(let Pe=0;Pe<16;Pe++)It[Pe]=Ne[Ge]<<24|Ne[Ge+1]<<16|Ne[Ge+2]<<8|Ne[Ge+3],Ge+=4;for(let Pe=16;Pe<80;Pe++){const gt=It[Pe-3]^It[Pe-8]^It[Pe-14]^It[Pe-16];It[Pe]=4294967295&(gt<<1|gt>>>31)}let Q,ne,we=this.chain_[0],Re=this.chain_[1],se=this.chain_[2],_e=this.chain_[3],J=this.chain_[4];for(let Pe=0;Pe<80;Pe++){Pe<40?Pe<20?(Q=_e^Re&(se^_e),ne=1518500249):(Q=Re^se^_e,ne=1859775393):Pe<60?(Q=Re&se|_e&(Re|se),ne=2400959708):(Q=Re^se^_e,ne=3395469782);const gt=(we<<5|we>>>27)+Q+J+ne+It[Pe]&4294967295;J=_e,_e=se,se=4294967295&(Re<<30|Re>>>2),Re=we,we=gt}this.chain_[0]=this.chain_[0]+we&4294967295,this.chain_[1]=this.chain_[1]+Re&4294967295,this.chain_[2]=this.chain_[2]+se&4294967295,this.chain_[3]=this.chain_[3]+_e&4294967295,this.chain_[4]=this.chain_[4]+J&4294967295}update(Ne,Ge){if(null==Ne)return;void 0===Ge&&(Ge=Ne.length);const It=Ge-this.blockSize;let we=0;const Re=this.buf_;let se=this.inbuf_;for(;we<Ge;){if(0===se)for(;we<=It;)this.compress_(Ne,we),we+=this.blockSize;if("string"==typeof Ne){for(;we<Ge;)if(Re[se]=Ne.charCodeAt(we),++se,++we,se===this.blockSize){this.compress_(Re),se=0;break}}else for(;we<Ge;)if(Re[se]=Ne[we],++se,++we,se===this.blockSize){this.compress_(Re),se=0;break}}this.inbuf_=se,this.total_+=Ge}digest(){const Ne=[];let Ge=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let we=this.blockSize-1;we>=56;we--)this.buf_[we]=255&Ge,Ge/=256;this.compress_(this.buf_);let It=0;for(let we=0;we<5;we++)for(let Re=24;Re>=0;Re-=8)Ne[It]=this.chain_[we]>>Re&255,++It;return Ne}}function bn(Ae,Ne){const Ge=new En(Ae,Ne);return Ge.subscribe.bind(Ge)}class En{constructor(Ne,Ge){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ge,this.task.then(()=>{Ne(this)}).catch(It=>{this.error(It)})}next(Ne){this.forEachObserver(Ge=>{Ge.next(Ne)})}error(Ne){this.forEachObserver(Ge=>{Ge.error(Ne)}),this.close(Ne)}complete(){this.forEachObserver(Ne=>{Ne.complete()}),this.close()}subscribe(Ne,Ge,It){let we;if(void 0===Ne&&void 0===Ge&&void 0===It)throw new Error("Missing Observer.");we=function $n(Ae,Ne){if("object"!=typeof Ae||null===Ae)return!1;for(const Ge of Ne)if(Ge in Ae&&"function"==typeof Ae[Ge])return!0;return!1}(Ne,["next","error","complete"])?Ne:{next:Ne,error:Ge,complete:It},void 0===we.next&&(we.next=hr),void 0===we.error&&(we.error=hr),void 0===we.complete&&(we.complete=hr);const Re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?we.error(this.finalError):we.complete()}catch(se){}}),this.observers.push(we),Re}unsubscribeOne(Ne){void 0===this.observers||void 0===this.observers[Ne]||(delete this.observers[Ne],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ne){if(!this.finalized)for(let Ge=0;Ge<this.observers.length;Ge++)this.sendOne(Ge,Ne)}sendOne(Ne,Ge){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ne])try{Ge(this.observers[Ne])}catch(It){"undefined"!=typeof console&&console.error&&console.error(It)}})}close(Ne){this.finalized||(this.finalized=!0,void 0!==Ne&&(this.finalError=Ne),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hr(){}const Ir=function(Ae,Ne,Ge,It){let we;if(It<Ne?we="at least "+Ne:It>Ge&&(we=0===Ge?"none":"no more than "+Ge),we)throw new Error(Ae+" failed: Was called with "+It+(1===It?" argument.":" arguments.")+" Expects "+we+".")};function nn(Ae,Ne){return`${Ae} failed: ${Ne} argument `}function Et(Ae,Ne,Ge,It){if((!It||Ge)&&"function"!=typeof Ge)throw new Error(nn(Ae,Ne)+"must be a valid function.")}function Qe(Ae,Ne,Ge,It){if((!It||Ge)&&("object"!=typeof Ge||null===Ge))throw new Error(nn(Ae,Ne)+"must be a valid context object.")}const Mt=function(Ae){const Ne=[];let Ge=0;for(let It=0;It<Ae.length;It++){let we=Ae.charCodeAt(It);if(we>=55296&&we<=56319){const Re=we-55296;It++,G(It<Ae.length,"Surrogate pair missing trail surrogate."),we=65536+(Re<<10)+(Ae.charCodeAt(It)-56320)}we<128?Ne[Ge++]=we:we<2048?(Ne[Ge++]=we>>6|192,Ne[Ge++]=63&we|128):we<65536?(Ne[Ge++]=we>>12|224,Ne[Ge++]=we>>6&63|128,Ne[Ge++]=63&we|128):(Ne[Ge++]=we>>18|240,Ne[Ge++]=we>>12&63|128,Ne[Ge++]=we>>6&63|128,Ne[Ge++]=63&we|128)}return Ne},Ve=function(Ae){let Ne=0;for(let Ge=0;Ge<Ae.length;Ge++){const It=Ae.charCodeAt(Ge);It<128?Ne++:It<2048?Ne+=2:It>=55296&&It<=56319?(Ne+=4,Ge++):Ne+=3}return Ne};function wr(Ae,Ne=1e3,Ge=2){const It=Ne*Math.pow(Ge,Ae),we=Math.round(.5*It*(Math.random()-.5)*2);return Math.min(144e5,It+we)}function at(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}function rt(Ae,Ne){return new Promise((Ge,It)=>{Ae.onsuccess=we=>{Ge(we.target.result)},Ae.onerror=we=>{var Re;It(`${Ne}: ${null===(Re=we.target.error)||void 0===Re?void 0:Re.message}`)}})}class ye{constructor(Ne){this._db=Ne,this.objectStoreNames=this._db.objectStoreNames}transaction(Ne,Ge="readonly"){return new Z(this._db.transaction.call(this._db,Ne,Ge))}createObjectStore(Ne,Ge){return new M(this._db.createObjectStore(Ne,Ge))}close(){this._db.close()}}class Z{constructor(Ne){this._transaction=Ne,this.complete=new Promise((Ge,It)=>{this._transaction.oncomplete=function(){Ge()},this._transaction.onerror=()=>{It(this._transaction.error)},this._transaction.onabort=()=>{It(this._transaction.error)}})}objectStore(Ne){return new M(this._transaction.objectStore(Ne))}}class M{constructor(Ne){this._store=Ne}index(Ne){return new w(this._store.index(Ne))}createIndex(Ne,Ge,It){return new w(this._store.createIndex(Ne,Ge,It))}get(Ne){return rt(this._store.get(Ne),"Error reading from IndexedDB")}put(Ne,Ge){return rt(this._store.put(Ne,Ge),"Error writing to IndexedDB")}delete(Ne){return rt(this._store.delete(Ne),"Error deleting from IndexedDB")}clear(){return rt(this._store.clear(),"Error clearing IndexedDB object store")}}class w{constructor(Ne){this._index=Ne}get(Ne){return rt(this._index.get(Ne),"Error reading from IndexedDB")}}function L(Ae,Ne,Ge){return new Promise((It,we)=>{try{const Re=indexedDB.open(Ae,Ne);Re.onsuccess=se=>{It(new ye(se.target.result))},Re.onerror=se=>{var _e;we(`Error opening indexedDB: ${null===(_e=se.target.error)||void 0===_e?void 0:_e.message}`)},Re.onupgradeneeded=se=>{Ge(new ye(Re.result),se.oldVersion,se.newVersion,new Z(Re.transaction))}}catch(Re){we(`Error opening indexedDB: ${Re.message}`)}})}function be(Ae){return We.apply(this,arguments)}function We(){return(We=(0,u.Z)(function*(Ae){return new Promise((Ne,Ge)=>{try{const It=indexedDB.deleteDatabase(Ae);It.onsuccess=()=>{Ne()},It.onerror=we=>{var Re;Ge(`Error deleting indexedDB database "${Ae}": ${null===(Re=we.target.error)||void 0===Re?void 0:Re.message}`)}}catch(It){Ge(`Error deleting indexedDB database "${Ae}": ${It.message}`)}})})).apply(this,arguments)}},1920:(fn,ht,S)=>{var u=S(2313),C=S(5e3),G=S(1402),z=S(9635),Ce=S(4004),Ue=S(5698),ze=S(7323),ge=S(5867);const ke=(0,Ce.U)(Qt=>!!Qt);let me=(()=>{class Qt{constructor(Yr,Ti){this.router=Yr,this.auth=Ti,this.canActivate=(bs,os)=>{const Lr=bs.data.authGuardPipe||(()=>ke);return(0,ze.EA)(this.auth).pipe((0,Ue.q)(1),Lr(bs,os),(0,Ce.U)(j=>"boolean"==typeof j?j:Array.isArray(j)?this.router.createUrlTree(j):this.router.parseUrl(j)))}}}return Qt.\u0275fac=function(Yr){return new(Yr||Qt)(C.LFG(G.F0),C.LFG(ze.gx))},Qt.\u0275prov=C.Yz7({token:Qt,factory:Qt.\u0275fac,providedIn:"any"}),Qt})();const Te=Qt=>({canActivate:[me],data:{authGuardPipe:Qt}}),De=[Object.assign({path:"",loadChildren:()=>S.e(331).then(S.bind(S,9331)).then(Qt=>Qt.AuthModule)},Te(()=>{return Qt=["dashboard"],(0,z.z)(ke,(0,Ce.U)(Nr=>Nr&&Qt||!0));var Qt})),Object.assign({path:"dashboard",loadChildren:()=>S.e(459).then(S.bind(S,459)).then(Qt=>Qt.DashboardModule)},Te(()=>{return Qt=[""],(0,z.z)(ke,(0,Ce.U)(Nr=>Nr||Qt));var Qt})),{path:"drivers",loadChildren:()=>Promise.all([S.e(258),S.e(14)]).then(S.bind(S,14)).then(Qt=>Qt.DriversModule)},{path:"passengers",loadChildren:()=>Promise.all([S.e(258),S.e(235)]).then(S.bind(S,8235)).then(Qt=>Qt.PassengersModule)},{path:"orders",loadChildren:()=>Promise.all([S.e(258),S.e(949)]).then(S.bind(S,4949)).then(Qt=>Qt.OrdersModule)},{path:"maps",loadChildren:()=>S.e(172).then(S.bind(S,2172)).then(Qt=>Qt.MapsModule)},{path:"driverInfo/:id",loadChildren:()=>S.e(287).then(S.bind(S,9287)).then(Qt=>Qt.DriverInfoModule)},{path:"customerInfo/:id",loadChildren:()=>S.e(638).then(S.bind(S,3638)).then(Qt=>Qt.CustomerInfoModule)},{path:"orderInfo/:id",loadChildren:()=>S.e(38).then(S.bind(S,9038)).then(Qt=>Qt.OrderInfoModule)},{path:"settings",loadChildren:()=>S.e(393).then(S.bind(S,8393)).then(Qt=>Qt.SettingsModule)},{path:"editTaxiType/:id",loadChildren:()=>S.e(840).then(S.bind(S,3840)).then(Qt=>Qt.EditTaxiTypeModule)},{path:"**",redirectTo:"",pathMatch:"full"}];let Se=(()=>{class Qt{}return Qt.\u0275fac=function(Yr){return new(Yr||Qt)},Qt.\u0275mod=C.oAB({type:Qt}),Qt.\u0275inj=C.cJS({imports:[[G.Bz.forRoot(De)],G.Bz]}),Qt})(),Le=(()=>{class Qt{constructor(){this.title="superAdmin"}}return Qt.\u0275fac=function(Yr){return new(Yr||Qt)},Qt.\u0275cmp=C.Xpm({type:Qt,selectors:[["app-root"]],decls:1,vars:0,template:function(Yr,Ti){1&Yr&&C._UZ(0,"router-outlet")},directives:[G.lC],styles:[""]}),Qt})();var le=S(3692);const Tt_firebase={apiKey:"AIzaSyASTW8goaJXDSejSGZsUAtKjg64BBpnPxE",authDomain:"admin-uber-passenger.firebaseapp.com",databaseURL:"https://admin-uber-passenger-default-rtdb.firebaseio.com",projectId:"admin-uber-passenger",storageBucket:"admin-uber-passenger.appspot.com",messagingSenderId:"776722141470",appId:"1:776722141470:web:9e46f6c81359dc9503790f",measurementId:"G-B7NW715F4E"};var kt=S(5813),_t=S(7128),mt=S(1627);class Ct{constructor(Nr){return Nr}}const xt="database",tn=new C.OlP("angularfire2.database-instances");function rn(Qt){return(Nr,Yr)=>{const Ti=Nr.runOutsideAngular(()=>Qt(Yr));return new Ct(Ti)}}const At={provide:class ut{constructor(){return(0,kt.vb)(xt)}},deps:[[new C.FiY,tn]]},Bt={provide:Ct,useFactory:function dn(Qt,Nr){const Yr=(0,kt.JM)(xt,Qt,Nr);return Yr&&new Ct(Yr)},deps:[[new C.FiY,tn],le.Ot]};let vn=(()=>{class Qt{constructor(){(0,ge.KN)("angularfire",kt.q4.full,"rtdb")}}return Qt.\u0275fac=function(Yr){return new(Yr||Qt)},Qt.\u0275mod=C.oAB({type:Qt}),Qt.\u0275inj=C.cJS({providers:[Bt,At]}),Qt})();function He(Qt,...Nr){return{ngModule:vn,providers:[{provide:tn,useFactory:rn(Qt),multi:!0,deps:[C.R0b,C.zs3,kt.HU,le.z6,[new C.FiY,ze.dh],[new C.FiY,_t.nm],...Nr]}]}}const $n=(0,kt.u3)(mt.N8,!0);var Re=S(5525);class se{constructor(Nr){return Nr}}const _e="firestore",ne=new C.OlP("angularfire2.firestore-instances");function gt(Qt){return(Nr,Yr)=>{const Ti=Nr.runOutsideAngular(()=>Qt(Yr));return new se(Ti)}}const Ht={provide:class J{constructor(){return(0,kt.vb)(_e)}},deps:[[new C.FiY,ne]]},hn={provide:se,useFactory:function Pe(Qt,Nr){const Yr=(0,kt.JM)(_e,Qt,Nr);return Yr&&new se(Yr)},deps:[[new C.FiY,ne],le.Ot]};let xn=(()=>{class Qt{constructor(){(0,ge.KN)("angularfire",kt.q4.full,"fst")}}return Qt.\u0275fac=function(Yr){return new(Yr||Qt)},Qt.\u0275mod=C.oAB({type:Qt}),Qt.\u0275inj=C.cJS({providers:[hn,Ht]}),Qt})();function On(Qt,...Nr){return{ngModule:xn,providers:[{provide:ne,useFactory:gt(Qt),multi:!0,deps:[C.R0b,C.zs3,kt.HU,le.z6,[new C.FiY,ze.dh],[new C.FiY,_t.nm],...Nr]}]}}const Ci=(0,kt.u3)(Re.ad,!0);var cs=S(6360),Li=S(2011),As=S(5019),Vs=S(6185),Es=S(4999),$i=S(6688),Zr=S(8099),ds=S(7423),Bs=S(9224),oi=S(4106),fs=S(3075),Us=S(7531);let ci=(()=>{class Qt{}return Qt.\u0275fac=function(Yr){return new(Yr||Qt)},Qt.\u0275mod=C.oAB({type:Qt,bootstrap:[Le]}),Qt.\u0275inj=C.cJS({providers:[fs.qu,fs.UX],imports:[[u.b2,Se,Li.hO.initializeApp(Tt_firebase),As.JS,Vs.yb,(0,le.hX)(()=>(0,le.ZF)(Tt_firebase)),On(()=>Ci()),He(()=>$n()),(0,ze.AR)(()=>(0,ze.v0)()),Es.p0,$i.Hi,Zr.Ps,ds.ot,Bs.QW,oi.lN,Us.c,fs.u5,cs.PW]]}),Qt})();(0,C.G48)(),u.q6().bootstrapModule(ci).catch(Qt=>console.error(Qt))},5867:(fn,ht,S)=>{S.d(ht,{Mq:()=>u.getApp,C6:()=>u.getApps,ZF:()=>u.initializeApp,KN:()=>u.registerVersion});var u=S(9681);(0,u.registerVersion)("firebase","9.7.0","app")},8937:(fn,ht,S)=>{S.d(ht,{hJ:()=>u.N,Xb:()=>u.a4,v0:()=>u.n,MX:()=>u.q,e5:()=>u.a5,rh:()=>u.c,w7:()=>u.x});var u=S(573);S(2090),S(9681),S(1877),S(4859)},127:(fn,ht,S)=>{S.d(ht,{Z:()=>u.Z});var u=S(3942);u.Z.registerVersion("firebase","9.7.0","app-compat")},5881:(fn,ht,S)=>{S.r(ht);var u=S(5861),C=S(3942),G=S(573),z=S(2090),ze=(S(9681),S(1877),S(4859));function ge(){return window}function Te(){return(Te=(0,u.Z)(function*(we,Re,se){var _e;const{BuildInfo:J}=ge();(0,G.ap)(Re.sessionId,"AuthEvent did not contain a session ID");const Q=yield pt(Re.sessionId),ne={};return(0,G.aq)()?ne.ibi=J.packageName:(0,G.ar)()?ne.apn=J.packageName:(0,G.as)(we,"operation-not-supported-in-this-environment"),J.displayName&&(ne.appDisplayName=J.displayName),ne.sessionId=Q,(0,G.at)(we,se,Re.type,void 0,null!==(_e=Re.eventId)&&void 0!==_e?_e:void 0,ne)})).apply(this,arguments)}function Xe(){return(Xe=(0,u.Z)(function*(we){const{BuildInfo:Re}=ge(),se={};(0,G.aq)()?se.iosBundleId=Re.packageName:(0,G.ar)()?se.androidPackageName=Re.packageName:(0,G.as)(we,"operation-not-supported-in-this-environment"),yield(0,G.au)(we,se)})).apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(we,Re,se){const{cordova:_e}=ge();let J=()=>{};try{yield new Promise((Q,ne)=>{let Pe=null;function gt(){var xn;Q();const On=null===(xn=_e.plugins.browsertab)||void 0===xn?void 0:xn.close;"function"==typeof On&&On(),"function"==typeof(null==se?void 0:se.close)&&se.close()}function Ht(){Pe||(Pe=window.setTimeout(()=>{ne((0,G.av)(we,"redirect-cancelled-by-user"))},2e3))}function hn(){"visible"===(null==document?void 0:document.visibilityState)&&Ht()}Re.addPassiveListener(gt),document.addEventListener("resume",Ht,!1),(0,G.ar)()&&document.addEventListener("visibilitychange",hn,!1),J=()=>{Re.removePassiveListener(gt),document.removeEventListener("resume",Ht,!1),document.removeEventListener("visibilitychange",hn,!1),Pe&&window.clearTimeout(Pe)}})}finally{J()}})).apply(this,arguments)}function pt(we){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,u.Z)(function*(we){const Re=Ut(we),se=yield crypto.subtle.digest("SHA-256",Re);return Array.from(new Uint8Array(se)).map(J=>J.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ut(we){if((0,G.ap)(/[0-9a-zA-Z]+/.test(we),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(we);const Re=new ArrayBuffer(we.length),se=new Uint8Array(Re);for(let _e=0;_e<we.length;_e++)se[_e]=we.charCodeAt(_e);return se}class De extends G.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Re=>{this.resolveInialized=Re})}addPassiveListener(Re){this.passiveListeners.add(Re)}removePassiveListener(Re){this.passiveListeners.delete(Re)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Re){return this.resolveInialized(),this.passiveListeners.forEach(se=>se(Re)),super.onEvent(Re)}initialized(){var Re=this;return(0,u.Z)(function*(){yield Re.initPromise})()}}function le(we){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(we){const Re=yield mt()._get(Ct(we));return Re&&(yield mt()._remove(Ct(we))),Re})).apply(this,arguments)}function _t(){const we=[],Re="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let se=0;se<20;se++){const _e=Math.floor(Math.random()*Re.length);we.push(Re.charAt(_e))}return we.join("")}function mt(){return(0,G.ax)(G.b)}function Ct(we){return(0,G.ay)("authEvent",we.config.apiKey,we.name)}function Kt(we){if(!(null==we?void 0:we.includes("?")))return{};const[Re,...se]=we.split("?");return(0,z.zd)(se.join("?"))}function At(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,G.av)("no-auth-event")}}function sn(){var we;return(null===(we=null==self?void 0:self.location)||void 0===we?void 0:we.protocol)||null}function Gn(we=(0,z.z$)()){return!("file:"!==sn()&&"ionic:"!==sn()||!we.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pn(){try{const we=self.localStorage,Re=G.aG();if(we)return we.setItem(Re,"1"),we.removeItem(Re),!function sr(we=(0,z.z$)()){return function Kn(){return(0,z.w1)()&&11===(null==document?void 0:document.documentMode)}()||function cr(we=(0,z.z$)()){return/Edge\/\d+/.test(we)}(we)}()||(0,z.hl)()}catch(we){return mr()&&(0,z.hl)()}return!1}function mr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function dr(){return(function an(){return"http:"===sn()||"https:"===sn()}()||(0,z.ru)()||Gn())&&!function vr(){return(0,z.b$)()||(0,z.UG)()}()&&Pn()&&!mr()}function Pr(){return Gn()&&"undefined"!=typeof document}function En(){return(En=(0,u.Z)(function*(){return!!Pr()&&new Promise(we=>{const Re=setTimeout(()=>{we(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Re),we(!0)})})})).apply(this,arguments)}const $n={LOCAL:"local",NONE:"none",SESSION:"session"},hr=G.aw,Ir="persistence";function Rt(we){return Et.apply(this,arguments)}function Et(){return(Et=(0,u.Z)(function*(we){yield we._initializationPromise;const Re=Mt(),se=G.ay(Ir,we.config.apiKey,we.name);Re&&Re.setItem(se,we._getPersistence())})).apply(this,arguments)}function Mt(){var we;try{return(null===(we=function Er(){return"undefined"!=typeof window?window:null}())||void 0===we?void 0:we.sessionStorage)||null}catch(Re){return null}}const Ve=G.aw;class bt{constructor(){this.browserResolver=G.ax(G.k),this.cordovaResolver=G.ax(class dn{constructor(){this._redirectPersistence=G.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=G.aA}_initialize(Re){var se=this;return(0,u.Z)(function*(){const _e=Re._key();let J=se.eventManagers.get(_e);return J||(J=new De(Re),se.eventManagers.set(_e,J),se.attachCallbackListeners(Re,J)),J})()}_openPopup(Re){(0,G.as)(Re,"operation-not-supported-in-this-environment")}_openRedirect(Re,se,_e,J){var Q=this;return(0,u.Z)(function*(){!function Je(we){var Re,se,_e,J,Q,ne,Pe,gt,Ht,hn;const xn=ge();(0,G.aw)("function"==typeof(null===(Re=null==xn?void 0:xn.universalLinks)||void 0===Re?void 0:Re.subscribe),we,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,G.aw)(void 0!==(null===(se=null==xn?void 0:xn.BuildInfo)||void 0===se?void 0:se.packageName),we,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,G.aw)("function"==typeof(null===(Q=null===(J=null===(_e=null==xn?void 0:xn.cordova)||void 0===_e?void 0:_e.plugins)||void 0===J?void 0:J.browsertab)||void 0===Q?void 0:Q.openUrl),we,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aw)("function"==typeof(null===(gt=null===(Pe=null===(ne=null==xn?void 0:xn.cordova)||void 0===ne?void 0:ne.plugins)||void 0===Pe?void 0:Pe.browsertab)||void 0===gt?void 0:gt.isAvailable),we,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aw)("function"==typeof(null===(hn=null===(Ht=null==xn?void 0:xn.cordova)||void 0===Ht?void 0:Ht.InAppBrowser)||void 0===hn?void 0:hn.open),we,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Re);const ne=yield Q._initialize(Re);yield ne.initialized(),ne.resetRedirect(),(0,G.aB)(),yield Q._originValidation(Re);const Pe=function Se(we,Re,se=null){return{type:Re,eventId:se,urlResponse:null,sessionId:_t(),postBody:null,tenantId:we.tenantId,error:(0,G.av)(we,"no-auth-event")}}(Re,_e,J);yield function Le(we,Re){return mt()._set(Ct(we),Re)}(Re,Pe);const gt=yield function me(we,Re,se){return Te.apply(this,arguments)}(Re,Pe,se),Ht=yield function tt(we){const{cordova:Re}=ge();return new Promise(se=>{Re.plugins.browsertab.isAvailable(_e=>{let J=null;_e?Re.plugins.browsertab.openUrl(we):J=Re.InAppBrowser.open(we,(0,G.ao)()?"_blank":"_system","location=yes"),se(J)})})}(gt);return function Ze(we,Re,se){return Dt.apply(this,arguments)}(Re,ne,Ht)})()}_isIframeWebStorageSupported(Re,se){throw new Error("Method not implemented.")}_originValidation(Re){const se=Re._key();return this.originValidationPromises[se]||(this.originValidationPromises[se]=function Fe(we){return Xe.apply(this,arguments)}(Re)),this.originValidationPromises[se]}attachCallbackListeners(Re,se){const{universalLinks:_e,handleOpenURL:J,BuildInfo:Q}=ge(),ne=setTimeout((0,u.Z)(function*(){yield le(Re),se.onEvent(At())}),500),Pe=function(){var hn=(0,u.Z)(function*(xn){clearTimeout(ne);const On=yield le(Re);let Ur=null;On&&(null==xn?void 0:xn.url)&&(Ur=function kt(we,Re){var se,_e;const J=function ut(we){const Re=Kt(we),se=Re.link?decodeURIComponent(Re.link):void 0,_e=Kt(se).link,J=Re.deep_link_id?decodeURIComponent(Re.deep_link_id):void 0;return Kt(J).link||J||_e||se||we}(Re);if(J.includes("/__/auth/callback")){const Q=Kt(J),ne=Q.firebaseError?function xt(we){try{return JSON.parse(we)}catch(Re){return null}}(decodeURIComponent(Q.firebaseError)):null,Pe=null===(_e=null===(se=null==ne?void 0:ne.code)||void 0===se?void 0:se.split("auth/"))||void 0===_e?void 0:_e[1],gt=Pe?(0,G.av)(Pe):null;return gt?{type:we.type,eventId:we.eventId,tenantId:we.tenantId,error:gt,urlResponse:null,sessionId:null,postBody:null}:{type:we.type,eventId:we.eventId,tenantId:we.tenantId,sessionId:we.sessionId,urlResponse:J,postBody:null}}return null}(On,xn.url)),se.onEvent(Ur||At())});return function(On){return hn.apply(this,arguments)}}();void 0!==_e&&"function"==typeof _e.subscribe&&_e.subscribe(null,Pe);const gt=J,Ht=`${Q.packageName.toLowerCase()}://`;ge().handleOpenURL=function(){var hn=(0,u.Z)(function*(xn){if(xn.toLowerCase().startsWith(Ht)&&Pe({url:xn}),"function"==typeof gt)try{gt(xn)}catch(On){console.error(On)}});return function(xn){return hn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=G.a,this._completeRedirectFn=G.aA}_initialize(Re){var se=this;return(0,u.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._initialize(Re)})()}_openPopup(Re,se,_e,J){var Q=this;return(0,u.Z)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._openPopup(Re,se,_e,J)})()}_openRedirect(Re,se,_e,J){var Q=this;return(0,u.Z)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._openRedirect(Re,se,_e,J)})()}_isIframeWebStorageSupported(Re,se){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Re,se)}_originValidation(Re){return this.assertedUnderlyingResolver._originValidation(Re)}get _shouldInitProactively(){return Pr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ve(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Re=this;return(0,u.Z)(function*(){if(Re.underlyingResolver)return;const se=yield function bn(){return En.apply(this,arguments)}();Re.underlyingResolver=se?Re.cordovaResolver:Re.browserResolver})()}}function wn(we){return we.unwrap()}function Mn(we){return rr(we)}function rr(we){const{_tokenResponse:Re}=we instanceof z.ZR?we.customData:we;if(!Re)return null;if(!(we instanceof z.ZR)&&"temporaryProof"in Re&&"phoneNumber"in Re)return G.P.credentialFromResult(we);const se=Re.providerId;if(!se||se===G.o.PASSWORD)return null;let _e;switch(se){case G.o.GOOGLE:_e=G.N;break;case G.o.FACEBOOK:_e=G.M;break;case G.o.GITHUB:_e=G.Q;break;case G.o.TWITTER:_e=G.V;break;default:const{oauthIdToken:J,oauthAccessToken:Q,oauthTokenSecret:ne,pendingToken:Pe,nonce:gt}=Re;return Q||ne||J||Pe?Pe?se.startsWith("saml.")?G.aJ._create(se,Pe):G.I._fromParams({providerId:se,signInMethod:se,pendingToken:Pe,idToken:J,accessToken:Q}):new G.T(se).credential({idToken:J,accessToken:Q,rawNonce:gt}):null}return we instanceof z.ZR?_e.credentialFromError(we):_e.credentialFromResult(we)}function tr(we,Re){return Re.catch(se=>{throw se instanceof z.ZR&&function wr(we,Re){var se;const _e=null===(se=Re.customData)||void 0===se?void 0:se._tokenResponse;if("auth/multi-factor-auth-required"===Re.code)Re.resolver=new ye(we,G.am(we,Re));else if(_e){const J=rr(Re),Q=Re;J&&(Q.credential=J,Q.tenantId=_e.tenantId||void 0,Q.email=_e.email||void 0,Q.phoneNumber=_e.phoneNumber||void 0)}}(we,se),se}).then(se=>{const J=se.user;return{operationType:se.operationType,credential:Mn(se),additionalUserInfo:G.ak(se),user:Z.getOrCreate(J)}})}function at(we,Re){return rt.apply(this,arguments)}function rt(){return(rt=(0,u.Z)(function*(we,Re){const se=yield Re;return{verificationId:se.verificationId,confirm:_e=>tr(we,se.confirm(_e))}})).apply(this,arguments)}class ye{constructor(Re,se){this.resolver=se,this.auth=function cn(we){return we.wrapped()}(Re)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Re){return tr(wn(this.auth),this.resolver.resolveSignIn(Re))}}class Z{constructor(Re){this._delegate=Re,this.multiFactor=G.an(Re)}static getOrCreate(Re){return Z.USER_MAP.has(Re)||Z.USER_MAP.set(Re,new Z(Re)),Z.USER_MAP.get(Re)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Re){return this._delegate.getIdTokenResult(Re)}getIdToken(Re){return this._delegate.getIdToken(Re)}linkAndRetrieveDataWithCredential(Re){return this.linkWithCredential(Re)}linkWithCredential(Re){var se=this;return(0,u.Z)(function*(){return tr(se.auth,G.Y(se._delegate,Re))})()}linkWithPhoneNumber(Re,se){var _e=this;return(0,u.Z)(function*(){return at(_e.auth,G.l(_e._delegate,Re,se))})()}linkWithPopup(Re){var se=this;return(0,u.Z)(function*(){return tr(se.auth,G.d(se._delegate,Re,bt))})()}linkWithRedirect(Re){var se=this;return(0,u.Z)(function*(){return yield Rt(G.aC(se.auth)),G.g(se._delegate,Re,bt)})()}reauthenticateAndRetrieveDataWithCredential(Re){return this.reauthenticateWithCredential(Re)}reauthenticateWithCredential(Re){var se=this;return(0,u.Z)(function*(){return tr(se.auth,G.Z(se._delegate,Re))})()}reauthenticateWithPhoneNumber(Re,se){return at(this.auth,G.r(this._delegate,Re,se))}reauthenticateWithPopup(Re){return tr(this.auth,G.e(this._delegate,Re,bt))}reauthenticateWithRedirect(Re){var se=this;return(0,u.Z)(function*(){return yield Rt(G.aC(se.auth)),G.h(se._delegate,Re,bt)})()}sendEmailVerification(Re){return G.aa(this._delegate,Re)}unlink(Re){var se=this;return(0,u.Z)(function*(){return yield G.aj(se._delegate,Re),se})()}updateEmail(Re){return G.af(this._delegate,Re)}updatePassword(Re){return G.ag(this._delegate,Re)}updatePhoneNumber(Re){return G.u(this._delegate,Re)}updateProfile(Re){return G.ae(this._delegate,Re)}verifyBeforeUpdateEmail(Re,se){return G.ab(this._delegate,Re,se)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Z.USER_MAP=new WeakMap;const M=G.aw;let w=(()=>{class we{constructor(se,_e){if(this.app=se,_e.isInitialized())return this._delegate=_e.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:J}=se.options;M(J,"invalid-api-key",{appName:se.name}),M(J,"invalid-api-key",{appName:se.name});const Q="undefined"!=typeof window?bt:void 0;this._delegate=_e.initialize({options:{persistence:be(J,se.name),popupRedirectResolver:Q}}),this._delegate._updateErrorMap(G.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Z.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(se){this._delegate.languageCode=se}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(se){this._delegate.tenantId=se}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(se,_e){G.E(this._delegate,se,_e)}applyActionCode(se){return G.a1(this._delegate,se)}checkActionCode(se){return G.a2(this._delegate,se)}confirmPasswordReset(se,_e){return G.a0(this._delegate,se,_e)}createUserWithEmailAndPassword(se,_e){var J=this;return(0,u.Z)(function*(){return tr(J._delegate,G.a4(J._delegate,se,_e))})()}fetchProvidersForEmail(se){return this.fetchSignInMethodsForEmail(se)}fetchSignInMethodsForEmail(se){return G.a9(this._delegate,se)}isSignInWithEmailLink(se){return G.a7(this._delegate,se)}getRedirectResult(){var se=this;return(0,u.Z)(function*(){M(dr(),se._delegate,"operation-not-supported-in-this-environment");const _e=yield G.j(se._delegate,bt);return _e?tr(se._delegate,Promise.resolve(_e)):{credential:null,user:null}})()}addFrameworkForLogging(se){!function Bt(we,Re){(0,G.aC)(we)._logFramework(Re)}(this._delegate,se)}onAuthStateChanged(se,_e,J){const{next:Q,error:ne,complete:Pe}=L(se,_e,J);return this._delegate.onAuthStateChanged(Q,ne,Pe)}onIdTokenChanged(se,_e,J){const{next:Q,error:ne,complete:Pe}=L(se,_e,J);return this._delegate.onIdTokenChanged(Q,ne,Pe)}sendSignInLinkToEmail(se,_e){return G.a6(this._delegate,se,_e)}sendPasswordResetEmail(se,_e){return G.$(this._delegate,se,_e||void 0)}setPersistence(se){var _e=this;return(0,u.Z)(function*(){let J;switch(function nn(we,Re){hr(Object.values($n).includes(Re),we,"invalid-persistence-type"),(0,z.b$)()?hr(Re!==$n.SESSION,we,"unsupported-persistence-type"):(0,z.UG)()?hr(Re===$n.NONE,we,"unsupported-persistence-type"):mr()?hr(Re===$n.NONE||Re===$n.LOCAL&&(0,z.hl)(),we,"unsupported-persistence-type"):hr(Re===$n.NONE||Pn(),we,"unsupported-persistence-type")}(_e._delegate,se),se){case $n.SESSION:J=G.a;break;case $n.LOCAL:J=(yield G.ax(G.i)._isAvailable())?G.i:G.b;break;case $n.NONE:J=G.K;break;default:return G.as("argument-error",{appName:_e._delegate.name})}return _e._delegate.setPersistence(J)})()}signInAndRetrieveDataWithCredential(se){return this.signInWithCredential(se)}signInAnonymously(){return tr(this._delegate,G.W(this._delegate))}signInWithCredential(se){return tr(this._delegate,G.X(this._delegate,se))}signInWithCustomToken(se){return tr(this._delegate,G._(this._delegate,se))}signInWithEmailAndPassword(se,_e){return tr(this._delegate,G.a5(this._delegate,se,_e))}signInWithEmailLink(se,_e){return tr(this._delegate,G.a8(this._delegate,se,_e))}signInWithPhoneNumber(se,_e){return at(this._delegate,G.s(this._delegate,se,_e))}signInWithPopup(se){var _e=this;return(0,u.Z)(function*(){return M(dr(),_e._delegate,"operation-not-supported-in-this-environment"),tr(_e._delegate,G.c(_e._delegate,se,bt))})()}signInWithRedirect(se){var _e=this;return(0,u.Z)(function*(){return M(dr(),_e._delegate,"operation-not-supported-in-this-environment"),yield Rt(_e._delegate),G.f(_e._delegate,se,bt)})()}updateCurrentUser(se){return this._delegate.updateCurrentUser(se)}verifyPasswordResetCode(se){return G.a3(this._delegate,se)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return we.Persistence=$n,we})();function L(we,Re,se){let _e=we;"function"!=typeof we&&({next:_e,error:Re,complete:se}=we);const J=_e;return{next:ne=>J(ne&&Z.getOrCreate(ne)),error:Re,complete:se}}function be(we,Re){const se=function Qe(we,Re){const se=Mt();if(!se)return[];const _e=G.ay(Ir,we,Re);switch(se.getItem(_e)){case $n.NONE:return[G.K];case $n.LOCAL:return[G.i,G.a];case $n.SESSION:return[G.a];default:return[]}}(we,Re);if("undefined"!=typeof self&&!se.includes(G.i)&&se.push(G.i),"undefined"!=typeof window)for(const _e of[G.b,G.a])se.includes(_e)||se.push(_e);return se.includes(G.K)||se.push(G.K),se}class We{constructor(){this.providerId="phone",this._delegate=new G.P(wn(C.Z.auth()))}static credential(Re,se){return G.P.credential(Re,se)}verifyPhoneNumber(Re,se){return this._delegate.verifyPhoneNumber(Re,se)}unwrap(){return this._delegate}}We.PHONE_SIGN_IN_METHOD=G.P.PHONE_SIGN_IN_METHOD,We.PROVIDER_ID=G.P.PROVIDER_ID;const Ae=G.aw;class Ne{constructor(Re,se,_e=C.Z.app()){var J;Ae(null===(J=_e.options)||void 0===J?void 0:J.apiKey,"invalid-api-key",{appName:_e.name}),this._delegate=new G.R(Re,se,_e.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function It(we){we.INTERNAL.registerComponent(new ze.wA("auth-compat",Re=>{const se=Re.getProvider("app-compat").getImmediate(),_e=Re.getProvider("auth");return new w(se,_e)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:G.A.EMAIL_SIGNIN,PASSWORD_RESET:G.A.PASSWORD_RESET,RECOVER_EMAIL:G.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:G.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:G.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:G.A.VERIFY_EMAIL}},EmailAuthProvider:G.L,FacebookAuthProvider:G.M,GithubAuthProvider:G.Q,GoogleAuthProvider:G.N,OAuthProvider:G.T,SAMLAuthProvider:G.U,PhoneAuthProvider:We,PhoneMultiFactorGenerator:G.m,RecaptchaVerifier:Ne,TwitterAuthProvider:G.V,Auth:w,AuthCredential:G.G,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),we.registerVersion("@firebase/auth-compat","0.2.12")}(C.Z)},1135:(fn,ht,S)=>{S.d(ht,{X:()=>C});var u=S(7579);class C extends u.x{constructor(z){super(),this._value=z}get value(){return this.getValue()}_subscribe(z){const Ce=super._subscribe(z);return!Ce.closed&&z.next(this._value),Ce}getValue(){const{hasError:z,thrownError:Ce,_value:Ue}=this;if(z)throw Ce;return this._throwIfClosed(),Ue}next(z){super.next(this._value=z)}}},9751:(fn,ht,S)=>{S.d(ht,{y:()=>ge});var u=S(930),C=S(727),G=S(8822),z=S(9635),Ce=S(2416),Ue=S(576),ze=S(2806);let ge=(()=>{class Fe{constructor(tt){tt&&(this._subscribe=tt)}lift(tt){const Ze=new Fe;return Ze.source=this,Ze.operator=tt,Ze}subscribe(tt,Ze,Dt){const Je=function Te(Fe){return Fe&&Fe instanceof u.Lv||function me(Fe){return Fe&&(0,Ue.m)(Fe.next)&&(0,Ue.m)(Fe.error)&&(0,Ue.m)(Fe.complete)}(Fe)&&(0,C.Nn)(Fe)}(tt)?tt:new u.Hp(tt,Ze,Dt);return(0,ze.x)(()=>{const{operator:pt,source:Ye}=this;Je.add(pt?pt.call(Je,Ye):Ye?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe(tt){try{return this._subscribe(tt)}catch(Ze){tt.error(Ze)}}forEach(tt,Ze){return new(Ze=ke(Ze))((Dt,Je)=>{const pt=new u.Hp({next:Ye=>{try{tt(Ye)}catch(Ut){Je(Ut),pt.unsubscribe()}},error:Je,complete:Dt});this.subscribe(pt)})}_subscribe(tt){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(tt)}[G.L](){return this}pipe(...tt){return(0,z.U)(tt)(this)}toPromise(tt){return new(tt=ke(tt))((Ze,Dt)=>{let Je;this.subscribe(pt=>Je=pt,pt=>Dt(pt),()=>Ze(Je))})}}return Fe.create=Xe=>new Fe(Xe),Fe})();function ke(Fe){var Xe;return null!==(Xe=null!=Fe?Fe:Ce.v.Promise)&&void 0!==Xe?Xe:Promise}},7579:(fn,ht,S)=>{S.d(ht,{x:()=>ze});var u=S(9751),C=S(727);const z=(0,S(3888).d)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=S(8737),Ue=S(2806);let ze=(()=>{class ke extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Te){const Fe=new ge(this,this);return Fe.operator=Te,Fe}_throwIfClosed(){if(this.closed)throw new z}next(Te){(0,Ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Fe of this.currentObservers)Fe.next(Te)}})}error(Te){(0,Ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Te;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().error(Te)}})}complete(){(0,Ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Te}=this;for(;Te.length;)Te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Te;return(null===(Te=this.observers)||void 0===Te?void 0:Te.length)>0}_trySubscribe(Te){return this._throwIfClosed(),super._trySubscribe(Te)}_subscribe(Te){return this._throwIfClosed(),this._checkFinalizedStatuses(Te),this._innerSubscribe(Te)}_innerSubscribe(Te){const{hasError:Fe,isStopped:Xe,observers:tt}=this;return Fe||Xe?C.Lc:(this.currentObservers=null,tt.push(Te),new C.w0(()=>{this.currentObservers=null,(0,Ce.P)(tt,Te)}))}_checkFinalizedStatuses(Te){const{hasError:Fe,thrownError:Xe,isStopped:tt}=this;Fe?Te.error(Xe):tt&&Te.complete()}asObservable(){const Te=new u.y;return Te.source=this,Te}}return ke.create=(me,Te)=>new ge(me,Te),ke})();class ge extends ze{constructor(me,Te){super(),this.destination=me,this.source=Te}next(me){var Te,Fe;null===(Fe=null===(Te=this.destination)||void 0===Te?void 0:Te.next)||void 0===Fe||Fe.call(Te,me)}error(me){var Te,Fe;null===(Fe=null===(Te=this.destination)||void 0===Te?void 0:Te.error)||void 0===Fe||Fe.call(Te,me)}complete(){var me,Te;null===(Te=null===(me=this.destination)||void 0===me?void 0:me.complete)||void 0===Te||Te.call(me)}_subscribe(me){var Te,Fe;return null!==(Fe=null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(me))&&void 0!==Fe?Fe:C.Lc}}},930:(fn,ht,S)=>{S.d(ht,{Hp:()=>Dt,Lv:()=>Fe});var u=S(576),C=S(727),G=S(2416),z=S(7849),Ce=S(5032);const Ue=ke("C",void 0,void 0);function ke($e,De,Se){return{kind:$e,value:De,error:Se}}var me=S(3410),Te=S(2806);class Fe extends C.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,C.Nn)(De)&&De.add(this)):this.destination=Ut}static create(De,Se,Le){return new Dt(De,Se,Le)}next(De){this.isStopped?Ye(function ge($e){return ke("N",$e,void 0)}(De),this):this._next(De)}error(De){this.isStopped?Ye(function ze($e){return ke("E",void 0,$e)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Ye(Ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function tt($e,De){return Xe.call($e,De)}class Ze{constructor(De){this.partialObserver=De}next(De){const{partialObserver:Se}=this;if(Se.next)try{Se.next(De)}catch(Le){Je(Le)}}error(De){const{partialObserver:Se}=this;if(Se.error)try{Se.error(De)}catch(Le){Je(Le)}else Je(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(Se){Je(Se)}}}class Dt extends Fe{constructor(De,Se,Le){let le;if(super(),(0,u.m)(De)||!De)le={next:null!=De?De:void 0,error:null!=Se?Se:void 0,complete:null!=Le?Le:void 0};else{let Tt;this&&G.v.useDeprecatedNextContext?(Tt=Object.create(De),Tt.unsubscribe=()=>this.unsubscribe(),le={next:De.next&&tt(De.next,Tt),error:De.error&&tt(De.error,Tt),complete:De.complete&&tt(De.complete,Tt)}):le=De}this.destination=new Ze(le)}}function Je($e){G.v.useDeprecatedSynchronousErrorHandling?(0,Te.O)($e):(0,z.h)($e)}function Ye($e,De){const{onStoppedNotification:Se}=G.v;Se&&me.z.setTimeout(()=>Se($e,De))}const Ut={closed:!0,next:Ce.Z,error:function pt($e){throw $e},complete:Ce.Z}},727:(fn,ht,S)=>{S.d(ht,{Lc:()=>Ue,w0:()=>Ce,Nn:()=>ze});var u=S(576);const G=(0,S(3888).d)(ke=>function(Te){ke(this),this.message=Te?`${Te.length} errors occurred during unsubscription:\n${Te.map((Fe,Xe)=>`${Xe+1}) ${Fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Te});var z=S(8737);class Ce{constructor(me){this.initialTeardown=me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let me;if(!this.closed){this.closed=!0;const{_parentage:Te}=this;if(Te)if(this._parentage=null,Array.isArray(Te))for(const tt of Te)tt.remove(this);else Te.remove(this);const{initialTeardown:Fe}=this;if((0,u.m)(Fe))try{Fe()}catch(tt){me=tt instanceof G?tt.errors:[tt]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const tt of Xe)try{ge(tt)}catch(Ze){me=null!=me?me:[],Ze instanceof G?me=[...me,...Ze.errors]:me.push(Ze)}}if(me)throw new G(me)}}add(me){var Te;if(me&&me!==this)if(this.closed)ge(me);else{if(me instanceof Ce){if(me.closed||me._hasParent(this))return;me._addParent(this)}(this._finalizers=null!==(Te=this._finalizers)&&void 0!==Te?Te:[]).push(me)}}_hasParent(me){const{_parentage:Te}=this;return Te===me||Array.isArray(Te)&&Te.includes(me)}_addParent(me){const{_parentage:Te}=this;this._parentage=Array.isArray(Te)?(Te.push(me),Te):Te?[Te,me]:me}_removeParent(me){const{_parentage:Te}=this;Te===me?this._parentage=null:Array.isArray(Te)&&(0,z.P)(Te,me)}remove(me){const{_finalizers:Te}=this;Te&&(0,z.P)(Te,me),me instanceof Ce&&me._removeParent(this)}}Ce.EMPTY=(()=>{const ke=new Ce;return ke.closed=!0,ke})();const Ue=Ce.EMPTY;function ze(ke){return ke instanceof Ce||ke&&"closed"in ke&&(0,u.m)(ke.remove)&&(0,u.m)(ke.add)&&(0,u.m)(ke.unsubscribe)}function ge(ke){(0,u.m)(ke)?ke():ke.unsubscribe()}},2416:(fn,ht,S)=>{S.d(ht,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(fn,ht,S)=>{S.d(ht,{a:()=>me});var u=S(9751),C=S(4742),G=S(8996),z=S(4671),Ce=S(3268),Ue=S(3269),ze=S(1810),ge=S(5403),ke=S(9672);function me(...Xe){const tt=(0,Ue.yG)(Xe),Ze=(0,Ue.jO)(Xe),{args:Dt,keys:Je}=(0,C.D)(Xe);if(0===Dt.length)return(0,G.D)([],tt);const pt=new u.y(function Te(Xe,tt,Ze=z.y){return Dt=>{Fe(tt,()=>{const{length:Je}=Xe,pt=new Array(Je);let Ye=Je,Ut=Je;for(let $e=0;$e<Je;$e++)Fe(tt,()=>{const De=(0,G.D)(Xe[$e],tt);let Se=!1;De.subscribe((0,ge.x)(Dt,Le=>{pt[$e]=Le,Se||(Se=!0,Ut--),Ut||Dt.next(Ze(pt.slice()))},()=>{--Ye||Dt.complete()}))},Dt)},Dt)}}(Dt,tt,Je?Ye=>(0,ze.n)(Je,Ye):z.y));return Ze?pt.pipe((0,Ce.Z)(Ze)):pt}function Fe(Xe,tt,Ze){Xe?(0,ke.f)(Ze,Xe,tt):tt()}},7272:(fn,ht,S)=>{S.d(ht,{z:()=>Ce});var u=S(8189),G=S(3269),z=S(8996);function Ce(...Ue){return function C(){return(0,u.J)(1)}()((0,z.D)(Ue,(0,G.yG)(Ue)))}},9770:(fn,ht,S)=>{S.d(ht,{P:()=>G});var u=S(9751),C=S(8421);function G(z){return new u.y(Ce=>{(0,C.Xf)(z()).subscribe(Ce)})}},515:(fn,ht,S)=>{S.d(ht,{E:()=>C});const C=new(S(9751).y)(Ce=>Ce.complete())},4128:(fn,ht,S)=>{S.d(ht,{D:()=>ge});var u=S(9751),C=S(4742),G=S(8421),z=S(3269),Ce=S(5403),Ue=S(3268),ze=S(1810);function ge(...ke){const me=(0,z.jO)(ke),{args:Te,keys:Fe}=(0,C.D)(ke),Xe=new u.y(tt=>{const{length:Ze}=Te;if(!Ze)return void tt.complete();const Dt=new Array(Ze);let Je=Ze,pt=Ze;for(let Ye=0;Ye<Ze;Ye++){let Ut=!1;(0,G.Xf)(Te[Ye]).subscribe((0,Ce.x)(tt,$e=>{Ut||(Ut=!0,pt--),Dt[Ye]=$e},()=>Je--,void 0,()=>{(!Je||!Ut)&&(pt||tt.next(Fe?(0,ze.n)(Fe,Dt):Dt),tt.complete())}))}});return me?Xe.pipe((0,Ue.Z)(me)):Xe}},8996:(fn,ht,S)=>{S.d(ht,{D:()=>De});var u=S(8421),C=S(5363),G=S(9468),Ue=S(9751),ge=S(2202),ke=S(576),me=S(9672);function Fe(Se,Le){if(!Se)throw new Error("Iterable cannot be null");return new Ue.y(le=>{(0,me.f)(le,Le,()=>{const Tt=Se[Symbol.asyncIterator]();(0,me.f)(le,Le,()=>{Tt.next().then(kt=>{kt.done?le.complete():le.next(kt.value)})},0,!0)})})}var Xe=S(3670),tt=S(8239),Ze=S(1144),Dt=S(6495),Je=S(2206),pt=S(4532),Ye=S(3260);function De(Se,Le){return Le?function $e(Se,Le){if(null!=Se){if((0,Xe.c)(Se))return function z(Se,Le){return(0,u.Xf)(Se).pipe((0,G.R)(Le),(0,C.Q)(Le))}(Se,Le);if((0,Ze.z)(Se))return function ze(Se,Le){return new Ue.y(le=>{let Tt=0;return Le.schedule(function(){Tt===Se.length?le.complete():(le.next(Se[Tt++]),le.closed||this.schedule())})})}(Se,Le);if((0,tt.t)(Se))return function Ce(Se,Le){return(0,u.Xf)(Se).pipe((0,G.R)(Le),(0,C.Q)(Le))}(Se,Le);if((0,Je.D)(Se))return Fe(Se,Le);if((0,Dt.T)(Se))return function Te(Se,Le){return new Ue.y(le=>{let Tt;return(0,me.f)(le,Le,()=>{Tt=Se[ge.h](),(0,me.f)(le,Le,()=>{let kt,_t;try{({value:kt,done:_t}=Tt.next())}catch(mt){return void le.error(mt)}_t?le.complete():le.next(kt)},0,!0)}),()=>(0,ke.m)(null==Tt?void 0:Tt.return)&&Tt.return()})}(Se,Le);if((0,Ye.L)(Se))return function Ut(Se,Le){return Fe((0,Ye.Q)(Se),Le)}(Se,Le)}throw(0,pt.z)(Se)}(Se,Le):(0,u.Xf)(Se)}},4968:(fn,ht,S)=>{S.d(ht,{R:()=>me});var u=S(8421),C=S(9751),G=S(5577),z=S(1144),Ce=S(576),Ue=S(3268);const ze=["addListener","removeListener"],ge=["addEventListener","removeEventListener"],ke=["on","off"];function me(Ze,Dt,Je,pt){if((0,Ce.m)(Je)&&(pt=Je,Je=void 0),pt)return me(Ze,Dt,Je).pipe((0,Ue.Z)(pt));const[Ye,Ut]=function tt(Ze){return(0,Ce.m)(Ze.addEventListener)&&(0,Ce.m)(Ze.removeEventListener)}(Ze)?ge.map($e=>De=>Ze[$e](Dt,De,Je)):function Fe(Ze){return(0,Ce.m)(Ze.addListener)&&(0,Ce.m)(Ze.removeListener)}(Ze)?ze.map(Te(Ze,Dt)):function Xe(Ze){return(0,Ce.m)(Ze.on)&&(0,Ce.m)(Ze.off)}(Ze)?ke.map(Te(Ze,Dt)):[];if(!Ye&&(0,z.z)(Ze))return(0,G.z)($e=>me($e,Dt,Je))((0,u.Xf)(Ze));if(!Ye)throw new TypeError("Invalid event target");return new C.y($e=>{const De=(...Se)=>$e.next(1<Se.length?Se:Se[0]);return Ye(De),()=>Ut(De)})}function Te(Ze,Dt){return Je=>pt=>Ze[Je](Dt,pt)}},8421:(fn,ht,S)=>{S.d(ht,{Xf:()=>Xe});var u=S(655),C=S(1144),G=S(8239),z=S(9751),Ce=S(3670),Ue=S(2206),ze=S(4532),ge=S(6495),ke=S(3260),me=S(576),Te=S(7849),Fe=S(8822);function Xe($e){if($e instanceof z.y)return $e;if(null!=$e){if((0,Ce.c)($e))return function tt($e){return new z.y(De=>{const Se=$e[Fe.L]();if((0,me.m)(Se.subscribe))return Se.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}($e);if((0,C.z)($e))return function Ze($e){return new z.y(De=>{for(let Se=0;Se<$e.length&&!De.closed;Se++)De.next($e[Se]);De.complete()})}($e);if((0,G.t)($e))return function Dt($e){return new z.y(De=>{$e.then(Se=>{De.closed||(De.next(Se),De.complete())},Se=>De.error(Se)).then(null,Te.h)})}($e);if((0,Ue.D)($e))return pt($e);if((0,ge.T)($e))return function Je($e){return new z.y(De=>{for(const Se of $e)if(De.next(Se),De.closed)return;De.complete()})}($e);if((0,ke.L)($e))return function Ye($e){return pt((0,ke.Q)($e))}($e)}throw(0,ze.z)($e)}function pt($e){return new z.y(De=>{(function Ut($e,De){var Se,Le,le,Tt;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Se=(0,u.KL)($e);!(Le=yield Se.next()).done;)if(De.next(Le.value),De.closed)return}catch(kt){le={error:kt}}finally{try{Le&&!Le.done&&(Tt=Se.return)&&(yield Tt.call(Se))}finally{if(le)throw le.error}}De.complete()})})($e,De).catch(Se=>De.error(Se))})}},6451:(fn,ht,S)=>{S.d(ht,{T:()=>Ue});var u=S(8189),C=S(8421),G=S(515),z=S(3269),Ce=S(8996);function Ue(...ze){const ge=(0,z.yG)(ze),ke=(0,z._6)(ze,1/0),me=ze;return me.length?1===me.length?(0,C.Xf)(me[0]):(0,u.J)(ke)((0,Ce.D)(me,ge)):G.E}},9646:(fn,ht,S)=>{S.d(ht,{of:()=>G});var u=S(3269),C=S(8996);function G(...z){const Ce=(0,u.yG)(z);return(0,C.D)(z,Ce)}},2843:(fn,ht,S)=>{S.d(ht,{_:()=>G});var u=S(9751),C=S(576);function G(z,Ce){const Ue=(0,C.m)(z)?z:()=>z,ze=ge=>ge.error(Ue());return new u.y(Ce?ge=>Ce.schedule(ze,0,ge):ze)}},5403:(fn,ht,S)=>{S.d(ht,{x:()=>C});var u=S(930);function C(z,Ce,Ue,ze,ge){return new G(z,Ce,Ue,ze,ge)}class G extends u.Lv{constructor(Ce,Ue,ze,ge,ke,me){super(Ce),this.onFinalize=ke,this.shouldUnsubscribe=me,this._next=Ue?function(Te){try{Ue(Te)}catch(Fe){Ce.error(Fe)}}:super._next,this._error=ge?function(Te){try{ge(Te)}catch(Fe){Ce.error(Fe)}finally{this.unsubscribe()}}:super._error,this._complete=ze?function(){try{ze()}catch(Te){Ce.error(Te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ue}=this;super.unsubscribe(),!Ue&&(null===(Ce=this.onFinalize)||void 0===Ce||Ce.call(this))}}}},262:(fn,ht,S)=>{S.d(ht,{K:()=>z});var u=S(8421),C=S(5403),G=S(4482);function z(Ce){return(0,G.e)((Ue,ze)=>{let me,ge=null,ke=!1;ge=Ue.subscribe((0,C.x)(ze,void 0,void 0,Te=>{me=(0,u.Xf)(Ce(Te,z(Ce)(Ue))),ge?(ge.unsubscribe(),ge=null,me.subscribe(ze)):ke=!0})),ke&&(ge.unsubscribe(),ge=null,me.subscribe(ze))})}},4351:(fn,ht,S)=>{S.d(ht,{b:()=>G});var u=S(5577),C=S(576);function G(z,Ce){return(0,C.m)(Ce)?(0,u.z)(z,Ce,1):(0,u.z)(z,1)}},8372:(fn,ht,S)=>{S.d(ht,{b:()=>z});var u=S(4986),C=S(4482),G=S(5403);function z(Ce,Ue=u.z){return(0,C.e)((ze,ge)=>{let ke=null,me=null,Te=null;const Fe=()=>{if(ke){ke.unsubscribe(),ke=null;const tt=me;me=null,ge.next(tt)}};function Xe(){const tt=Te+Ce,Ze=Ue.now();if(Ze<tt)return ke=this.schedule(void 0,tt-Ze),void ge.add(ke);Fe()}ze.subscribe((0,G.x)(ge,tt=>{me=tt,Te=Ue.now(),ke||(ke=Ue.schedule(Xe,Ce),ge.add(ke))},()=>{Fe(),ge.complete()},void 0,()=>{me=ke=null}))})}},6590:(fn,ht,S)=>{S.d(ht,{d:()=>G});var u=S(4482),C=S(5403);function G(z){return(0,u.e)((Ce,Ue)=>{let ze=!1;Ce.subscribe((0,C.x)(Ue,ge=>{ze=!0,Ue.next(ge)},()=>{ze||Ue.next(z),Ue.complete()}))})}},1884:(fn,ht,S)=>{S.d(ht,{x:()=>z});var u=S(4671),C=S(4482),G=S(5403);function z(Ue,ze=u.y){return Ue=null!=Ue?Ue:Ce,(0,C.e)((ge,ke)=>{let me,Te=!0;ge.subscribe((0,G.x)(ke,Fe=>{const Xe=ze(Fe);(Te||!Ue(me,Xe))&&(Te=!1,me=Xe,ke.next(Fe))}))})}function Ce(Ue,ze){return Ue===ze}},9300:(fn,ht,S)=>{S.d(ht,{h:()=>G});var u=S(4482),C=S(5403);function G(z,Ce){return(0,u.e)((Ue,ze)=>{let ge=0;Ue.subscribe((0,C.x)(ze,ke=>z.call(Ce,ke,ge++)&&ze.next(ke)))})}},8746:(fn,ht,S)=>{S.d(ht,{x:()=>C});var u=S(4482);function C(G){return(0,u.e)((z,Ce)=>{try{z.subscribe(Ce)}finally{Ce.add(G)}})}},590:(fn,ht,S)=>{S.d(ht,{P:()=>ze});var u=S(6805),C=S(9300),G=S(5698),z=S(6590),Ce=S(8068),Ue=S(4671);function ze(ge,ke){const me=arguments.length>=2;return Te=>Te.pipe(ge?(0,C.h)((Fe,Xe)=>ge(Fe,Xe,Te)):Ue.y,(0,G.q)(1),me?(0,z.d)(ke):(0,Ce.T)(()=>new u.K))}},4004:(fn,ht,S)=>{S.d(ht,{U:()=>G});var u=S(4482),C=S(5403);function G(z,Ce){return(0,u.e)((Ue,ze)=>{let ge=0;Ue.subscribe((0,C.x)(ze,ke=>{ze.next(z.call(Ce,ke,ge++))}))})}},8189:(fn,ht,S)=>{S.d(ht,{J:()=>G});var u=S(5577),C=S(4671);function G(z=1/0){return(0,u.z)(C.y,z)}},5577:(fn,ht,S)=>{S.d(ht,{z:()=>ge});var u=S(4004),C=S(8421),G=S(4482),z=S(9672),Ce=S(5403),ze=S(576);function ge(ke,me,Te=1/0){return(0,ze.m)(me)?ge((Fe,Xe)=>(0,u.U)((tt,Ze)=>me(Fe,tt,Xe,Ze))((0,C.Xf)(ke(Fe,Xe))),Te):("number"==typeof me&&(Te=me),(0,G.e)((Fe,Xe)=>function Ue(ke,me,Te,Fe,Xe,tt,Ze,Dt){const Je=[];let pt=0,Ye=0,Ut=!1;const $e=()=>{Ut&&!Je.length&&!pt&&me.complete()},De=Le=>pt<Fe?Se(Le):Je.push(Le),Se=Le=>{tt&&me.next(Le),pt++;let le=!1;(0,C.Xf)(Te(Le,Ye++)).subscribe((0,Ce.x)(me,Tt=>{null==Xe||Xe(Tt),tt?De(Tt):me.next(Tt)},()=>{le=!0},void 0,()=>{if(le)try{for(pt--;Je.length&&pt<Fe;){const Tt=Je.shift();Ze?(0,z.f)(me,Ze,()=>Se(Tt)):Se(Tt)}$e()}catch(Tt){me.error(Tt)}}))};return ke.subscribe((0,Ce.x)(me,De,()=>{Ut=!0,$e()})),()=>{null==Dt||Dt()}}(Fe,Xe,ke,Te)))}},5363:(fn,ht,S)=>{S.d(ht,{Q:()=>z});var u=S(9672),C=S(4482),G=S(5403);function z(Ce,Ue=0){return(0,C.e)((ze,ge)=>{ze.subscribe((0,G.x)(ge,ke=>(0,u.f)(ge,Ce,()=>ge.next(ke),Ue),()=>(0,u.f)(ge,Ce,()=>ge.complete(),Ue),ke=>(0,u.f)(ge,Ce,()=>ge.error(ke),Ue)))})}},5026:(fn,ht,S)=>{S.d(ht,{R:()=>z});var u=S(4482),C=S(5403);function G(Ce,Ue,ze,ge,ke){return(me,Te)=>{let Fe=ze,Xe=Ue,tt=0;me.subscribe((0,C.x)(Te,Ze=>{const Dt=tt++;Xe=Fe?Ce(Xe,Ze,Dt):(Fe=!0,Ze),ge&&Te.next(Xe)},ke&&(()=>{Fe&&Te.next(Xe),Te.complete()})))}}function z(Ce,Ue){return(0,u.e)(G(Ce,Ue,arguments.length>=2,!0))}},3099:(fn,ht,S)=>{S.d(ht,{B:()=>Ue});var u=S(8996),C=S(5698),G=S(7579),z=S(930),Ce=S(4482);function Ue(ge={}){const{connector:ke=(()=>new G.x),resetOnError:me=!0,resetOnComplete:Te=!0,resetOnRefCountZero:Fe=!0}=ge;return Xe=>{let tt=null,Ze=null,Dt=null,Je=0,pt=!1,Ye=!1;const Ut=()=>{null==Ze||Ze.unsubscribe(),Ze=null},$e=()=>{Ut(),tt=Dt=null,pt=Ye=!1},De=()=>{const Se=tt;$e(),null==Se||Se.unsubscribe()};return(0,Ce.e)((Se,Le)=>{Je++,!Ye&&!pt&&Ut();const le=Dt=null!=Dt?Dt:ke();Le.add(()=>{Je--,0===Je&&!Ye&&!pt&&(Ze=ze(De,Fe))}),le.subscribe(Le),tt||(tt=new z.Hp({next:Tt=>le.next(Tt),error:Tt=>{Ye=!0,Ut(),Ze=ze($e,me,Tt),le.error(Tt)},complete:()=>{pt=!0,Ut(),Ze=ze($e,Te),le.complete()}}),(0,u.D)(Se).subscribe(tt))})(Xe)}}function ze(ge,ke,...me){return!0===ke?(ge(),null):!1===ke?null:ke(...me).pipe((0,C.q)(1)).subscribe(()=>ge())}},5684:(fn,ht,S)=>{S.d(ht,{T:()=>C});var u=S(9300);function C(G){return(0,u.h)((z,Ce)=>G<=Ce)}},8675:(fn,ht,S)=>{S.d(ht,{O:()=>z});var u=S(7272),C=S(3269),G=S(4482);function z(...Ce){const Ue=(0,C.yG)(Ce);return(0,G.e)((ze,ge)=>{(Ue?(0,u.z)(Ce,ze,Ue):(0,u.z)(Ce,ze)).subscribe(ge)})}},9468:(fn,ht,S)=>{S.d(ht,{R:()=>C});var u=S(4482);function C(G,z=0){return(0,u.e)((Ce,Ue)=>{Ue.add(G.schedule(()=>Ce.subscribe(Ue),z))})}},3900:(fn,ht,S)=>{S.d(ht,{w:()=>z});var u=S(8421),C=S(4482),G=S(5403);function z(Ce,Ue){return(0,C.e)((ze,ge)=>{let ke=null,me=0,Te=!1;const Fe=()=>Te&&!ke&&ge.complete();ze.subscribe((0,G.x)(ge,Xe=>{null==ke||ke.unsubscribe();let tt=0;const Ze=me++;(0,u.Xf)(Ce(Xe,Ze)).subscribe(ke=(0,G.x)(ge,Dt=>ge.next(Ue?Ue(Xe,Dt,Ze,tt++):Dt),()=>{ke=null,Fe()}))},()=>{Te=!0,Fe()}))})}},5698:(fn,ht,S)=>{S.d(ht,{q:()=>z});var u=S(515),C=S(4482),G=S(5403);function z(Ce){return Ce<=0?()=>u.E:(0,C.e)((Ue,ze)=>{let ge=0;Ue.subscribe((0,G.x)(ze,ke=>{++ge<=Ce&&(ze.next(ke),Ce<=ge&&ze.complete())}))})}},2722:(fn,ht,S)=>{S.d(ht,{R:()=>Ce});var u=S(4482),C=S(5403),G=S(8421),z=S(5032);function Ce(Ue){return(0,u.e)((ze,ge)=>{(0,G.Xf)(Ue).subscribe((0,C.x)(ge,()=>ge.complete(),z.Z)),!ge.closed&&ze.subscribe(ge)})}},8505:(fn,ht,S)=>{S.d(ht,{b:()=>Ce});var u=S(576),C=S(4482),G=S(5403),z=S(4671);function Ce(Ue,ze,ge){const ke=(0,u.m)(Ue)||ze||ge?{next:Ue,error:ze,complete:ge}:Ue;return ke?(0,C.e)((me,Te)=>{var Fe;null===(Fe=ke.subscribe)||void 0===Fe||Fe.call(ke);let Xe=!0;me.subscribe((0,G.x)(Te,tt=>{var Ze;null===(Ze=ke.next)||void 0===Ze||Ze.call(ke,tt),Te.next(tt)},()=>{var tt;Xe=!1,null===(tt=ke.complete)||void 0===tt||tt.call(ke),Te.complete()},tt=>{var Ze;Xe=!1,null===(Ze=ke.error)||void 0===Ze||Ze.call(ke,tt),Te.error(tt)},()=>{var tt,Ze;Xe&&(null===(tt=ke.unsubscribe)||void 0===tt||tt.call(ke)),null===(Ze=ke.finalize)||void 0===Ze||Ze.call(ke)}))}):z.y}},8068:(fn,ht,S)=>{S.d(ht,{T:()=>z});var u=S(6805),C=S(4482),G=S(5403);function z(Ue=Ce){return(0,C.e)((ze,ge)=>{let ke=!1;ze.subscribe((0,G.x)(ge,me=>{ke=!0,ge.next(me)},()=>ke?ge.complete():ge.error(Ue())))})}function Ce(){return new u.K}},4408:(fn,ht,S)=>{S.d(ht,{o:()=>Ce});var u=S(727);class C extends u.w0{constructor(ze,ge){super()}schedule(ze,ge=0){return this}}const G={setInterval(Ue,ze,...ge){const{delegate:ke}=G;return(null==ke?void 0:ke.setInterval)?ke.setInterval(Ue,ze,...ge):setInterval(Ue,ze,...ge)},clearInterval(Ue){const{delegate:ze}=G;return((null==ze?void 0:ze.clearInterval)||clearInterval)(Ue)},delegate:void 0};var z=S(8737);class Ce extends C{constructor(ze,ge){super(ze,ge),this.scheduler=ze,this.work=ge,this.pending=!1}schedule(ze,ge=0){if(this.closed)return this;this.state=ze;const ke=this.id,me=this.scheduler;return null!=ke&&(this.id=this.recycleAsyncId(me,ke,ge)),this.pending=!0,this.delay=ge,this.id=this.id||this.requestAsyncId(me,this.id,ge),this}requestAsyncId(ze,ge,ke=0){return G.setInterval(ze.flush.bind(ze,this),ke)}recycleAsyncId(ze,ge,ke=0){if(null!=ke&&this.delay===ke&&!1===this.pending)return ge;G.clearInterval(ge)}execute(ze,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ke=this._execute(ze,ge);if(ke)return ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ze,ge){let me,ke=!1;try{this.work(ze)}catch(Te){ke=!0,me=Te||new Error("Scheduled action threw falsy error")}if(ke)return this.unsubscribe(),me}unsubscribe(){if(!this.closed){const{id:ze,scheduler:ge}=this,{actions:ke}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,z.P)(ke,this),null!=ze&&(this.id=this.recycleAsyncId(ge,ze,null)),this.delay=null,super.unsubscribe()}}}},7565:(fn,ht,S)=>{S.d(ht,{v:()=>G});var u=S(6063);class C{constructor(Ce,Ue=C.now){this.schedulerActionCtor=Ce,this.now=Ue}schedule(Ce,Ue=0,ze){return new this.schedulerActionCtor(this,Ce).schedule(ze,Ue)}}C.now=u.l.now;class G extends C{constructor(Ce,Ue=C.now){super(Ce,Ue),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ce){const{actions:Ue}=this;if(this._active)return void Ue.push(Ce);let ze;this._active=!0;do{if(ze=Ce.execute(Ce.state,Ce.delay))break}while(Ce=Ue.shift());if(this._active=!1,ze){for(;Ce=Ue.shift();)Ce.unsubscribe();throw ze}}}},4986:(fn,ht,S)=>{S.d(ht,{z:()=>G,P:()=>z});var u=S(4408);const G=new(S(7565).v)(u.o),z=G},6063:(fn,ht,S)=>{S.d(ht,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(fn,ht,S)=>{S.d(ht,{z:()=>u});const u={setTimeout(C,G,...z){const{delegate:Ce}=u;return(null==Ce?void 0:Ce.setTimeout)?Ce.setTimeout(C,G,...z):setTimeout(C,G,...z)},clearTimeout(C){const{delegate:G}=u;return((null==G?void 0:G.clearTimeout)||clearTimeout)(C)},delegate:void 0}},2202:(fn,ht,S)=>{S.d(ht,{h:()=>C});const C=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(fn,ht,S)=>{S.d(ht,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(fn,ht,S)=>{S.d(ht,{K:()=>C});const C=(0,S(3888).d)(G=>function(){G(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(fn,ht,S)=>{S.d(ht,{jO:()=>z,yG:()=>Ce,_6:()=>Ue});var u=S(576),C=S(3532);function G(ze){return ze[ze.length-1]}function z(ze){return(0,u.m)(G(ze))?ze.pop():void 0}function Ce(ze){return(0,C.K)(G(ze))?ze.pop():void 0}function Ue(ze,ge){return"number"==typeof G(ze)?ze.pop():ge}},4742:(fn,ht,S)=>{S.d(ht,{D:()=>Ce});const{isArray:u}=Array,{getPrototypeOf:C,prototype:G,keys:z}=Object;function Ce(ze){if(1===ze.length){const ge=ze[0];if(u(ge))return{args:ge,keys:null};if(function Ue(ze){return ze&&"object"==typeof ze&&C(ze)===G}(ge)){const ke=z(ge);return{args:ke.map(me=>ge[me]),keys:ke}}}return{args:ze,keys:null}}},8737:(fn,ht,S)=>{function u(C,G){if(C){const z=C.indexOf(G);0<=z&&C.splice(z,1)}}S.d(ht,{P:()=>u})},3888:(fn,ht,S)=>{function u(C){const z=C(Ce=>{Error.call(Ce),Ce.stack=(new Error).stack});return z.prototype=Object.create(Error.prototype),z.prototype.constructor=z,z}S.d(ht,{d:()=>u})},1810:(fn,ht,S)=>{function u(C,G){return C.reduce((z,Ce,Ue)=>(z[Ce]=G[Ue],z),{})}S.d(ht,{n:()=>u})},2806:(fn,ht,S)=>{S.d(ht,{x:()=>G,O:()=>z});var u=S(2416);let C=null;function G(Ce){if(u.v.useDeprecatedSynchronousErrorHandling){const Ue=!C;if(Ue&&(C={errorThrown:!1,error:null}),Ce(),Ue){const{errorThrown:ze,error:ge}=C;if(C=null,ze)throw ge}}else Ce()}function z(Ce){u.v.useDeprecatedSynchronousErrorHandling&&C&&(C.errorThrown=!0,C.error=Ce)}},9672:(fn,ht,S)=>{function u(C,G,z,Ce=0,Ue=!1){const ze=G.schedule(function(){z(),Ue?C.add(this.schedule(null,Ce)):this.unsubscribe()},Ce);if(C.add(ze),!Ue)return ze}S.d(ht,{f:()=>u})},4671:(fn,ht,S)=>{function u(C){return C}S.d(ht,{y:()=>u})},1144:(fn,ht,S)=>{S.d(ht,{z:()=>u});const u=C=>C&&"number"==typeof C.length&&"function"!=typeof C},2206:(fn,ht,S)=>{S.d(ht,{D:()=>C});var u=S(576);function C(G){return Symbol.asyncIterator&&(0,u.m)(null==G?void 0:G[Symbol.asyncIterator])}},576:(fn,ht,S)=>{function u(C){return"function"==typeof C}S.d(ht,{m:()=>u})},3670:(fn,ht,S)=>{S.d(ht,{c:()=>G});var u=S(8822),C=S(576);function G(z){return(0,C.m)(z[u.L])}},6495:(fn,ht,S)=>{S.d(ht,{T:()=>G});var u=S(2202),C=S(576);function G(z){return(0,C.m)(null==z?void 0:z[u.h])}},8239:(fn,ht,S)=>{S.d(ht,{t:()=>C});var u=S(576);function C(G){return(0,u.m)(null==G?void 0:G.then)}},3260:(fn,ht,S)=>{S.d(ht,{Q:()=>G,L:()=>z});var u=S(655),C=S(576);function G(Ce){return(0,u.FC)(this,arguments,function*(){const ze=Ce.getReader();try{for(;;){const{value:ge,done:ke}=yield(0,u.qq)(ze.read());if(ke)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ge)}}finally{ze.releaseLock()}})}function z(Ce){return(0,C.m)(null==Ce?void 0:Ce.getReader)}},3532:(fn,ht,S)=>{S.d(ht,{K:()=>C});var u=S(576);function C(G){return G&&(0,u.m)(G.schedule)}},4482:(fn,ht,S)=>{S.d(ht,{A:()=>C,e:()=>G});var u=S(576);function C(z){return(0,u.m)(null==z?void 0:z.lift)}function G(z){return Ce=>{if(C(Ce))return Ce.lift(function(Ue){try{return z(Ue,this)}catch(ze){this.error(ze)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(fn,ht,S)=>{S.d(ht,{Z:()=>z});var u=S(4004);const{isArray:C}=Array;function z(Ce){return(0,u.U)(Ue=>function G(Ce,Ue){return C(Ue)?Ce(...Ue):Ce(Ue)}(Ce,Ue))}},5032:(fn,ht,S)=>{function u(){}S.d(ht,{Z:()=>u})},9635:(fn,ht,S)=>{S.d(ht,{z:()=>C,U:()=>G});var u=S(4671);function C(...z){return G(z)}function G(z){return 0===z.length?u.y:1===z.length?z[0]:function(Ue){return z.reduce((ze,ge)=>ge(ze),Ue)}}},7849:(fn,ht,S)=>{S.d(ht,{h:()=>G});var u=S(2416),C=S(3410);function G(z){C.z.setTimeout(()=>{const{onUnhandledError:Ce}=u.v;if(!Ce)throw z;Ce(z)})}},4532:(fn,ht,S)=>{function u(C){return new TypeError(`You provided ${null!==C&&"object"==typeof C?"an invalid object":`'${C}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(ht,{z:()=>u})},655:(fn,ht,S)=>{function z(_t,mt){var Ct={};for(var xt in _t)Object.prototype.hasOwnProperty.call(_t,xt)&&mt.indexOf(xt)<0&&(Ct[xt]=_t[xt]);if(null!=_t&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(xt=Object.getOwnPropertySymbols(_t);ut<xt.length;ut++)mt.indexOf(xt[ut])<0&&Object.prototype.propertyIsEnumerable.call(_t,xt[ut])&&(Ct[xt[ut]]=_t[xt[ut]])}return Ct}function ge(_t,mt,Ct,xt){return new(Ct||(Ct=Promise))(function(Kt,tn){function dn(Bt){try{At(xt.next(Bt))}catch(vn){tn(vn)}}function rn(Bt){try{At(xt.throw(Bt))}catch(vn){tn(vn)}}function At(Bt){Bt.done?Kt(Bt.value):function ut(Kt){return Kt instanceof Ct?Kt:new Ct(function(tn){tn(Kt)})}(Bt.value).then(dn,rn)}At((xt=xt.apply(_t,mt||[])).next())})}function Je(_t){return this instanceof Je?(this.v=_t,this):new Je(_t)}function pt(_t,mt,Ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,xt=Ct.apply(_t,mt||[]),Kt=[];return ut={},tn("next"),tn("throw"),tn("return"),ut[Symbol.asyncIterator]=function(){return this},ut;function tn(He){xt[He]&&(ut[He]=function(vt){return new Promise(function(sn,an){Kt.push([He,vt,sn,an])>1||dn(He,vt)})})}function dn(He,vt){try{!function rn(He){He.value instanceof Je?Promise.resolve(He.value.v).then(At,Bt):vn(Kt[0][2],He)}(xt[He](vt))}catch(sn){vn(Kt[0][3],sn)}}function At(He){dn("next",He)}function Bt(He){dn("throw",He)}function vn(He,vt){He(vt),Kt.shift(),Kt.length&&dn(Kt[0][0],Kt[0][1])}}function Ut(_t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct,mt=_t[Symbol.asyncIterator];return mt?mt.call(_t):(_t=function Fe(_t){var mt="function"==typeof Symbol&&Symbol.iterator,Ct=mt&&_t[mt],xt=0;if(Ct)return Ct.call(_t);if(_t&&"number"==typeof _t.length)return{next:function(){return _t&&xt>=_t.length&&(_t=void 0),{value:_t&&_t[xt++],done:!_t}}};throw new TypeError(mt?"Object is not iterable.":"Symbol.iterator is not defined.")}(_t),Ct={},xt("next"),xt("throw"),xt("return"),Ct[Symbol.asyncIterator]=function(){return this},Ct);function xt(Kt){Ct[Kt]=_t[Kt]&&function(tn){return new Promise(function(dn,rn){!function ut(Kt,tn,dn,rn){Promise.resolve(rn).then(function(At){Kt({value:At,done:dn})},tn)}(dn,rn,(tn=_t[Kt](tn)).done,tn.value)})}}}S.d(ht,{_T:()=>z,mG:()=>ge,qq:()=>Je,FC:()=>pt,KL:()=>Ut})},1777:(fn,ht,S)=>{S.d(ht,{l3:()=>G,_j:()=>u,LC:()=>C,ZN:()=>pt,jt:()=>Ce,pV:()=>Xe,F4:()=>me,IO:()=>Ze,vP:()=>ze,SB:()=>ke,oB:()=>ge,eR:()=>Te,X$:()=>z,ZE:()=>Ye,k1:()=>Ut});class u{}class C{}const G="*";function z($e,De){return{type:7,name:$e,definitions:De,options:{}}}function Ce($e,De=null){return{type:4,styles:De,timings:$e}}function ze($e,De=null){return{type:2,steps:$e,options:De}}function ge($e){return{type:6,styles:$e,offset:null}}function ke($e,De,Se){return{type:0,name:$e,styles:De,options:Se}}function me($e){return{type:5,steps:$e}}function Te($e,De,Se=null){return{type:1,expr:$e,animation:De,options:Se}}function Xe($e=null){return{type:9,options:$e}}function Ze($e,De,Se=null){return{type:11,selector:$e,animation:De,options:Se}}function Je($e){Promise.resolve(null).then($e)}class pt{constructor(De=0,Se=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=De+Se}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}onStart(De){this._onStartFns.push(De)}onDone(De){this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Je(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(De=>De()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(De){this._position=this.totalTime?De*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(De){const Se="start"==De?this._onStartFns:this._onDoneFns;Se.forEach(Le=>Le()),Se.length=0}}class Ye{constructor(De){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=De;let Se=0,Le=0,le=0;const Tt=this.players.length;0==Tt?Je(()=>this._onFinish()):this.players.forEach(kt=>{kt.onDone(()=>{++Se==Tt&&this._onFinish()}),kt.onDestroy(()=>{++Le==Tt&&this._onDestroy()}),kt.onStart(()=>{++le==Tt&&this._onStart()})}),this.totalTime=this.players.reduce((kt,_t)=>Math.max(kt,_t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}init(){this.players.forEach(De=>De.init())}onStart(De){this._onStartFns.push(De)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(De=>De()),this._onStartFns=[])}onDone(De){this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(De=>De.play())}pause(){this.players.forEach(De=>De.pause())}restart(){this.players.forEach(De=>De.restart())}finish(){this._onFinish(),this.players.forEach(De=>De.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(De=>De.destroy()),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this.players.forEach(De=>De.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(De){const Se=De*this.totalTime;this.players.forEach(Le=>{const le=Le.totalTime?Math.min(1,Se/Le.totalTime):1;Le.setPosition(le)})}getPosition(){const De=this.players.reduce((Se,Le)=>null===Se||Le.totalTime>Se.totalTime?Le:Se,null);return null!=De?De.getPosition():0}beforeDestroy(){this.players.forEach(De=>{De.beforeDestroy&&De.beforeDestroy()})}triggerCallback(De){const Se="start"==De?this._onStartFns:this._onDoneFns;Se.forEach(Le=>Le()),Se.length=0}}const Ut="!"},5664:(fn,ht,S)=>{S.d(ht,{s1:()=>mt,$s:()=>le,Em:()=>Ct,tE:()=>cn,qm:()=>at,Kd:()=>Mt,X6:()=>bn,yG:()=>En});var u=S(9808),C=S(5e3),G=S(925),z=S(7579),Ce=S(727),Ue=S(1135),ze=S(9646),ge=S(1159),ke=S(8505),me=S(8372),Te=S(9300),Fe=S(4004),Xe=S(5684),tt=S(1884),Ze=S(2722),Dt=S(3191);function Ut(ye,Z){return(ye.getAttribute(Z)||"").match(/\S+/g)||[]}const De="cdk-describedby-message",Se="cdk-describedby-host";let Le=0,le=(()=>{class ye{constructor(M,w){this._platform=w,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Le++,this._document=M}describe(M,w,L){if(!this._canBeDescribed(M,w))return;const be=Tt(w,L);"string"!=typeof w?(kt(w),this._messageRegistry.set(be,{messageElement:w,referenceCount:0})):this._messageRegistry.has(be)||this._createMessageElement(w,L),this._isElementDescribedByMessage(M,be)||this._addMessageReference(M,be)}removeDescription(M,w,L){var be;if(!w||!this._isElementNode(M))return;const We=Tt(w,L);if(this._isElementDescribedByMessage(M,We)&&this._removeMessageReference(M,We),"string"==typeof w){const Ae=this._messageRegistry.get(We);Ae&&0===Ae.referenceCount&&this._deleteMessageElement(We)}0===(null===(be=this._messagesContainer)||void 0===be?void 0:be.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var M;const w=this._document.querySelectorAll(`[${Se}="${this._id}"]`);for(let L=0;L<w.length;L++)this._removeCdkDescribedByReferenceIds(w[L]),w[L].removeAttribute(Se);null===(M=this._messagesContainer)||void 0===M||M.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(M,w){const L=this._document.createElement("div");kt(L),L.textContent=M,w&&L.setAttribute("role",w),this._createMessagesContainer(),this._messagesContainer.appendChild(L),this._messageRegistry.set(Tt(M,w),{messageElement:L,referenceCount:0})}_deleteMessageElement(M){var w,L;null===(L=null===(w=this._messageRegistry.get(M))||void 0===w?void 0:w.messageElement)||void 0===L||L.remove(),this._messageRegistry.delete(M)}_createMessagesContainer(){if(this._messagesContainer)return;const M="cdk-describedby-message-container",w=this._document.querySelectorAll(`.${M}[platform="server"]`);for(let be=0;be<w.length;be++)w[be].remove();const L=this._document.createElement("div");L.style.visibility="hidden",L.classList.add(M),L.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&L.setAttribute("platform","server"),this._document.body.appendChild(L),this._messagesContainer=L}_removeCdkDescribedByReferenceIds(M){const w=Ut(M,"aria-describedby").filter(L=>0!=L.indexOf(De));M.setAttribute("aria-describedby",w.join(" "))}_addMessageReference(M,w){const L=this._messageRegistry.get(w);(function pt(ye,Z,M){const w=Ut(ye,Z);w.some(L=>L.trim()==M.trim())||(w.push(M.trim()),ye.setAttribute(Z,w.join(" ")))})(M,"aria-describedby",L.messageElement.id),M.setAttribute(Se,this._id),L.referenceCount++}_removeMessageReference(M,w){const L=this._messageRegistry.get(w);L.referenceCount--,function Ye(ye,Z,M){const L=Ut(ye,Z).filter(be=>be!=M.trim());L.length?ye.setAttribute(Z,L.join(" ")):ye.removeAttribute(Z)}(M,"aria-describedby",L.messageElement.id),M.removeAttribute(Se)}_isElementDescribedByMessage(M,w){const L=Ut(M,"aria-describedby"),be=this._messageRegistry.get(w),We=be&&be.messageElement.id;return!!We&&-1!=L.indexOf(We)}_canBeDescribed(M,w){if(!this._isElementNode(M))return!1;if(w&&"object"==typeof w)return!0;const L=null==w?"":`${w}`.trim(),be=M.getAttribute("aria-label");return!(!L||be&&be.trim()===L)}_isElementNode(M){return M.nodeType===this._document.ELEMENT_NODE}}return ye.\u0275fac=function(M){return new(M||ye)(C.LFG(u.K0),C.LFG(G.t4))},ye.\u0275prov=C.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();function Tt(ye,Z){return"string"==typeof ye?`${Z||""}/${ye}`:ye}function kt(ye){ye.id||(ye.id=`${De}-${Le++}`)}class _t{constructor(Z){this._items=Z,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new z.x,this._typeaheadSubscription=Ce.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=M=>M.disabled,this._pressedLetters=[],this.tabOut=new z.x,this.change=new z.x,Z instanceof C.n_E&&Z.changes.subscribe(M=>{if(this._activeItem){const L=M.toArray().indexOf(this._activeItem);L>-1&&L!==this._activeItemIndex&&(this._activeItemIndex=L)}})}skipPredicate(Z){return this._skipPredicateFn=Z,this}withWrap(Z=!0){return this._wrap=Z,this}withVerticalOrientation(Z=!0){return this._vertical=Z,this}withHorizontalOrientation(Z){return this._horizontal=Z,this}withAllowedModifierKeys(Z){return this._allowedModifierKeys=Z,this}withTypeAhead(Z=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ke.b)(M=>this._pressedLetters.push(M)),(0,me.b)(Z),(0,Te.h)(()=>this._pressedLetters.length>0),(0,Fe.U)(()=>this._pressedLetters.join(""))).subscribe(M=>{const w=this._getItemsArray();for(let L=1;L<w.length+1;L++){const be=(this._activeItemIndex+L)%w.length,We=w[be];if(!this._skipPredicateFn(We)&&0===We.getLabel().toUpperCase().trim().indexOf(M)){this.setActiveItem(be);break}}this._pressedLetters=[]}),this}withHomeAndEnd(Z=!0){return this._homeAndEnd=Z,this}setActiveItem(Z){const M=this._activeItem;this.updateActiveItem(Z),this._activeItem!==M&&this.change.next(this._activeItemIndex)}onKeydown(Z){const M=Z.keyCode,L=["altKey","ctrlKey","metaKey","shiftKey"].every(be=>!Z[be]||this._allowedModifierKeys.indexOf(be)>-1);switch(M){case ge.Mf:return void this.tabOut.next();case ge.JH:if(this._vertical&&L){this.setNextItemActive();break}return;case ge.LH:if(this._vertical&&L){this.setPreviousItemActive();break}return;case ge.SV:if(this._horizontal&&L){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ge.oh:if(this._horizontal&&L){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ge.Sd:if(this._homeAndEnd&&L){this.setFirstItemActive();break}return;case ge.uR:if(this._homeAndEnd&&L){this.setLastItemActive();break}return;default:return void((L||(0,ge.Vb)(Z,"shiftKey"))&&(Z.key&&1===Z.key.length?this._letterKeyStream.next(Z.key.toLocaleUpperCase()):(M>=ge.A&&M<=ge.Z||M>=ge.xE&&M<=ge.aO)&&this._letterKeyStream.next(String.fromCharCode(M))))}this._pressedLetters=[],Z.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Z){const M=this._getItemsArray(),w="number"==typeof Z?Z:M.indexOf(Z),L=M[w];this._activeItem=null==L?null:L,this._activeItemIndex=w}_setActiveItemByDelta(Z){this._wrap?this._setActiveInWrapMode(Z):this._setActiveInDefaultMode(Z)}_setActiveInWrapMode(Z){const M=this._getItemsArray();for(let w=1;w<=M.length;w++){const L=(this._activeItemIndex+Z*w+M.length)%M.length;if(!this._skipPredicateFn(M[L]))return void this.setActiveItem(L)}}_setActiveInDefaultMode(Z){this._setActiveItemByIndex(this._activeItemIndex+Z,Z)}_setActiveItemByIndex(Z,M){const w=this._getItemsArray();if(w[Z]){for(;this._skipPredicateFn(w[Z]);)if(!w[Z+=M])return;this.setActiveItem(Z)}}_getItemsArray(){return this._items instanceof C.n_E?this._items.toArray():this._items}}class mt extends _t{setActiveItem(Z){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Z),this.activeItem&&this.activeItem.setActiveStyles()}}class Ct extends _t{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Z){return this._origin=Z,this}setActiveItem(Z){super.setActiveItem(Z),this.activeItem&&this.activeItem.focus(this._origin)}}function bn(ye){return 0===ye.buttons||0===ye.offsetX&&0===ye.offsetY}function En(ye){const Z=ye.touches&&ye.touches[0]||ye.changedTouches&&ye.changedTouches[0];return!(!Z||-1!==Z.identifier||null!=Z.radiusX&&1!==Z.radiusX||null!=Z.radiusY&&1!==Z.radiusY)}const Er=new C.OlP("cdk-input-modality-detector-options"),$n={ignoreKeys:[ge.zL,ge.jx,ge.b2,ge.MW,ge.JU]},Ir=(0,G.i$)({passive:!0,capture:!0});let nn=(()=>{class ye{constructor(M,w,L,be){this._platform=M,this._mostRecentTarget=null,this._modality=new Ue.X(null),this._lastTouchMs=0,this._onKeydown=We=>{var Ae,Ne;(null===(Ne=null===(Ae=this._options)||void 0===Ae?void 0:Ae.ignoreKeys)||void 0===Ne?void 0:Ne.some(Ge=>Ge===We.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,G.sA)(We))},this._onMousedown=We=>{Date.now()-this._lastTouchMs<650||(this._modality.next(bn(We)?"keyboard":"mouse"),this._mostRecentTarget=(0,G.sA)(We))},this._onTouchstart=We=>{En(We)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,G.sA)(We))},this._options=Object.assign(Object.assign({},$n),be),this.modalityDetected=this._modality.pipe((0,Xe.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,tt.x)()),M.isBrowser&&w.runOutsideAngular(()=>{L.addEventListener("keydown",this._onKeydown,Ir),L.addEventListener("mousedown",this._onMousedown,Ir),L.addEventListener("touchstart",this._onTouchstart,Ir)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ir),document.removeEventListener("mousedown",this._onMousedown,Ir),document.removeEventListener("touchstart",this._onTouchstart,Ir))}}return ye.\u0275fac=function(M){return new(M||ye)(C.LFG(G.t4),C.LFG(C.R0b),C.LFG(u.K0),C.LFG(Er,8))},ye.\u0275prov=C.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();const Rt=new C.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Et(){return null}}),Qe=new C.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Mt=(()=>{class ye{constructor(M,w,L,be){this._ngZone=w,this._defaultOptions=be,this._document=L,this._liveElement=M||this._createLiveElement()}announce(M,...w){const L=this._defaultOptions;let be,We;return 1===w.length&&"number"==typeof w[0]?We=w[0]:[be,We]=w,this.clear(),clearTimeout(this._previousTimeout),be||(be=L&&L.politeness?L.politeness:"polite"),null==We&&L&&(We=L.duration),this._liveElement.setAttribute("aria-live",be),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Ae=>this._currentResolve=Ae)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=M,"number"==typeof We&&(this._previousTimeout=setTimeout(()=>this.clear(),We)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var M,w;clearTimeout(this._previousTimeout),null===(M=this._liveElement)||void 0===M||M.remove(),this._liveElement=null,null===(w=this._currentResolve)||void 0===w||w.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const M="cdk-live-announcer-element",w=this._document.getElementsByClassName(M),L=this._document.createElement("div");for(let be=0;be<w.length;be++)w[be].remove();return L.classList.add(M),L.classList.add("cdk-visually-hidden"),L.setAttribute("aria-atomic","true"),L.setAttribute("aria-live","polite"),this._document.body.appendChild(L),L}}return ye.\u0275fac=function(M){return new(M||ye)(C.LFG(Rt,8),C.LFG(C.R0b),C.LFG(u.K0),C.LFG(Qe,8))},ye.\u0275prov=C.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();const bt=new C.OlP("cdk-focus-monitor-default-options"),wn=(0,G.i$)({passive:!0,capture:!0});let cn=(()=>{class ye{constructor(M,w,L,be,We){this._ngZone=M,this._platform=w,this._inputModalityDetector=L,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new z.x,this._rootNodeFocusAndBlurListener=Ae=>{const Ne=(0,G.sA)(Ae),Ge="focus"===Ae.type?this._onFocus:this._onBlur;for(let It=Ne;It;It=It.parentElement)Ge.call(this,Ae,It)},this._document=be,this._detectionMode=(null==We?void 0:We.detectionMode)||0}monitor(M,w=!1){const L=(0,Dt.fI)(M);if(!this._platform.isBrowser||1!==L.nodeType)return(0,ze.of)(null);const be=(0,G.kV)(L)||this._getDocument(),We=this._elementInfo.get(L);if(We)return w&&(We.checkChildren=!0),We.subject;const Ae={checkChildren:w,subject:new z.x,rootNode:be};return this._elementInfo.set(L,Ae),this._registerGlobalListeners(Ae),Ae.subject}stopMonitoring(M){const w=(0,Dt.fI)(M),L=this._elementInfo.get(w);L&&(L.subject.complete(),this._setClasses(w),this._elementInfo.delete(w),this._removeGlobalListeners(L))}focusVia(M,w,L){const be=(0,Dt.fI)(M);be===this._getDocument().activeElement?this._getClosestElementsInfo(be).forEach(([Ae,Ne])=>this._originChanged(Ae,w,Ne)):(this._setOrigin(w),"function"==typeof be.focus&&be.focus(L))}ngOnDestroy(){this._elementInfo.forEach((M,w)=>this.stopMonitoring(w))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(M){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(M)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(M){return 1===this._detectionMode||!!(null==M?void 0:M.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(M,w){M.classList.toggle("cdk-focused",!!w),M.classList.toggle("cdk-touch-focused","touch"===w),M.classList.toggle("cdk-keyboard-focused","keyboard"===w),M.classList.toggle("cdk-mouse-focused","mouse"===w),M.classList.toggle("cdk-program-focused","program"===w)}_setOrigin(M,w=!1){this._ngZone.runOutsideAngular(()=>{this._origin=M,this._originFromTouchInteraction="touch"===M&&w,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(M,w){const L=this._elementInfo.get(w),be=(0,G.sA)(M);!L||!L.checkChildren&&w!==be||this._originChanged(w,this._getFocusOrigin(be),L)}_onBlur(M,w){const L=this._elementInfo.get(w);!L||L.checkChildren&&M.relatedTarget instanceof Node&&w.contains(M.relatedTarget)||(this._setClasses(w),this._emitOrigin(L.subject,null))}_emitOrigin(M,w){this._ngZone.run(()=>M.next(w))}_registerGlobalListeners(M){if(!this._platform.isBrowser)return;const w=M.rootNode,L=this._rootNodeFocusListenerCount.get(w)||0;L||this._ngZone.runOutsideAngular(()=>{w.addEventListener("focus",this._rootNodeFocusAndBlurListener,wn),w.addEventListener("blur",this._rootNodeFocusAndBlurListener,wn)}),this._rootNodeFocusListenerCount.set(w,L+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Ze.R)(this._stopInputModalityDetector)).subscribe(be=>{this._setOrigin(be,!0)}))}_removeGlobalListeners(M){const w=M.rootNode;if(this._rootNodeFocusListenerCount.has(w)){const L=this._rootNodeFocusListenerCount.get(w);L>1?this._rootNodeFocusListenerCount.set(w,L-1):(w.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wn),w.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wn),this._rootNodeFocusListenerCount.delete(w))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(M,w,L){this._setClasses(M,w),this._emitOrigin(L.subject,w),this._lastFocusOrigin=w}_getClosestElementsInfo(M){const w=[];return this._elementInfo.forEach((L,be)=>{(be===M||L.checkChildren&&be.contains(M))&&w.push([be,L])}),w}}return ye.\u0275fac=function(M){return new(M||ye)(C.LFG(C.R0b),C.LFG(G.t4),C.LFG(nn),C.LFG(u.K0,8),C.LFG(bt,8))},ye.\u0275prov=C.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();const wr="cdk-high-contrast-black-on-white",rr="cdk-high-contrast-white-on-black",tr="cdk-high-contrast-active";let at=(()=>{class ye{constructor(M,w){this._platform=M,this._document=w}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const M=this._document.createElement("div");M.style.backgroundColor="rgb(1,2,3)",M.style.position="absolute",this._document.body.appendChild(M);const w=this._document.defaultView||window,L=w&&w.getComputedStyle?w.getComputedStyle(M):null,be=(L&&L.backgroundColor||"").replace(/ /g,"");switch(M.remove(),be){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const M=this._document.body.classList;M.remove(tr),M.remove(wr),M.remove(rr),this._hasCheckedHighContrastMode=!0;const w=this.getHighContrastMode();1===w?(M.add(tr),M.add(wr)):2===w&&(M.add(tr),M.add(rr))}}}return ye.\u0275fac=function(M){return new(M||ye)(C.LFG(G.t4),C.LFG(u.K0))},ye.\u0275prov=C.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})()},226:(fn,ht,S)=>{S.d(ht,{vT:()=>ke,Is:()=>ze});var u=S(5e3),C=S(9808);const G=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function z(){return(0,u.f3M)(C.K0)}}),Ce=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ze=(()=>{class me{constructor(Fe){if(this.value="ltr",this.change=new u.vpe,Fe){const tt=Fe.documentElement?Fe.documentElement.dir:null;this.value=function Ue(me){const Te=(null==me?void 0:me.toLowerCase())||"";return"auto"===Te&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Ce.test(navigator.language)?"rtl":"ltr":"rtl"===Te?"rtl":"ltr"}((Fe.body?Fe.body.dir:null)||tt||"ltr")}}ngOnDestroy(){this.change.complete()}}return me.\u0275fac=function(Fe){return new(Fe||me)(u.LFG(G,8))},me.\u0275prov=u.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})(),ke=(()=>{class me{}return me.\u0275fac=function(Fe){return new(Fe||me)},me.\u0275mod=u.oAB({type:me}),me.\u0275inj=u.cJS({}),me})()},3191:(fn,ht,S)=>{S.d(ht,{Eq:()=>Ce,Ig:()=>C,HM:()=>Ue,fI:()=>ze,su:()=>G});var u=S(5e3);function C(ke){return null!=ke&&"false"!=`${ke}`}function G(ke,me=0){return function z(ke){return!isNaN(parseFloat(ke))&&!isNaN(Number(ke))}(ke)?Number(ke):me}function Ce(ke){return Array.isArray(ke)?ke:[ke]}function Ue(ke){return null==ke?"":"string"==typeof ke?ke:`${ke}px`}function ze(ke){return ke instanceof u.SBq?ke.nativeElement:ke}},449:(fn,ht,S)=>{S.d(ht,{Ov:()=>ge,yy:()=>Ue,eX:()=>ze,k:()=>Te,Z9:()=>z});var u=S(7579),C=S(5e3);function z(Fe){return Fe&&"function"==typeof Fe.connect}class Ue{applyChanges(Xe,tt,Ze,Dt,Je){Xe.forEachOperation((pt,Ye,Ut)=>{let $e,De;if(null==pt.previousIndex){const Se=Ze(pt,Ye,Ut);$e=tt.createEmbeddedView(Se.templateRef,Se.context,Se.index),De=1}else null==Ut?(tt.remove(Ye),De=3):($e=tt.get(Ye),tt.move($e,Ut),De=2);Je&&Je({context:null==$e?void 0:$e.context,operation:De,record:pt})})}detach(){}}class ze{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Xe,tt,Ze,Dt,Je){Xe.forEachOperation((pt,Ye,Ut)=>{let $e,De;null==pt.previousIndex?($e=this._insertView(()=>Ze(pt,Ye,Ut),Ut,tt,Dt(pt)),De=$e?1:0):null==Ut?(this._detachAndCacheView(Ye,tt),De=3):($e=this._moveView(Ye,Ut,tt,Dt(pt)),De=2),Je&&Je({context:null==$e?void 0:$e.context,operation:De,record:pt})})}detach(){for(const Xe of this._viewCache)Xe.destroy();this._viewCache=[]}_insertView(Xe,tt,Ze,Dt){const Je=this._insertViewFromCache(tt,Ze);if(Je)return void(Je.context.$implicit=Dt);const pt=Xe();return Ze.createEmbeddedView(pt.templateRef,pt.context,pt.index)}_detachAndCacheView(Xe,tt){const Ze=tt.detach(Xe);this._maybeCacheView(Ze,tt)}_moveView(Xe,tt,Ze,Dt){const Je=Ze.get(Xe);return Ze.move(Je,tt),Je.context.$implicit=Dt,Je}_maybeCacheView(Xe,tt){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Xe);else{const Ze=tt.indexOf(Xe);-1===Ze?Xe.destroy():tt.remove(Ze)}}_insertViewFromCache(Xe,tt){const Ze=this._viewCache.pop();return Ze&&tt.insert(Ze,Xe),Ze||null}}class ge{constructor(Xe=!1,tt,Ze=!0){this._multiple=Xe,this._emitChanges=Ze,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new u.x,tt&&tt.length&&(Xe?tt.forEach(Dt=>this._markSelected(Dt)):this._markSelected(tt[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...Xe){this._verifyValueAssignment(Xe),Xe.forEach(tt=>this._markSelected(tt)),this._emitChangeEvent()}deselect(...Xe){this._verifyValueAssignment(Xe),Xe.forEach(tt=>this._unmarkSelected(tt)),this._emitChangeEvent()}toggle(Xe){this.isSelected(Xe)?this.deselect(Xe):this.select(Xe)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(Xe){return this._selection.has(Xe)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Xe){this._multiple&&this.selected&&this._selected.sort(Xe)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Xe){this.isSelected(Xe)||(this._multiple||this._unmarkAll(),this._selection.add(Xe),this._emitChanges&&this._selectedToEmit.push(Xe))}_unmarkSelected(Xe){this.isSelected(Xe)&&(this._selection.delete(Xe),this._emitChanges&&this._deselectedToEmit.push(Xe))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Xe=>this._unmarkSelected(Xe))}_verifyValueAssignment(Xe){}}const Te=new C.OlP("_ViewRepeater")},1159:(fn,ht,S)=>{S.d(ht,{A:()=>vn,zL:()=>ge,ZH:()=>C,jx:()=>ze,yY:()=>Le,JH:()=>Ut,uR:()=>Ze,K5:()=>Ce,hY:()=>Te,Sd:()=>Dt,oh:()=>Je,b2:()=>ti,MW:()=>bt,aO:()=>tn,SV:()=>Ye,JU:()=>Ue,L_:()=>Fe,Mf:()=>G,LH:()=>pt,Z:()=>Ve,xE:()=>le,Vb:()=>ct});const C=8,G=9,Ce=13,Ue=16,ze=17,ge=18,Te=27,Fe=32,Ze=35,Dt=36,Je=37,pt=38,Ye=39,Ut=40,Le=46,le=48,tn=57,vn=65,Ve=90,bt=91,ti=224;function ct(st,...Pt){return Pt.length?Pt.some(on=>st[on]):st.altKey||st.shiftKey||st.ctrlKey||st.metaKey}},925:(fn,ht,S)=>{S.d(ht,{t4:()=>z,sA:()=>Ut,kV:()=>pt,Oy:()=>$e,qK:()=>ge,i$:()=>Te,Mq:()=>tt});var u=S(5e3),C=S(9808);let G;try{G="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(De){G=!1}let Ue,z=(()=>{class De{constructor(Le){this._platformId=Le,this.isBrowser=this._platformId?(0,C.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!G)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return De.\u0275fac=function(Le){return new(Le||De)(u.LFG(u.Lbi))},De.\u0275prov=u.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();const ze=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ge(){if(Ue)return Ue;if("object"!=typeof document||!document)return Ue=new Set(ze),Ue;let De=document.createElement("input");return Ue=new Set(ze.filter(Se=>(De.setAttribute("type",Se),De.type===Se))),Ue}let ke,Xe,Dt;function Te(De){return function me(){if(null==ke&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ke=!0}))}finally{ke=ke||!1}return ke}()?De:!!De.capture}function tt(){if(null==Xe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xe=!1,Xe;if("scrollBehavior"in document.documentElement.style)Xe=!0;else{const De=Element.prototype.scrollTo;Xe=!!De&&!/\{\s*\[native code\]\s*\}/.test(De.toString())}}return Xe}function pt(De){if(function Je(){if(null==Dt){const De="undefined"!=typeof document?document.head:null;Dt=!(!De||!De.createShadowRoot&&!De.attachShadow)}return Dt}()){const Se=De.getRootNode?De.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&Se instanceof ShadowRoot)return Se}return null}function Ut(De){return De.composedPath?De.composedPath()[0]:De.target}function $e(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},5494:(fn,ht,S)=>{S.d(ht,{mF:()=>sr,Cl:()=>Ir,rL:()=>dr});var u=S(3191),C=S(5e3),G=S(4408),z=S(727);const Ce={schedule(nn){let Rt=requestAnimationFrame,Et=cancelAnimationFrame;const{delegate:Qe}=Ce;Qe&&(Rt=Qe.requestAnimationFrame,Et=Qe.cancelAnimationFrame);const Mt=Rt(Ve=>{Et=void 0,nn(Ve)});return new z.w0(()=>null==Et?void 0:Et(Mt))},requestAnimationFrame(...nn){const{delegate:Rt}=Ce;return((null==Rt?void 0:Rt.requestAnimationFrame)||requestAnimationFrame)(...nn)},cancelAnimationFrame(...nn){const{delegate:Rt}=Ce;return((null==Rt?void 0:Rt.cancelAnimationFrame)||cancelAnimationFrame)(...nn)},delegate:void 0};var ze=S(7565);new class ge extends ze.v{flush(Rt){this._active=!0;const Et=this._scheduled;this._scheduled=void 0;const{actions:Qe}=this;let Mt;Rt=Rt||Qe.shift();do{if(Mt=Rt.execute(Rt.state,Rt.delay))break}while((Rt=Qe[0])&&Rt.id===Et&&Qe.shift());if(this._active=!1,Mt){for(;(Rt=Qe[0])&&Rt.id===Et&&Qe.shift();)Rt.unsubscribe();throw Mt}}}(class Ue extends G.o{constructor(Rt,Et){super(Rt,Et),this.scheduler=Rt,this.work=Et}requestAsyncId(Rt,Et,Qe=0){return null!==Qe&&Qe>0?super.requestAsyncId(Rt,Et,Qe):(Rt.actions.push(this),Rt._scheduled||(Rt._scheduled=Ce.requestAnimationFrame(()=>Rt.flush(void 0))))}recycleAsyncId(Rt,Et,Qe=0){if(null!=Qe&&Qe>0||null==Qe&&this.delay>0)return super.recycleAsyncId(Rt,Et,Qe);Rt.actions.some(Mt=>Mt.id===Et)||(Ce.cancelAnimationFrame(Et),Rt._scheduled=void 0)}});let Fe,Te=1;const Xe={};function tt(nn){return nn in Xe&&(delete Xe[nn],!0)}const Ze={setImmediate(nn){const Rt=Te++;return Xe[Rt]=!0,Fe||(Fe=Promise.resolve()),Fe.then(()=>tt(Rt)&&nn()),Rt},clearImmediate(nn){tt(nn)}},{setImmediate:Je,clearImmediate:pt}=Ze,Ye={setImmediate(...nn){const{delegate:Rt}=Ye;return((null==Rt?void 0:Rt.setImmediate)||Je)(...nn)},clearImmediate(nn){const{delegate:Rt}=Ye;return((null==Rt?void 0:Rt.clearImmediate)||pt)(nn)},delegate:void 0};new class $e extends ze.v{flush(Rt){this._active=!0;const Et=this._scheduled;this._scheduled=void 0;const{actions:Qe}=this;let Mt;Rt=Rt||Qe.shift();do{if(Mt=Rt.execute(Rt.state,Rt.delay))break}while((Rt=Qe[0])&&Rt.id===Et&&Qe.shift());if(this._active=!1,Mt){for(;(Rt=Qe[0])&&Rt.id===Et&&Qe.shift();)Rt.unsubscribe();throw Mt}}}(class Ut extends G.o{constructor(Rt,Et){super(Rt,Et),this.scheduler=Rt,this.work=Et}requestAsyncId(Rt,Et,Qe=0){return null!==Qe&&Qe>0?super.requestAsyncId(Rt,Et,Qe):(Rt.actions.push(this),Rt._scheduled||(Rt._scheduled=Ye.setImmediate(Rt.flush.bind(Rt,void 0))))}recycleAsyncId(Rt,Et,Qe=0){if(null!=Qe&&Qe>0||null==Qe&&this.delay>0)return super.recycleAsyncId(Rt,Et,Qe);Rt.actions.some(Mt=>Mt.id===Et)||(Ye.clearImmediate(Et),Rt._scheduled=void 0)}});var Le=S(7579),le=S(9646),Tt=S(9751),kt=S(4968),_t=S(4986),mt=S(4482),Ct=S(8421),xt=S(5403),Kt=S(3532);function rn(nn,Rt=_t.z){return function ut(nn){return(0,mt.e)((Rt,Et)=>{let Qe=!1,Mt=null,Ve=null,bt=!1;const wn=()=>{if(null==Ve||Ve.unsubscribe(),Ve=null,Qe){Qe=!1;const Mn=Mt;Mt=null,Et.next(Mn)}bt&&Et.complete()},cn=()=>{Ve=null,bt&&Et.complete()};Rt.subscribe((0,xt.x)(Et,Mn=>{Qe=!0,Mt=Mn,Ve||(0,Ct.Xf)(nn(Mn)).subscribe(Ve=(0,xt.x)(Et,wn,cn))},()=>{bt=!0,(!Qe||!Ve||Ve.closed)&&Et.complete()}))})}(()=>function dn(nn=0,Rt,Et=_t.P){let Qe=-1;return null!=Rt&&((0,Kt.K)(Rt)?Et=Rt:Qe=Rt),new Tt.y(Mt=>{let Ve=function tn(nn){return nn instanceof Date&&!isNaN(nn)}(nn)?+nn-Et.now():nn;Ve<0&&(Ve=0);let bt=0;return Et.schedule(function(){Mt.closed||(Mt.next(bt++),0<=Qe?this.schedule(void 0,Qe):Mt.complete())},Ve)})}(nn,Rt))}var At=S(9300),Bt=S(9808),vn=S(925),He=S(226);let sr=(()=>{class nn{constructor(Et,Qe,Mt){this._ngZone=Et,this._platform=Qe,this._scrolled=new Le.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Mt}register(Et){this.scrollContainers.has(Et)||this.scrollContainers.set(Et,Et.elementScrolled().subscribe(()=>this._scrolled.next(Et)))}deregister(Et){const Qe=this.scrollContainers.get(Et);Qe&&(Qe.unsubscribe(),this.scrollContainers.delete(Et))}scrolled(Et=20){return this._platform.isBrowser?new Tt.y(Qe=>{this._globalSubscription||this._addGlobalListener();const Mt=Et>0?this._scrolled.pipe(rn(Et)).subscribe(Qe):this._scrolled.subscribe(Qe);return this._scrolledCount++,()=>{Mt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,le.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Et,Qe)=>this.deregister(Qe)),this._scrolled.complete()}ancestorScrolled(Et,Qe){const Mt=this.getAncestorScrollContainers(Et);return this.scrolled(Qe).pipe((0,At.h)(Ve=>!Ve||Mt.indexOf(Ve)>-1))}getAncestorScrollContainers(Et){const Qe=[];return this.scrollContainers.forEach((Mt,Ve)=>{this._scrollableContainsElement(Ve,Et)&&Qe.push(Ve)}),Qe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Et,Qe){let Mt=(0,u.fI)(Qe),Ve=Et.getElementRef().nativeElement;do{if(Mt==Ve)return!0}while(Mt=Mt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Et=this._getWindow();return(0,kt.R)(Et.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return nn.\u0275fac=function(Et){return new(Et||nn)(C.LFG(C.R0b),C.LFG(vn.t4),C.LFG(Bt.K0,8))},nn.\u0275prov=C.Yz7({token:nn,factory:nn.\u0275fac,providedIn:"root"}),nn})(),dr=(()=>{class nn{constructor(Et,Qe,Mt){this._platform=Et,this._change=new Le.x,this._changeListener=Ve=>{this._change.next(Ve)},this._document=Mt,Qe.runOutsideAngular(()=>{if(Et.isBrowser){const Ve=this._getWindow();Ve.addEventListener("resize",this._changeListener),Ve.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Et=this._getWindow();Et.removeEventListener("resize",this._changeListener),Et.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Et={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Et}getViewportRect(){const Et=this.getViewportScrollPosition(),{width:Qe,height:Mt}=this.getViewportSize();return{top:Et.top,left:Et.left,bottom:Et.top+Mt,right:Et.left+Qe,height:Mt,width:Qe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Et=this._document,Qe=this._getWindow(),Mt=Et.documentElement,Ve=Mt.getBoundingClientRect();return{top:-Ve.top||Et.body.scrollTop||Qe.scrollY||Mt.scrollTop||0,left:-Ve.left||Et.body.scrollLeft||Qe.scrollX||Mt.scrollLeft||0}}change(Et=20){return Et>0?this._change.pipe(rn(Et)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Et=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Et.innerWidth,height:Et.innerHeight}:{width:0,height:0}}}return nn.\u0275fac=function(Et){return new(Et||nn)(C.LFG(vn.t4),C.LFG(C.R0b),C.LFG(Bt.K0,8))},nn.\u0275prov=C.Yz7({token:nn,factory:nn.\u0275fac,providedIn:"root"}),nn})(),hr=(()=>{class nn{}return nn.\u0275fac=function(Et){return new(Et||nn)},nn.\u0275mod=C.oAB({type:nn}),nn.\u0275inj=C.cJS({}),nn})(),Ir=(()=>{class nn{}return nn.\u0275fac=function(Et){return new(Et||nn)},nn.\u0275mod=C.oAB({type:nn}),nn.\u0275inj=C.cJS({imports:[[He.vT,hr],He.vT,hr]}),nn})()},9808:(fn,ht,S)=>{S.d(ht,{mr:()=>Ye,Ov:()=>so,ez:()=>Es,K0:()=>ze,Do:()=>$e,V_:()=>me,Ye:()=>De,S$:()=>Je,mk:()=>si,sg:()=>Vn,O5:()=>ct,RF:()=>ln,n9:()=>Cn,ED:()=>Un,b0:()=>Ut,lw:()=>ge,EM:()=>Nr,JF:()=>Lr,NF:()=>oi,PM:()=>fs,w_:()=>Ue,bD:()=>$i,q:()=>G,Mx:()=>Rr,HT:()=>Ce});var u=S(5e3);let C=null;function G(){return C}function Ce(j){C||(C=j)}class Ue{}const ze=new u.OlP("DocumentToken");let ge=(()=>{class j{historyGo($){throw new Error("Not implemented")}}return j.\u0275fac=function($){return new($||j)},j.\u0275prov=u.Yz7({token:j,factory:function(){return function ke(){return(0,u.LFG)(Te)}()},providedIn:"platform"}),j})();const me=new u.OlP("Location Initialized");let Te=(()=>{class j extends ge{constructor($){super(),this._doc=$,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState($){const Ee=G().getGlobalEventTarget(this._doc,"window");return Ee.addEventListener("popstate",$,!1),()=>Ee.removeEventListener("popstate",$)}onHashChange($){const Ee=G().getGlobalEventTarget(this._doc,"window");return Ee.addEventListener("hashchange",$,!1),()=>Ee.removeEventListener("hashchange",$)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname($){this.location.pathname=$}pushState($,Ee,dt){Fe()?this._history.pushState($,Ee,dt):this.location.hash=dt}replaceState($,Ee,dt){Fe()?this._history.replaceState($,Ee,dt):this.location.hash=dt}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return j.\u0275fac=function($){return new($||j)(u.LFG(ze))},j.\u0275prov=u.Yz7({token:j,factory:function(){return function Xe(){return new Te((0,u.LFG)(ze))}()},providedIn:"platform"}),j})();function Fe(){return!!window.history.pushState}function tt(j,oe){if(0==j.length)return oe;if(0==oe.length)return j;let $=0;return j.endsWith("/")&&$++,oe.startsWith("/")&&$++,2==$?j+oe.substring(1):1==$?j+oe:j+"/"+oe}function Ze(j){const oe=j.match(/#|\?|$/),$=oe&&oe.index||j.length;return j.slice(0,$-("/"===j[$-1]?1:0))+j.slice($)}function Dt(j){return j&&"?"!==j[0]?"?"+j:j}let Je=(()=>{class j{historyGo($){throw new Error("Not implemented")}}return j.\u0275fac=function($){return new($||j)},j.\u0275prov=u.Yz7({token:j,factory:function(){return function pt(j){const oe=(0,u.LFG)(ze).location;return new Ut((0,u.LFG)(ge),oe&&oe.origin||"")}()},providedIn:"root"}),j})();const Ye=new u.OlP("appBaseHref");let Ut=(()=>{class j extends Je{constructor($,Ee){if(super(),this._platformLocation=$,this._removeListenerFns=[],null==Ee&&(Ee=this._platformLocation.getBaseHrefFromDOM()),null==Ee)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Ee}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return tt(this._baseHref,$)}path($=!1){const Ee=this._platformLocation.pathname+Dt(this._platformLocation.search),dt=this._platformLocation.hash;return dt&&$?`${Ee}${dt}`:Ee}pushState($,Ee,dt,Ft){const Xt=this.prepareExternalUrl(dt+Dt(Ft));this._platformLocation.pushState($,Ee,Xt)}replaceState($,Ee,dt,Ft){const Xt=this.prepareExternalUrl(dt+Dt(Ft));this._platformLocation.replaceState($,Ee,Xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var Ee,dt;null===(dt=(Ee=this._platformLocation).historyGo)||void 0===dt||dt.call(Ee,$)}}return j.\u0275fac=function($){return new($||j)(u.LFG(ge),u.LFG(Ye,8))},j.\u0275prov=u.Yz7({token:j,factory:j.\u0275fac}),j})(),$e=(()=>{class j extends Je{constructor($,Ee){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=Ee&&(this._baseHref=Ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let Ee=this._platformLocation.hash;return null==Ee&&(Ee="#"),Ee.length>0?Ee.substring(1):Ee}prepareExternalUrl($){const Ee=tt(this._baseHref,$);return Ee.length>0?"#"+Ee:Ee}pushState($,Ee,dt,Ft){let Xt=this.prepareExternalUrl(dt+Dt(Ft));0==Xt.length&&(Xt=this._platformLocation.pathname),this._platformLocation.pushState($,Ee,Xt)}replaceState($,Ee,dt,Ft){let Xt=this.prepareExternalUrl(dt+Dt(Ft));0==Xt.length&&(Xt=this._platformLocation.pathname),this._platformLocation.replaceState($,Ee,Xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var Ee,dt;null===(dt=(Ee=this._platformLocation).historyGo)||void 0===dt||dt.call(Ee,$)}}return j.\u0275fac=function($){return new($||j)(u.LFG(ge),u.LFG(Ye,8))},j.\u0275prov=u.Yz7({token:j,factory:j.\u0275fac}),j})(),De=(()=>{class j{constructor($,Ee){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=$;const dt=this._platformStrategy.getBaseHref();this._platformLocation=Ee,this._baseHref=Ze(le(dt)),this._platformStrategy.onPopState(Ft=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ft.state,type:Ft.type})})}path($=!1){return this.normalize(this._platformStrategy.path($))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo($,Ee=""){return this.path()==this.normalize($+Dt(Ee))}normalize($){return j.stripTrailingSlash(function Le(j,oe){return j&&oe.startsWith(j)?oe.substring(j.length):oe}(this._baseHref,le($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._platformStrategy.prepareExternalUrl($)}go($,Ee="",dt=null){this._platformStrategy.pushState(dt,"",$,Ee),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Dt(Ee)),dt)}replaceState($,Ee="",dt=null){this._platformStrategy.replaceState(dt,"",$,Ee),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Dt(Ee)),dt)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo($=0){var Ee,dt;null===(dt=(Ee=this._platformStrategy).historyGo)||void 0===dt||dt.call(Ee,$)}onUrlChange($){this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ee=>{this._notifyUrlChangeListeners(Ee.url,Ee.state)}))}_notifyUrlChangeListeners($="",Ee){this._urlChangeListeners.forEach(dt=>dt($,Ee))}subscribe($,Ee,dt){return this._subject.subscribe({next:$,error:Ee,complete:dt})}}return j.normalizeQueryParams=Dt,j.joinWithSlash=tt,j.stripTrailingSlash=Ze,j.\u0275fac=function($){return new($||j)(u.LFG(Je),u.LFG(ge))},j.\u0275prov=u.Yz7({token:j,factory:function(){return function Se(){return new De((0,u.LFG)(Je),(0,u.LFG)(ge))}()},providedIn:"root"}),j})();function le(j){return j.replace(/\/index.html$/,"")}function Rr(j,oe){oe=encodeURIComponent(oe);for(const $ of j.split(";")){const Ee=$.indexOf("="),[dt,Ft]=-1==Ee?[$,""]:[$.slice(0,Ee),$.slice(Ee+1)];if(dt.trim()===oe)return decodeURIComponent(Ft)}return null}let si=(()=>{class j{constructor($,Ee,dt,Ft){this._iterableDiffers=$,this._keyValueDiffers=Ee,this._ngEl=dt,this._renderer=Ft,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass($){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof $?$.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass($){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof $?$.split(/\s+/):$,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const $=this._iterableDiffer.diff(this._rawClass);$&&this._applyIterableChanges($)}else if(this._keyValueDiffer){const $=this._keyValueDiffer.diff(this._rawClass);$&&this._applyKeyValueChanges($)}}_applyKeyValueChanges($){$.forEachAddedItem(Ee=>this._toggleClass(Ee.key,Ee.currentValue)),$.forEachChangedItem(Ee=>this._toggleClass(Ee.key,Ee.currentValue)),$.forEachRemovedItem(Ee=>{Ee.previousValue&&this._toggleClass(Ee.key,!1)})}_applyIterableChanges($){$.forEachAddedItem(Ee=>{if("string"!=typeof Ee.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(Ee.item)}`);this._toggleClass(Ee.item,!0)}),$.forEachRemovedItem(Ee=>this._toggleClass(Ee.item,!1))}_applyClasses($){$&&(Array.isArray($)||$ instanceof Set?$.forEach(Ee=>this._toggleClass(Ee,!0)):Object.keys($).forEach(Ee=>this._toggleClass(Ee,!!$[Ee])))}_removeClasses($){$&&(Array.isArray($)||$ instanceof Set?$.forEach(Ee=>this._toggleClass(Ee,!1)):Object.keys($).forEach(Ee=>this._toggleClass(Ee,!1)))}_toggleClass($,Ee){($=$.trim())&&$.split(/\s+/g).forEach(dt=>{Ee?this._renderer.addClass(this._ngEl.nativeElement,dt):this._renderer.removeClass(this._ngEl.nativeElement,dt)})}}return j.\u0275fac=function($){return new($||j)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},j.\u0275dir=u.lG2({type:j,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),j})();class fr{constructor(oe,$,Ee,dt){this.$implicit=oe,this.ngForOf=$,this.index=Ee,this.count=dt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vn=(()=>{class j{constructor($,Ee,dt){this._viewContainer=$,this._template=Ee,this._differs=dt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const Ee=this._viewContainer;$.forEachOperation((dt,Ft,Xt)=>{if(null==dt.previousIndex)Ee.createEmbeddedView(this._template,new fr(dt.item,this._ngForOf,-1,-1),null===Xt?void 0:Xt);else if(null==Xt)Ee.remove(null===Ft?void 0:Ft);else if(null!==Ft){const kn=Ee.get(Ft);Ee.move(kn,Xt),pr(kn,dt)}});for(let dt=0,Ft=Ee.length;dt<Ft;dt++){const kn=Ee.get(dt).context;kn.index=dt,kn.count=Ft,kn.ngForOf=this._ngForOf}$.forEachIdentityChange(dt=>{pr(Ee.get(dt.currentIndex),dt)})}static ngTemplateContextGuard($,Ee){return!0}}return j.\u0275fac=function($){return new($||j)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},j.\u0275dir=u.lG2({type:j,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),j})();function pr(j,oe){j.context.$implicit=oe.item}let ct=(()=>{class j{constructor($,Ee){this._viewContainer=$,this._context=new st,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ee}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){Pt("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){Pt("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,Ee){return!0}}return j.\u0275fac=function($){return new($||j)(u.Y36(u.s_b),u.Y36(u.Rgc))},j.\u0275dir=u.lG2({type:j,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),j})();class st{constructor(){this.$implicit=null,this.ngIf=null}}function Pt(j,oe){if(oe&&!oe.createEmbeddedView)throw new Error(`${j} must be a TemplateRef, but received '${(0,u.AaK)(oe)}'.`)}class on{constructor(oe,$){this._viewContainerRef=oe,this._templateRef=$,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(oe){oe&&!this._created?this.create():!oe&&this._created&&this.destroy()}}let ln=(()=>{class j{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch($){this._ngSwitch=$,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault($){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push($)}_matchCase($){const Ee=$==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Ee,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Ee}_updateDefaultCases($){if(this._defaultViews&&$!==this._defaultUsed){this._defaultUsed=$;for(let Ee=0;Ee<this._defaultViews.length;Ee++)this._defaultViews[Ee].enforceState($)}}}return j.\u0275fac=function($){return new($||j)},j.\u0275dir=u.lG2({type:j,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),j})(),Cn=(()=>{class j{constructor($,Ee,dt){this.ngSwitch=dt,dt._addCase(),this._view=new on($,Ee)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return j.\u0275fac=function($){return new($||j)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(ln,9))},j.\u0275dir=u.lG2({type:j,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),j})(),Un=(()=>{class j{constructor($,Ee,dt){dt._addDefault(new on($,Ee))}}return j.\u0275fac=function($){return new($||j)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(ln,9))},j.\u0275dir=u.lG2({type:j,selectors:[["","ngSwitchDefault",""]]}),j})();class Mo{createSubscription(oe,$){return oe.subscribe({next:$,error:Ee=>{throw Ee}})}dispose(oe){oe.unsubscribe()}onDestroy(oe){oe.unsubscribe()}}class Mi{createSubscription(oe,$){return oe.then($,Ee=>{throw Ee})}dispose(oe){}onDestroy(oe){}}const Gs=new Mi,vs=new Mo;let so=(()=>{class j{constructor($){this._ref=$,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,Ee=>this._updateLatestValue($,Ee))}_selectStrategy($){if((0,u.QGY)($))return Gs;if((0,u.F4k)($))return vs;throw function Zi(j,oe){return new u.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,Ee){$===this._obj&&(this._latestValue=Ee,this._ref.markForCheck())}}return j.\u0275fac=function($){return new($||j)(u.Y36(u.sBO,16))},j.\u0275pipe=u.Yjl({name:"async",type:j,pure:!1}),j})(),Es=(()=>{class j{}return j.\u0275fac=function($){return new($||j)},j.\u0275mod=u.oAB({type:j}),j.\u0275inj=u.cJS({}),j})();const $i="browser";function oi(j){return j===$i}function fs(j){return"server"===j}let Nr=(()=>{class j{}return j.\u0275prov=(0,u.Yz7)({token:j,providedIn:"root",factory:()=>new Yr((0,u.LFG)(ze),window)}),j})();class Yr{constructor(oe,$){this.document=oe,this.window=$,this.offset=()=>[0,0]}setOffset(oe){this.offset=Array.isArray(oe)?()=>oe:oe}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(oe){this.supportsScrolling()&&this.window.scrollTo(oe[0],oe[1])}scrollToAnchor(oe){if(!this.supportsScrolling())return;const $=function bs(j,oe){const $=j.getElementById(oe)||j.getElementsByName(oe)[0];if($)return $;if("function"==typeof j.createTreeWalker&&j.body&&(j.body.createShadowRoot||j.body.attachShadow)){const Ee=j.createTreeWalker(j.body,NodeFilter.SHOW_ELEMENT);let dt=Ee.currentNode;for(;dt;){const Ft=dt.shadowRoot;if(Ft){const Xt=Ft.getElementById(oe)||Ft.querySelector(`[name="${oe}"]`);if(Xt)return Xt}dt=Ee.nextNode()}}return null}(this.document,oe);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(oe){if(this.supportScrollRestoration()){const $=this.window.history;$&&$.scrollRestoration&&($.scrollRestoration=oe)}}scrollToElement(oe){const $=oe.getBoundingClientRect(),Ee=$.left+this.window.pageXOffset,dt=$.top+this.window.pageYOffset,Ft=this.offset();this.window.scrollTo(Ee-Ft[0],dt-Ft[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const oe=Ti(this.window.history)||Ti(Object.getPrototypeOf(this.window.history));return!(!oe||!oe.writable&&!oe.set)}catch(oe){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(oe){return!1}}}function Ti(j){return Object.getOwnPropertyDescriptor(j,"scrollRestoration")}class Lr{}},5e3:(fn,ht,S)=>{S.d(ht,{deG:()=>Va,tb:()=>R0,AFp:()=>S0,ip1:()=>T0,CZH:()=>py,hGG:()=>Zw,z2F:()=>by,sBO:()=>kw,Sil:()=>fw,_Vd:()=>Ag,EJc:()=>dw,SBq:()=>Bp,qLn:()=>yl,vpe:()=>zu,tBr:()=>Do,XFs:()=>bn,OlP:()=>qi,zs3:()=>bl,ZZ4:()=>Sy,aQg:()=>Ay,soG:()=>gy,YKP:()=>Uv,h0i:()=>sf,PXZ:()=>Iw,R0b:()=>gu,FiY:()=>Rs,Lbi:()=>x0,g9A:()=>M0,n_E:()=>xg,Qsj:()=>ob,FYo:()=>Pv,JOm:()=>el,q3G:()=>Ai,tp0:()=>Ys,Rgc:()=>$p,dDg:()=>P0,q4F:()=>Lv,GfV:()=>Fv,s_b:()=>Og,ifc:()=>Mt,eFA:()=>V0,G48:()=>Ow,Gpc:()=>Te,f3M:()=>qr,X6Q:()=>Rw,_c5:()=>qw,VLi:()=>ww,c2e:()=>O0,zSh:()=>kd,wAp:()=>Jr,vHH:()=>Ze,EiD:()=>gl,mCW:()=>ae,qzn:()=>ma,JVY:()=>Xl,pB0:()=>ml,eBb:()=>Fl,L6k:()=>Ju,LAX:()=>ec,cg1:()=>G_,kL8:()=>sv,yhl:()=>Xu,dqk:()=>Mn,sIi:()=>Bd,CqO:()=>lg,QGY:()=>Hd,F4k:()=>ag,RDi:()=>Ti,AaK:()=>ge,z3N:()=>po,qOj:()=>lp,TTD:()=>cs,_Bn:()=>Ov,xp6:()=>nm,uIk:()=>pp,Gre:()=>o,ekj:()=>Xh,Suo:()=>s0,Xpm:()=>We,lG2:()=>_e,Yz7:()=>vt,cJS:()=>an,oAB:()=>we,Yjl:()=>J,Y36:()=>zh,_UZ:()=>Kh,GkF:()=>Ec,BQk:()=>vc,ynx:()=>Wl,qZA:()=>Ud,TgZ:()=>Gh,EpF:()=>bp,n5z:()=>zl,Ikx:()=>z_,LFG:()=>jn,$8M:()=>Gl,$Z:()=>pu,NdJ:()=>wp,CRH:()=>o0,kcU:()=>qs,O4$:()=>zi,oxw:()=>Ip,ALo:()=>Zv,lcZ:()=>Yv,Hsn:()=>ug,F$t:()=>Yh,Q6J:()=>mu,s9C:()=>Wc,iGM:()=>n0,MAs:()=>zm,CHM:()=>Fa,LSH:()=>nu,Udp:()=>Qh,YNc:()=>_p,_uU:()=>Eg,Oqu:()=>Op,hij:()=>ef,AsE:()=>kp,HOy:()=>wg,Gf:()=>r0});var u=S(7579),C=S(727),G=S(9751),z=S(6451),Ce=S(3099);function Ue(t){for(let r in t)if(t[r]===Ue)return r;throw Error("Could not find renamed property on target object.")}function ze(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function ke(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const me=Ue({__forward_ref__:Ue});function Te(t){return t.__forward_ref__=Te,t.toString=function(){return ge(this())},t}function Fe(t){return Xe(t)?t():t}function Xe(t){return"function"==typeof t&&t.hasOwnProperty(me)&&t.__forward_ref__===Te}class Ze extends Error{constructor(r,s){super(function Dt(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Je(t){return"string"==typeof t?t:null==t?"":String(t)}function pt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Je(t)}function De(t,r){const s=r?` in ${r}`:"";throw new Ze(-201,`No provider for ${pt(t)} found${s}`)}function rn(t,r){null==t&&function At(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function vt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function an(t){return{providers:t.providers||[],imports:t.imports||[]}}function Gn(t){return vr(t,Pn)||vr(t,dr)}function vr(t,r){return t.hasOwnProperty(r)?t[r]:null}function sr(t){return t&&(t.hasOwnProperty(mr)||t.hasOwnProperty(Pr))?t[mr]:null}const Pn=Ue({\u0275prov:Ue}),mr=Ue({\u0275inj:Ue}),dr=Ue({ngInjectableDef:Ue}),Pr=Ue({ngInjectorDef:Ue});var bn=(()=>((bn=bn||{})[bn.Default=0]="Default",bn[bn.Host=1]="Host",bn[bn.Self=2]="Self",bn[bn.SkipSelf=4]="SkipSelf",bn[bn.Optional=8]="Optional",bn))();let En;function $n(t){const r=En;return En=t,r}function hr(t,r,s){const a=Gn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&bn.Optional?null:void 0!==r?r:void De(ge(t),"Injector")}function nn(t){return{toString:t}.toString()}var Rt=(()=>((Rt=Rt||{})[Rt.OnPush=0]="OnPush",Rt[Rt.Default=1]="Default",Rt))(),Mt=(()=>{return(t=Mt||(Mt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Mt;var t})();const Ve="undefined"!=typeof globalThis&&globalThis,bt="undefined"!=typeof window&&window,wn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Mn=Ve||"undefined"!=typeof global&&global||bt||wn,tr={},at=[],rt=Ue({\u0275cmp:Ue}),ye=Ue({\u0275dir:Ue}),Z=Ue({\u0275pipe:Ue}),M=Ue({\u0275mod:Ue}),w=Ue({\u0275fac:Ue}),L=Ue({__NG_ELEMENT_ID__:Ue});let be=0;function We(t){return nn(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Rt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||at,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Mt.Emulated,id:"c",styles:t.styles||at,_:null,setInput:null,schemas:t.schemas||null,tView:null},h=t.directives,p=t.features,E=t.pipes;return a.id+=be++,a.inputs=se(t.inputs,s),a.outputs=se(t.outputs),p&&p.forEach(R=>R(a)),a.directiveDefs=h?()=>("function"==typeof h?h():h).map(Ne):null,a.pipeDefs=E?()=>("function"==typeof E?E():E).map(Ge):null,a})}function Ne(t){return Q(t)||function ne(t){return t[ye]||null}(t)}function Ge(t){return function Pe(t){return t[Z]||null}(t)}const It={};function we(t){return nn(()=>{const r={type:t.type,bootstrap:t.bootstrap||at,declarations:t.declarations||at,imports:t.imports||at,exports:t.exports||at,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(It[t.id]=t.type),r})}function se(t,r){if(null==t)return tr;const s={};for(const a in t)if(t.hasOwnProperty(a)){let h=t[a],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),s[h]=a,r&&(r[h]=p)}return s}const _e=We;function J(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Q(t){return t[rt]||null}function gt(t,r){const s=t[M]||null;if(!s&&!0===r)throw new Error(`Type ${ge(t)} does not have '\u0275mod' property.`);return s}function ln(t){return Array.isArray(t)&&"object"==typeof t[1]}function Cn(t){return Array.isArray(t)&&!0===t[1]}function Un(t){return 0!=(8&t.flags)}function Mr(t){return 2==(2&t.flags)}function Fr(t){return 1==(1&t.flags)}function mi(t){return null!==t.template}function Ci(t){return 0!=(512&t[2])}function ss(t,r){return t.hasOwnProperty(w)?t[w]:null}class us{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function cs(){return Li}function Li(t){return t.type.prototype.ngOnChanges&&(t.setInput=Vs),As}function As(){const t=$i(this),r=null==t?void 0:t.current;if(r){const s=t.previous;if(s===tr)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Vs(t,r,s,a){const h=$i(t)||function Zr(t,r){return t[Es]=r}(t,{previous:tr,current:null}),p=h.current||(h.current={}),E=h.previous,R=this.declaredInputs[s],F=E[R];p[R]=new us(F&&F.currentValue,r,E===tr),t[a]=r}cs.ngInherit=!0;const Es="__ngSimpleChanges__";function $i(t){return t[Es]||null}let Yr;function Ti(t){Yr=t}function Lr(t){return!!t.listen}const j={createRenderer:(t,r)=>function bs(){return void 0!==Yr?Yr:"undefined"!=typeof document?document:void 0}()};function $(t){for(;Array.isArray(t);)t=t[0];return t}function Ft(t,r){return $(r[t])}function Xt(t,r){return $(r[t.index])}function fi(t,r){return t.data[r]}function Wr(t,r){return t[r]}function Hr(t,r){const s=r[t];return ln(s)?s:s[0]}function jr(t){return 4==(4&t[2])}function Oi(t){return 128==(128&t[2])}function wi(t,r){return null==r?null:t[r]}function K(t){t[18]=0}function U(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const k={lFrame:ur(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Yi(){return k.bindingsEnabled}function pn(){return k.lFrame.lView}function gr(){return k.lFrame.tView}function Fa(t){return k.lFrame.contextLView=t,t[8]}function ki(){let t=Ka();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ka(){return k.lFrame.currentTNode}function lo(t,r){const s=k.lFrame;s.currentTNode=t,s.isParent=r}function Bo(){return k.lFrame.isParent}function Uo(){k.lFrame.isParent=!1}function Ro(){return k.isInCheckNoChangesMode}function ps(t){k.isInCheckNoChangesMode=t}function Ks(){return k.lFrame.bindingIndex}function re(){return k.lFrame.bindingIndex++}function v(t){const r=k.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function ue(t,r){const s=k.lFrame;s.bindingIndex=s.bindingRootIndex=t,it(r)}function it(t){k.lFrame.currentDirectiveIndex=t}function Nt(){return k.lFrame.currentQueryIndex}function Jt(t){k.lFrame.currentQueryIndex=t}function Hn(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function Qn(t,r,s){if(s&bn.SkipSelf){let h=r,p=t;for(;!(h=h.parent,null!==h||s&bn.Host||(h=Hn(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;r=h,t=p}const a=k.lFrame=kr();return a.currentTNode=r,a.lView=t,!0}function br(t){const r=kr(),s=t[1];k.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function kr(){const t=k.lFrame,r=null===t?null:t.child;return null===r?ur(t):r}function ur(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Vr(){const t=k.lFrame;return k.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const gi=Vr;function Di(){const t=Vr();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function di(){return k.lFrame.selectedIndex}function gs(t){k.lFrame.selectedIndex=t}function Ei(){const t=k.lFrame;return fi(t.tView,t.selectedIndex)}function zi(){k.lFrame.currentNamespace="svg"}function qs(){!function Hs(){k.lFrame.currentNamespace=null}()}function ts(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const p=t.data[s].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:R,ngAfterViewInit:F,ngAfterViewChecked:ee,ngOnDestroy:de}=p;E&&(t.contentHooks||(t.contentHooks=[])).push(-s,E),R&&((t.contentHooks||(t.contentHooks=[])).push(s,R),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,R)),F&&(t.viewHooks||(t.viewHooks=[])).push(-s,F),ee&&((t.viewHooks||(t.viewHooks=[])).push(s,ee),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,ee)),null!=de&&(t.destroyHooks||(t.destroyHooks=[])).push(s,de)}}function vo(t,r,s){or(t,r,3,s)}function Ho(t,r,s,a){(3&t[2])===s&&or(t,r,s,a)}function Nn(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function or(t,r,s,a){const p=null!=a?a:-1,E=r.length-1;let R=0;for(let F=void 0!==a?65535&t[18]:0;F<E;F++)if("number"==typeof r[F+1]){if(R=r[F],null!=a&&R>=a)break}else r[F]<0&&(t[18]+=65536),(R<p||-1==p)&&(Ar(t,s,r,F),t[18]=(4294901760&t[18])+F+2),F++}function Ar(t,r,s,a){const h=s[a]<0,p=s[a+1],R=t[h?-s[a]:s[a]];if(h){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{p.call(R)}finally{}}}else try{p.call(R)}finally{}}class Ni{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ws(t,r,s){const a=Lr(t);let h=0;for(;h<s.length;){const p=s[h];if("number"==typeof p){if(0!==p)break;h++;const E=s[h++],R=s[h++],F=s[h++];a?t.setAttribute(r,R,F,E):r.setAttributeNS(E,R,F)}else{const E=p,R=s[++h];Xn(E)?a&&t.setProperty(r,E,R):a?t.setAttribute(r,E,R):r.setAttribute(E,R),h++}}return h}function eo(t){return 3===t||4===t||6===t}function Xn(t){return 64===t.charCodeAt(0)}function Cr(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const h=r[a];"number"==typeof h?s=h:0===s||Sl(t,s,h,null,-1===s||2===s?r[++a]:null)}}return t}function Sl(t,r,s,a,h){let p=0,E=t.length;if(-1===r)E=-1;else for(;p<t.length;){const R=t[p++];if("number"==typeof R){if(R===r){E=-1;break}if(R>r){E=p-1;break}}}for(;p<t.length;){const R=t[p];if("number"==typeof R)break;if(R===s){if(null===a)return void(null!==h&&(t[p+1]=h));if(a===t[p+1])return void(t[p+2]=h)}p++,null!==a&&p++,null!==h&&p++}-1!==E&&(t.splice(E,0,r),p=E+1),t.splice(p++,0,s),null!==a&&t.splice(p++,0,a),null!==h&&t.splice(p++,0,h)}function An(t){return-1!==t}function zt(t){return 32767&t}function Ui(t,r){let s=function Dn(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let aa=!0;function Zo(t){const r=aa;return aa=t,r}let W=0;function ve(t,r){const s=lt(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,Ke(a.data,t),Ke(r,null),Ke(a.blueprint,null));const h=Zt(t,r),p=t.injectorIndex;if(An(h)){const E=zt(h),R=Ui(h,r),F=R[1].data;for(let ee=0;ee<8;ee++)r[p+ee]=R[E+ee]|F[E+ee]}return r[p+8]=h,p}function Ke(t,r){t.push(0,0,0,0,0,0,0,0,r)}function lt(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Zt(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,h=r;for(;null!==h;){const p=h[1],E=p.type;if(a=2===E?p.declTNode:1===E?h[6]:null,null===a)return-1;if(s++,h=h[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Zn(t,r,s){!function X(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(L)&&(a=s[L]),null==a&&(a=s[L]=W++);const h=255&a;r.data[t+(h>>5)]|=1<<h}(t,r,s)}function ir(t,r,s){if(s&bn.Optional)return t;De(r,"NodeInjector")}function yi(t,r,s,a){if(s&bn.Optional&&void 0===a&&(a=null),0==(s&(bn.Self|bn.Host))){const h=t[9],p=$n(void 0);try{return h?h.get(r,a,s&bn.Optional):hr(r,a,s&bn.Optional)}finally{$n(p)}}return ir(a,r,s)}function xr(t,r,s,a=bn.Default,h){if(null!==t){const p=function vi(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(L)?t[L]:void 0;return"number"==typeof r?r>=0?255&r:Eo:r}(s);if("function"==typeof p){if(!Qn(r,t,a))return a&bn.Host?ir(h,s,a):yi(r,s,a,h);try{const E=p(a);if(null!=E||a&bn.Optional)return E;De(s)}finally{gi()}}else if("number"==typeof p){let E=null,R=lt(t,r),F=-1,ee=a&bn.Host?r[16][6]:null;for((-1===R||a&bn.SkipSelf)&&(F=-1===R?Zt(t,r):r[R+8],-1!==F&&hs(a,!1)?(E=r[1],R=zt(F),r=Ui(F,r)):R=-1);-1!==R;){const de=r[1];if(ol(p,R,de.data)){const je=Oo(R,r,s,E,a,ee);if(je!==ar)return je}F=r[R+8],-1!==F&&hs(a,r[1].data[R+8]===ee)&&ol(p,R,r)?(E=de,R=zt(F),r=Ui(F,r)):R=-1}}}return yi(r,s,a,h)}const ar={};function Eo(){return new bo(ki(),pn())}function Oo(t,r,s,a,h,p){const E=r[1],R=E.data[t+8],de=jo(R,E,s,null==a?Mr(R)&&aa:a!=E&&0!=(3&R.type),h&bn.Host&&p===R);return null!==de?Zs(r,E,de,R):ar}function jo(t,r,s,a,h){const p=t.providerIndexes,E=r.data,R=1048575&p,F=t.directiveStart,de=p>>20,yt=h?R+de:t.directiveEnd;for(let Vt=a?R:R+de;Vt<yt;Vt++){const un=E[Vt];if(Vt<F&&s===un||Vt>=F&&un.type===s)return Vt}if(h){const Vt=E[F];if(Vt&&mi(Vt)&&Vt.type===s)return F}return null}function Zs(t,r,s,a){let h=t[s];const p=r.data;if(function as(t){return t instanceof Ni}(h)){const E=h;E.resolving&&function Ye(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${t}${s}`)}(pt(p[s]));const R=Zo(E.canSeeViewProviders);E.resolving=!0;const F=E.injectImpl?$n(E.injectImpl):null;Qn(t,a,bn.Default);try{h=t[s]=E.factory(void 0,p,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Gi(t,r,s){const{ngOnChanges:a,ngOnInit:h,ngDoCheck:p}=r.type.prototype;if(a){const E=Li(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,E),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,E)}h&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,h),p&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,p),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,p))}(s,p[s],r)}finally{null!==F&&$n(F),Zo(R),E.resolving=!1,gi()}}return h}function ol(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function hs(t,r){return!(t&bn.Self||t&bn.Host&&r)}class bo{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return xr(this._tNode,this._lView,r,a,s)}}function zl(t){return nn(()=>{const r=t.prototype.constructor,s=r[w]||ls(r),a=Object.prototype;let h=Object.getPrototypeOf(t.prototype).constructor;for(;h&&h!==a;){const p=h[w]||ls(h);if(p&&p!==s)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function ls(t){return Xe(t)?()=>{const r=ls(Fe(t));return r&&r()}:ss(t)}function Gl(t){return function Fn(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let h=0;for(;h<a;){const p=s[h];if(eo(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<a&&"string"==typeof s[h];)h++;else{if(p===r)return s[h+1];h+=2}}}return null}(ki(),t)}const Pi="__parameters__";function wo(t,r,s){return nn(()=>{const a=function Ml(t){return function(...s){if(t){const a=t(...s);for(const h in a)this[h]=a[h]}}}(r);function h(...p){if(this instanceof h)return a.apply(this,p),this;const E=new h(...p);return R.annotation=E,R;function R(F,ee,de){const je=F.hasOwnProperty(Pi)?F[Pi]:Object.defineProperty(F,Pi,{value:[]})[Pi];for(;je.length<=de;)je.push(null);return(je[de]=je[de]||[]).push(E),F}}return s&&(h.prototype=Object.create(s.prototype)),h.prototype.ngMetadataName=t,h.annotationCls=h,h})}class qi{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=vt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Va=new qi("AnalyzeForEntryComponents");function Ds(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),Ds(a,r)):r!==t&&r.push(a)}return r}function no(t,r){t.forEach(s=>Array.isArray(s)?no(s,r):r(s))}function qa(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Ua(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function $s(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function Co(t,r,s){let a=No(t,r);return a>=0?t[1|a]=s:(a=~a,function ql(t,r,s,a){let h=t.length;if(h==r)t.push(s,a);else if(1===h)t.push(a,t[0]),t[0]=s;else{for(h--,t.push(t[h-1],t[h]);h>r;)t[h]=t[h-2],h--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function Qi(t,r){const s=No(t,r);if(s>=0)return t[1|s]}function No(t,r){return function Qo(t,r,s){let a=0,h=t.length>>s;for(;h!==a;){const p=a+(h-a>>1),E=t[p<<s];if(r===E)return p<<s;E>r?h=p:a=p+1}return~(h<<s)}(t,r,1)}const ta={},fa="__NG_DI_FLAG__",na="ngTempTokenPath",V=/\n/gm,ce="__source",et=Ue({provide:String,useValue:Ue});let Ot;function jt(t){const r=Ot;return Ot=t,r}function Rn(t,r=bn.Default){if(void 0===Ot)throw new Ze(203,"");return null===Ot?hr(t,void 0,r):Ot.get(t,r&bn.Optional?null:void 0,r)}function jn(t,r=bn.Default){return(function Er(){return En}()||Rn)(Fe(t),r)}const qr=jn;function pi(t){const r=[];for(let s=0;s<t.length;s++){const a=Fe(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Ze(900,"");let h,p=bn.Default;for(let E=0;E<a.length;E++){const R=a[E],F=Is(R);"number"==typeof F?-1===F?h=R.token:p|=F:h=R}r.push(jn(h,p))}else r.push(jn(a))}return r}function Sr(t,r){return t[fa]=r,t.prototype[fa]=r,t}function Is(t){return t[fa]}const Do=Sr(wo("Inject",t=>({token:t})),-1),Rs=Sr(wo("Optional"),8),Ys=Sr(wo("SkipSelf"),4);let fl;function Ha(t){var r;return(null===(r=function Sa(){if(void 0===fl&&(fl=null,Mn.trustedTypes))try{fl=Mn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return fl}())||void 0===r?void 0:r.createHTML(t))||t}class Qa{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Yu extends Qa{getTypeName(){return"HTML"}}class Ql extends Qa{getTypeName(){return"Style"}}class Qu extends Qa{getTypeName(){return"Script"}}class Qc extends Qa{getTypeName(){return"URL"}}class Ts extends Qa{getTypeName(){return"ResourceURL"}}function po(t){return t instanceof Qa?t.changingThisBreaksApplicationSecurity:t}function ma(t,r){const s=Xu(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function Xu(t){return t instanceof Qa&&t.getTypeName()||null}function Xl(t){return new Yu(t)}function Ju(t){return new Ql(t)}function Fl(t){return new Qu(t)}function ec(t){return new Qc(t)}function ml(t){return new Ts(t)}class Cc{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Ha(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Dc{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Ha(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Ha(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let h=s.length-1;0<h;h--){const E=s.item(h).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&r.removeAttribute(E)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const g=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,O=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ae(t){return(t=String(t)).match(g)||t.match(O)?t:"unsafe:"+t}function Lt(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function mn(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Yn=Lt("area,br,col,hr,img,wbr"),nr=Lt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qr=Lt("rp,rt"),ga=mn(Yn,mn(nr,Lt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mn(Qr,Lt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mn(Qr,nr)),Jl=Lt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ro=Lt("srcset"),xa=mn(Jl,ro,Lt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Lt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bu=Lt("script,style,template");class Tc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let h=this.checkClobberedElement(s,s.nextSibling);if(h){s=h;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!ga.hasOwnProperty(s))return this.sanitizedSomething=!0,!bu.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let h=0;h<a.length;h++){const p=a.item(h),E=p.name,R=E.toLowerCase();if(!xa.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let F=p.value;Jl[R]&&(F=ae(F)),ro[R]&&(t=F,F=(t=String(t)).split(",").map(r=>ae(r.trim())).join(", ")),this.buf.push(" ",E,'="',eu(F),'"')}var t;return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();ga.hasOwnProperty(s)&&!Yn.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(eu(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Fi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wu=/([^\#-~ |!])/g;function eu(t){return t.replace(/&/g,"&amp;").replace(Fi,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(wu,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _a;function gl(t,r){let s=null;try{_a=_a||function Xa(t){const r=new Dc(t);return function A(){try{return!!(new window.DOMParser).parseFromString(Ha(""),"text/html")}catch(t){return!1}}()?new Cc(r):r}(t);let a=r?String(r):"";s=_a.getInertBodyElement(a);let h=5,p=a;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,a=p,p=s.innerHTML,s=_a.getInertBodyElement(a)}while(a!==p);return Ha((new Tc).sanitizeChildren(tu(s)||s))}finally{if(s){const a=tu(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function tu(t){return"content"in t&&function Xc(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ai=(()=>((Ai=Ai||{})[Ai.NONE=0]="NONE",Ai[Ai.HTML=1]="HTML",Ai[Ai.STYLE=2]="STYLE",Ai[Ai.SCRIPT=3]="SCRIPT",Ai[Ai.URL=4]="URL",Ai[Ai.RESOURCE_URL=5]="RESOURCE_URL",Ai))();function nu(t){const r=function _l(){const t=pn();return t&&t[12]}();return r?r.sanitize(Ai.URL,t)||"":ma(t,"URL")?po(t):ae(Je(t))}const Sc="__ngContext__";function Qs(t,r){t[Sc]=r}function Bl(t){const r=function Ra(t){return t[Sc]||null}(t);return r?Array.isArray(r)?r:r.lView:null}function rd(t){return t.ngOriginalError}function Du(t,...r){t.error(...r)}class yl{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function ff(t){return t&&t.ngErrorLogger||Du}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&rd(r);for(;s&&rd(s);)s=rd(s);return s||null}}const th=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Mn))();function ka(t){return t instanceof Function?t():t}var el=(()=>((el=el||{})[el.Important=1]="Important",el[el.DashCase=2]="DashCase",el))();function od(t,r){return undefined(t,r)}function nc(t){const r=t[3];return Cn(r)?r[3]:r}function xc(t){return ud(t[13])}function ld(t){return ud(t[4])}function ud(t){for(;null!==t&&!Cn(t);)t=t[4];return t}function en(t,r,s,a,h){if(null!=a){let p,E=!1;Cn(a)?p=a:ln(a)&&(E=!0,a=a[0]);const R=$(a);0===t&&null!==s?null==h?Os(r,s,R):Ii(r,s,R,h||null,!0):1===t&&null!==s?Ii(r,s,R,h||null,!0):2===t?function Zp(t,r,s){const a=nl(t,r);a&&function vl(t,r,s,a){Lr(t)?t.removeChild(r,s,a):r.removeChild(s)}(t,a,r,s)}(r,R,E):3===t&&r.destroyNode(R),null!=p&&function hd(t,r,s,a,h){const p=s[7];p!==$(s)&&en(r,t,a,p,h);for(let R=10;R<s.length;R++){const F=s[R];dd(F[1],F,t,r,a,p)}}(r,t,p,s,h)}}function f(t,r,s){if(Lr(t))return t.createElement(r,s);{const a=null!==s?function Nr(t){const r=t.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?t.createElement(r):t.createElementNS(a,r)}}function Ie(t,r){const s=t[9],a=s.indexOf(r),h=r[3];1024&r[2]&&(r[2]&=-1025,U(h,-1)),s.splice(a,1)}function qe(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const h=a[17];null!==h&&h!==t&&Ie(h,a),r>0&&(t[s-1][4]=a[4]);const p=Ua(t,10+r);!function c(t,r){dd(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const E=p[19];null!==E&&E.detachView(p[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function ft(t,r){if(!(256&r[2])){const s=r[11];Lr(s)&&s.destroyNode&&dd(t,r,s,3,null,null),function T(t){let r=t[13];if(!r)return Yt(t[1],t);for(;r;){let s=null;if(ln(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)ln(r)&&Yt(r[1],r),r=r[3];null===r&&(r=t),ln(r)&&Yt(r[1],r),s=r&&r[4]}r=s}}(r)}}function Yt(t,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function gn(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const h=r[s[a]];if(!(h instanceof Ni)){const p=s[a+1];if(Array.isArray(p))for(let E=0;E<p.length;E+=2){const R=h[p[E]],F=p[E+1];try{F.call(R)}finally{}}else try{p.call(h)}finally{}}}}(t,r),function $t(t,r){const s=t.cleanup,a=r[7];let h=-1;if(null!==s)for(let p=0;p<s.length-1;p+=2)if("string"==typeof s[p]){const E=s[p+1],R="function"==typeof E?E(r):$(r[E]),F=a[h=s[p+2]],ee=s[p+3];"boolean"==typeof ee?R.removeEventListener(s[p],F,ee):ee>=0?a[h=ee]():a[h=-ee].unsubscribe(),p+=2}else{const E=a[h=s[p+1]];s[p].call(E)}if(null!==a){for(let p=h+1;p<a.length;p++)a[p]();r[7]=null}}(t,r),1===r[1].type&&Lr(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&Cn(r[3])){s!==r[3]&&Ie(s,r);const a=r[19];null!==a&&a.detachView(t)}}}function _r(t,r,s){return function Br(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const h=t.data[a.directiveStart].encapsulation;if(h===Mt.None||h===Mt.Emulated)return null}return Xt(a,s)}(t,r.parent,s)}function Ii(t,r,s,a,h){Lr(t)?t.insertBefore(r,s,a,h):r.insertBefore(s,a,h)}function Os(t,r,s){Lr(t)?t.appendChild(r,s):r.appendChild(s)}function tl(t,r,s,a,h){null!==a?Ii(t,r,s,a,h):Os(t,r,s)}function nl(t,r){return Lr(t)?t.parentNode(r):r.parentNode}function sh(t,r,s){return Cf(t,r,s)}let Cf=function oh(t,r,s){return 40&t.type?Xt(t,s):null};function cd(t,r,s,a){const h=_r(t,a,r),p=r[11],R=sh(a.parent||r[6],a,r);if(null!=h)if(Array.isArray(s))for(let F=0;F<s.length;F++)tl(p,h,s[F],R,!1);else tl(p,h,s,R,!1)}function Rc(t,r){if(null!==r){const s=r.type;if(3&s)return Xt(r,t);if(4&s)return su(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Rc(t,a);{const h=t[r.index];return Cn(h)?su(-1,h):$(h)}}if(32&s)return od(r,t)()||$(t[r.index]);{const a=Oc(t,r);return null!==a?Array.isArray(a)?a[0]:Rc(nc(t[16]),a):Rc(t,r.next)}}return null}function Oc(t,r){return null!==r?t[16][6].projection[r.projection]:null}function su(t,r){const s=10+t+1;if(s<r.length){const a=r[s],h=a[1].firstChild;if(null!==h)return Rc(a,h)}return r[7]}function ah(t,r,s,a,h,p,E){for(;null!=s;){const R=a[s.index],F=s.type;if(E&&0===r&&(R&&Qs($(R),a),s.flags|=4),64!=(64&s.flags))if(8&F)ah(t,r,s.child,a,h,p,!1),en(r,t,h,R,p);else if(32&F){const ee=od(s,a);let de;for(;de=ee();)en(r,t,h,de,p);en(r,t,h,R,p)}else 16&F?Yp(t,r,a,s,h,p):en(r,t,h,R,p);s=E?s.projectionNext:s.next}}function dd(t,r,s,a,h,p){ah(s,a,t.firstChild,r,h,p,!1)}function Yp(t,r,s,a,h,p){const E=s[16],F=E[6].projection[a.projection];if(Array.isArray(F))for(let ee=0;ee<F.length;ee++)en(r,t,h,F[ee],p);else ah(t,r,F,E[3],h,p,!0)}function Au(t,r,s){Lr(t)?t.setAttribute(r,"style",s):r.style.cssText=s}function lh(t,r,s){Lr(t)?""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s):r.className=s}function Qp(t,r,s){let a=t.length;for(;;){const h=t.indexOf(r,s);if(-1===h)return h;if(0===h||t.charCodeAt(h-1)<=32){const p=r.length;if(h+p===a||t.charCodeAt(h+p)<=32)return h}s=h+1}}const uh="ng-template";function kc(t,r,s){let a=0;for(;a<t.length;){let h=t[a++];if(s&&"class"===h){if(h=t[a],-1!==Qp(h.toLowerCase(),r,0))return!0}else if(1===h){for(;a<t.length&&"string"==typeof(h=t[a++]);)if(h.toLowerCase()===r)return!0;return!1}}return!1}function Xp(t){return 4===t.type&&t.value!==uh}function Jp(t,r,s){return r===(4!==t.type||s?t.value:uh)}function fd(t,r,s){let a=4;const h=t.attrs||[],p=function em(t){for(let r=0;r<t.length;r++)if(eo(t[r]))return r;return t.length}(h);let E=!1;for(let R=0;R<r.length;R++){const F=r[R];if("number"!=typeof F){if(!E)if(4&a){if(a=2|1&a,""!==F&&!Jp(t,F,s)||""===F&&1===r.length){if(Na(a))return!1;E=!0}}else{const ee=8&a?F:r[++R];if(8&a&&null!==t.attrs){if(!kc(t.attrs,ee,s)){if(Na(a))return!1;E=!0}continue}const je=ch(8&a?"class":F,h,Xp(t),s);if(-1===je){if(Na(a))return!1;E=!0;continue}if(""!==ee){let yt;yt=je>p?"":h[je+1].toLowerCase();const Vt=8&a?yt:null;if(Vt&&-1!==Qp(Vt,ee,0)||2&a&&ee!==yt){if(Na(a))return!1;E=!0}}}}else{if(!E&&!Na(a)&&!Na(F))return!1;if(E&&Na(F))continue;E=!1,a=F|1&a}}return Na(a)||E}function Na(t){return 0==(1&t)}function ch(t,r,s,a){if(null===r)return-1;let h=0;if(a||!s){let p=!1;for(;h<r.length;){const E=r[h];if(E===t)return h;if(3===E||6===E)p=!0;else{if(1===E||2===E){let R=r[++h];for(;"string"==typeof R;)R=r[++h];continue}if(4===E)break;if(0===E){h+=4;continue}}h+=p?1:2}return-1}return function dh(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Tf(t,r,s=!1){for(let a=0;a<r.length;a++)if(fd(t,r[a],s))return!0;return!1}function Sf(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let h=0;h<t.length;h++)if(t[h]!==a[h])continue e;return!0}}return!1}function Af(t,r){return t?":not("+r.trim()+")":r}function Mu(t){let r=t[0],s=1,a=2,h="",p=!1;for(;s<t.length;){let E=t[s];if("string"==typeof E)if(2&a){const R=t[++s];h+="["+E+(R.length>0?'="'+R+'"':"")+"]"}else 8&a?h+="."+E:4&a&&(h+=" "+E);else""!==h&&!Na(E)&&(r+=Af(p,h),h=""),a=E,p=p||!Na(a);s++}return""!==h&&(r+=Af(p,h)),r}const Xr={};function nm(t){rc(gr(),pn(),di()+t,Ro())}function rc(t,r,s,a){if(!a)if(3==(3&r[2])){const p=t.preOrderCheckHooks;null!==p&&vo(r,p,s)}else{const p=t.preOrderHooks;null!==p&&Ho(r,p,0,s)}gs(s)}function El(t,r){return t<<17|r<<2}function Ko(t){return t>>17&32767}function xf(t){return 2|t}function ou(t){return(131068&t)>>2}function Rf(t,r){return-131069&t|r<<2}function Pc(t){return 1|t}function gm(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const h=s[a],p=s[a+1];if(-1!==p){const E=t.data[p];Jt(h),E.contentQueries(2,r[p],p)}}}function bd(t,r,s,a,h,p,E,R,F,ee){const de=r.blueprint.slice();return de[0]=h,de[2]=140|a,K(de),de[3]=de[15]=t,de[8]=s,de[10]=E||t&&t[10],de[11]=R||t&&t[11],de[12]=F||t&&t[12]||null,de[9]=ee||t&&t[9]||null,de[6]=p,de[16]=2==r.type?t[16]:de,de}function Ru(t,r,s,a,h){let p=t.data[r];if(null===p)p=function yh(t,r,s,a,h){const p=Ka(),E=Bo(),F=t.data[r]=function bh(t,r,s,a,h,p){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?p:p&&p.parent,s,r,a,h);return null===t.firstChild&&(t.firstChild=F),null!==p&&(E?null==p.child&&null!==F.parent&&(p.child=F):null===p.next&&(p.next=F)),F}(t,r,s,a,h),function D(){return k.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=s,p.value=a,p.attrs=h;const E=function ao(){const t=k.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();p.injectorIndex=null===E?-1:E.injectorIndex}return lo(p,!0),p}function sc(t,r,s,a){if(0===s)return-1;const h=r.length;for(let p=0;p<s;p++)r.push(a),t.blueprint.push(a),t.data.push(null);return h}function oc(t,r,s){br(r);try{const a=t.viewQuery;null!==a&&Rd(1,a,s);const h=t.template;null!==h&&Cd(t,r,h,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gm(t,r),t.staticViewQueries&&Rd(2,t.viewQuery,s);const p=t.components;null!==p&&function Gg(t,r){for(let s=0;s<r.length;s++)Im(t,r[s])}(r,p)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,Di()}}function lu(t,r,s,a){const h=r[2];if(256==(256&h))return;br(r);const p=Ro();try{K(r),function co(t){return k.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Cd(t,r,s,2,a);const E=3==(3&h);if(!p)if(E){const ee=t.preOrderCheckHooks;null!==ee&&vo(r,ee,null)}else{const ee=t.preOrderHooks;null!==ee&&Ho(r,ee,0,null),Nn(r,0)}if(function Qg(t){for(let r=xc(t);null!==r;r=ld(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const h=s[a],p=h[3];0==(1024&h[2])&&U(p,1),h[2]|=1024}}}(r),function Wf(t){for(let r=xc(t);null!==r;r=ld(r))for(let s=10;s<r.length;s++){const a=r[s],h=a[1];Oi(a)&&lu(h,a,h.template,a[8])}}(r),null!==t.contentQueries&&gm(t,r),!p)if(E){const ee=t.contentCheckHooks;null!==ee&&vo(r,ee)}else{const ee=t.contentHooks;null!==ee&&Ho(r,ee,1),Nn(r,1)}!function Wg(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const h=s[a];if(h<0)gs(~h);else{const p=h,E=s[++a],R=s[++a];ue(E,p),R(2,r[p])}}}finally{gs(-1)}}(t,r);const R=t.components;null!==R&&function zg(t,r){for(let s=0;s<r.length;s++)Xg(t,r[s])}(r,R);const F=t.viewQuery;if(null!==F&&Rd(2,F,a),!p)if(E){const ee=t.viewCheckHooks;null!==ee&&vo(r,ee)}else{const ee=t.viewHooks;null!==ee&&Ho(r,ee,2),Nn(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),p||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,U(r[3],-1))}finally{Di()}}function wd(t,r,s,a){const h=r[10],p=!Ro(),E=jr(r);try{p&&!E&&h.begin&&h.begin(),E&&oc(t,r,a),lu(t,r,s,a)}finally{p&&!E&&h.end&&h.end()}}function Cd(t,r,s,a,h){const p=di(),E=2&a;try{gs(-1),E&&r.length>20&&rc(t,r,20,Ro()),s(a,h)}finally{gs(p)}}function vh(t,r,s){if(Un(r)){const h=r.directiveEnd;for(let p=r.directiveStart;p<h;p++){const E=t.data[p];E.contentQueries&&E.contentQueries(1,s[p],p)}}}function Dd(t,r,s){!Yi()||(function Uf(t,r,s,a){const h=s.directiveStart,p=s.directiveEnd;t.firstCreatePass||ve(s,r),Qs(a,r);const E=s.initialInputs;for(let R=h;R<p;R++){const F=t.data[R],ee=mi(F);ee&&jf(r,s,F);const de=Zs(r,t,R,s);Qs(de,r),null!==E&&Dh(0,R-h,de,F,0,E),ee&&(Hr(s.index,r)[8]=de)}}(t,r,s,Xt(s,r)),128==(128&s.flags)&&function wm(t,r,s){const a=s.directiveStart,h=s.directiveEnd,E=s.index,R=function Oe(){return k.lFrame.currentDirectiveIndex}();try{gs(E);for(let F=a;F<h;F++){const ee=t.data[F],de=r[F];it(F),(null!==ee.hostBindings||0!==ee.hostVars||null!==ee.hostAttrs)&&wh(ee,de)}}finally{gs(-1),it(R)}}(t,r,s))}function Id(t,r,s=Xt){const a=r.localNames;if(null!==a){let h=r.index+1;for(let p=0;p<a.length;p+=2){const E=a[p+1],R=-1===E?s(r,t):t[E];t[h++]=R}}}function Lf(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Eh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function Eh(t,r,s,a,h,p,E,R,F,ee){const de=20+a,je=de+h,yt=function _m(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Xr);return s}(de,je),Vt="function"==typeof ee?ee():ee;return yt[1]={type:t,blueprint:yt,template:s,queries:null,viewQuery:R,declTNode:r,data:yt.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:je,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:F,consts:Vt,incompleteFirstPass:!1}}function Vf(t,r,s,a){const h=lc(r);null===s?h.push(a):(h.push(s),t.firstCreatePass&&cu(t).push(a,h.length-1))}function Fc(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const h=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,h):s[a]=[r,h]}return s}function za(t,r,s,a,h,p,E,R){const F=Xt(r,s);let de,ee=r.inputs;!R&&null!=ee&&(de=ee[a])?(cc(t,s,de,a,h),Mr(r)&&function Kg(t,r){const s=Hr(r,t);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function Em(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),h=null!=E?E(h,r.value||"",a):h,Lr(p)?p.setProperty(F,a,h):Xn(a)||(F.setProperty?F.setProperty(a,h):F[a]=h))}function Td(t,r,s,a){let h=!1;if(Yi()){const p=function Hf(t,r,s){const a=t.directiveRegistry;let h=null;if(a)for(let p=0;p<a.length;p++){const E=a[p];Tf(s,E.selectors,!1)&&(h||(h=[]),Zn(ve(s,r),t,E.type),mi(E)?(uu(t,s),h.unshift(E)):h.push(E))}return h}(t,r,s),E=null===a?null:{"":-1};if(null!==p){h=!0,Ch(s,t.data.length,p.length);for(let de=0;de<p.length;de++){const je=p[de];je.providersResolver&&je.providersResolver(je)}let R=!1,F=!1,ee=sc(t,r,p.length,null);for(let de=0;de<p.length;de++){const je=p[de];s.mergedAttrs=Cr(s.mergedAttrs,je.hostAttrs),Dm(t,s,r,ee,je),Zg(ee,je,E),null!==je.contentQueries&&(s.flags|=8),(null!==je.hostBindings||null!==je.hostAttrs||0!==je.hostVars)&&(s.flags|=128);const yt=je.type.prototype;!R&&(yt.ngOnChanges||yt.ngOnInit||yt.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),R=!0),!F&&(yt.ngOnChanges||yt.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),F=!0),ee++}!function Bf(t,r){const a=r.directiveEnd,h=t.data,p=r.attrs,E=[];let R=null,F=null;for(let ee=r.directiveStart;ee<a;ee++){const de=h[ee],je=de.inputs,yt=null===p||Xp(r)?null:$f(je,p);E.push(yt),R=Fc(je,ee,R),F=Fc(de.outputs,ee,F)}null!==R&&(R.hasOwnProperty("class")&&(r.flags|=16),R.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=E,r.inputs=R,r.outputs=F}(t,s)}E&&function Cm(t,r,s){if(r){const a=t.localNames=[];for(let h=0;h<r.length;h+=2){const p=s[r[h+1]];if(null==p)throw new Ze(-301,!1);a.push(r[h],p)}}}(s,a,E)}return s.mergedAttrs=Cr(s.mergedAttrs,s.attrs),h}function Sd(t,r,s,a,h,p){const E=p.hostBindings;if(E){let R=t.hostBindingOpCodes;null===R&&(R=t.hostBindingOpCodes=[]);const F=~r.index;(function Ad(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(R)!=F&&R.push(F),R.push(a,h,E)}}function wh(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function uu(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Zg(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;mi(r)&&(s[""]=t)}}function Ch(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function Dm(t,r,s,a,h){t.data[a]=h;const p=h.factory||(h.factory=ss(h.type)),E=new Ni(p,mi(h),null);t.blueprint[a]=E,s[a]=E,Sd(t,r,0,a,sc(t,s,h.hostVars,Xr),h)}function jf(t,r,s){const a=Xt(r,t),h=Lf(s),p=t[10],E=Bc(t,bd(t,h,null,s.onPush?64:16,a,r,p,p.createRenderer(a,s),null,null));t[r.index]=E}function Hl(t,r,s,a,h,p){const E=Xt(t,r);!function Md(t,r,s,a,h,p,E){if(null==p)Lr(t)?t.removeAttribute(r,h,s):r.removeAttribute(h);else{const R=null==E?Je(p):E(p,a||"",h);Lr(t)?t.setAttribute(r,h,R,s):s?r.setAttributeNS(s,h,R):r.setAttribute(h,R)}}(r[11],E,p,t.value,s,a,h)}function Dh(t,r,s,a,h,p){const E=p[r];if(null!==E){const R=a.setInput;for(let F=0;F<E.length;){const ee=E[F++],de=E[F++],je=E[F++];null!==R?a.setInput(s,je,ee,de):s[de]=je}}}function $f(t,r){let s=null,a=0;for(;a<r.length;){const h=r[a];if(0!==h)if(5!==h){if("number"==typeof h)break;t.hasOwnProperty(h)&&(null===s&&(s=[]),s.push(h,t[h],r[a+1])),a+=2}else a+=2;else a+=4}return s}function ac(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function Xg(t,r){const s=Hr(r,t);if(Oi(s)){const a=s[1];80&s[2]?lu(a,s,a.template,s[8]):s[5]>0&&Ih(s)}}function Ih(t){for(let a=xc(t);null!==a;a=ld(a))for(let h=10;h<a.length;h++){const p=a[h];if(1024&p[2]){const E=p[1];lu(E,p,E.template,p[8])}else p[5]>0&&Ih(p)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const h=Hr(s[a],t);Oi(h)&&h[5]>0&&Ih(h)}}function Im(t,r){const s=Hr(r,t),a=s[1];(function Jg(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),oc(a,s,s[8])}function Bc(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function zf(t){for(;t;){t[2]|=64;const r=nc(t);if(Ci(t)&&!r)return t;t=r}return null}function xd(t,r,s){const a=r[10];a.begin&&a.begin();try{lu(t,r,t.template,s)}catch(h){throw uc(r,h),h}finally{a.end&&a.end()}}function Tm(t){!function Kf(t){for(let r=0;r<t.components.length;r++){const s=t.components[r],a=Bl(s),h=a[1];wd(h,a,h.template,s)}}(t[8])}function Rd(t,r,s){Jt(0),r(t,s)}const Zf=(()=>Promise.resolve(null))();function lc(t){return t[7]||(t[7]=[])}function cu(t){return t.cleanup||(t.cleanup=[])}function uc(t,r){const s=t[9],a=s?s.get(yl,null):null;a&&a.handleError(r)}function cc(t,r,s,a,h){for(let p=0;p<s.length;){const E=s[p++],R=s[p++],F=r[E],ee=t.data[E];null!==ee.setInput?ee.setInput(F,h,a,R):F[R]=h}}function jl(t,r,s){const a=Ft(r,t);!function Wa(t,r,s){Lr(t)?t.setValue(r,s):r.textContent=s}(t[11],a,s)}function du(t,r,s){let a=s?t.styles:null,h=s?t.classes:null,p=0;if(null!==r)for(let E=0;E<r.length;E++){const R=r[E];"number"==typeof R?p=R:1==p?h=ke(h,R):2==p&&(a=ke(a,R+": "+r[++E]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=h:t.classesWithoutHost=h}const Od=new qi("INJECTOR",-1);class Sh{get(r,s=ta){if(s===ta){const a=new Error(`NullInjectorError: No provider for ${ge(r)}!`);throw a.name="NullInjectorError",a}return s}}const kd=new qi("Set Injector scope."),Nd={},n_={};let Pd;function Ah(){return void 0===Pd&&(Pd=new Sh),Pd}function xm(t,r=null,s=null,a){const h=Yf(t,r,s,a);return h._resolveInjectorDefTypes(),h}function Yf(t,r=null,s=null,a){return new r_(t,s,r||Ah(),a)}class r_{constructor(r,s,a,h=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];s&&no(s,R=>this.processProvider(R,r,s)),no([r],R=>this.processInjectorType(R,[],p)),this.records.set(Od,Uc(void 0,this));const E=this.records.get(kd);this.scope=null!=E?E.value:null,this.source=h||("object"==typeof r?null:ge(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=ta,a=bn.Default){this.assertNotDestroyed();const h=jt(this),p=$n(void 0);try{if(!(a&bn.SkipSelf)){let R=this.records.get(r);if(void 0===R){const F=function ep(t){return"function"==typeof t||"object"==typeof t&&t instanceof qi}(r)&&Gn(r);R=F&&this.injectableDefInScope(F)?Uc(Mh(r),Nd):null,this.records.set(r,R)}if(null!=R)return this.hydrate(r,R)}return(a&bn.Self?Ah():this.parent).get(r,s=a&bn.Optional&&s===ta?null:s)}catch(E){if("NullInjectorError"===E.name){if((E[na]=E[na]||[]).unshift(ge(r)),h)throw E;return function xs(t,r,s,a){const h=t[na];throw r[ce]&&h.unshift(r[ce]),t.message=function ra(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let h=ge(r);if(Array.isArray(r))h=r.map(ge).join(" -> ");else if("object"==typeof r){let p=[];for(let E in r)if(r.hasOwnProperty(E)){let R=r[E];p.push(E+":"+("string"==typeof R?JSON.stringify(R):ge(R)))}h=`{${p.join(", ")}}`}return`${s}${a?"("+a+")":""}[${h}]: ${t.replace(V,"\n  ")}`}("\n"+t.message,h,s,a),t.ngTokenPath=h,t[na]=null,t}(E,r,"R3InjectorError",this.source)}throw E}finally{$n(p),jt(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,h)=>r.push(ge(h))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processInjectorType(r,s,a){if(!(r=Fe(r)))return!1;let h=sr(r);const p=null==h&&r.ngModule||void 0,E=void 0===p?r:p,R=-1!==a.indexOf(E);if(void 0!==p&&(h=sr(p)),null==h)return!1;if(null!=h.imports&&!R){let de;a.push(E);try{no(h.imports,je=>{this.processInjectorType(je,s,a)&&(void 0===de&&(de=[]),de.push(je))})}finally{}if(void 0!==de)for(let je=0;je<de.length;je++){const{ngModule:yt,providers:Vt}=de[je];no(Vt,un=>this.processProvider(un,yt,Vt||at))}}this.injectorDefTypes.add(E);const F=ss(E)||(()=>new E);this.records.set(E,Uc(F,Nd));const ee=h.providers;if(null!=ee&&!R){const de=r;no(ee,je=>this.processProvider(je,de,ee))}return void 0!==p&&void 0!==r.providers}processProvider(r,s,a){let h=Ou(r=Fe(r))?r:Fe(r&&r.provide);const p=function Om(t,r,s){return km(t)?Uc(void 0,t.useValue):Uc(Qf(t),Nd)}(r);if(Ou(r)||!0!==r.multi)this.records.get(h);else{let E=this.records.get(h);E||(E=Uc(void 0,Nd,!0),E.factory=()=>pi(E.multi),this.records.set(h,E)),h=r,E.multi.push(r)}this.records.set(h,p)}hydrate(r,s){return s.value===Nd&&(s.value=n_,s.value=s.factory()),"object"==typeof s.value&&s.value&&function o_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Fe(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Mh(t){const r=Gn(t),s=null!==r?r.factory:ss(t);if(null!==s)return s;if(t instanceof qi)throw new Ze(204,!1);if(t instanceof Function)return function Rm(t){const r=t.length;if(r>0)throw $s(r,"?"),new Ze(204,!1);const s=function Kn(t){const r=t&&(t[Pn]||t[dr]);if(r){const s=function cr(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ze(204,!1)}function Qf(t,r,s){let a;if(Ou(t)){const h=Fe(t);return ss(h)||Mh(h)}if(km(t))a=()=>Fe(t.useValue);else if(function s_(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...pi(t.deps||[]));else if(function i_(t){return!(!t||!t.useExisting)}(t))a=()=>jn(Fe(t.useExisting));else{const h=Fe(t&&(t.useClass||t.provide));if(!function Jf(t){return!!t.deps}(t))return ss(h)||Mh(h);a=()=>new h(...pi(t.deps))}return a}function Uc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function km(t){return null!==t&&"object"==typeof t&&et in t}function Ou(t){return"function"==typeof t}let bl=(()=>{class t{static create(s,a){var h;if(Array.isArray(s))return xm({name:""},a,s,"");{const p=null!==(h=s.name)&&void 0!==h?h:"";return xm({name:p},s.parent,s.providers,p)}}}return t.THROW_IF_NOT_FOUND=ta,t.NULL=new Sh,t.\u0275prov=vt({token:t,providedIn:"any",factory:()=>jn(Od)}),t.__NG_ELEMENT_ID__=-1,t})();function ap(t,r){ts(Bl(t)[1],ki())}function lp(t){let r=function Ph(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let h;if(mi(t))h=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ze(903,"");h=r.\u0275dir}if(h){if(s){a.push(h);const E=t;E.inputs=Fh(t.inputs),E.declaredInputs=Fh(t.declaredInputs),E.outputs=Fh(t.outputs);const R=h.hostBindings;R&&d_(t,R);const F=h.viewQuery,ee=h.contentQueries;if(F&&cp(t,F),ee&&Bm(t,ee),ze(t.inputs,h.inputs),ze(t.declaredInputs,h.declaredInputs),ze(t.outputs,h.outputs),mi(h)&&h.data.animation){const de=t.data;de.animation=(de.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let E=0;E<p.length;E++){const R=p[E];R&&R.ngInherit&&R(t),R===lp&&(s=!1)}}r=Object.getPrototypeOf(r)}!function up(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const h=t[a];h.hostVars=r+=h.hostVars,h.hostAttrs=Cr(h.hostAttrs,s=Cr(s,h.hostAttrs))}}(a)}function Fh(t){return t===tr?{}:t===at?[]:t}function cp(t,r){const s=t.viewQuery;t.viewQuery=s?(a,h)=>{r(a,h),s(a,h)}:r}function Bm(t,r){const s=t.contentQueries;t.contentQueries=s?(a,h,p)=>{r(a,h,p),s(a,h,p)}:r}function d_(t,r){const s=t.hostBindings;t.hostBindings=s?(a,h)=>{r(a,h),s(a,h)}:r}let Hc=null;function ku(){if(!Hc){const t=Mn.Symbol;if(t&&t.iterator)Hc=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Hc=a)}}}return Hc}function Bd(t){return!!fp(t)&&(Array.isArray(t)||!(t instanceof Map)&&ku()in t)}function fp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function So(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function dc(t,r,s,a){const h=So(t,r,s);return So(t,r+1,a)||h}function pp(t,r,s,a){const h=pn();return So(h,re(),r)&&(gr(),Hl(Ei(),h,t,r,s,a)),pp}function Nu(t,r,s,a){return So(t,re(),s)?r+Je(s)+a:Xr}function Fu(t,r,s,a,h,p,E,R,F,ee){const je=function il(t,r,s,a,h,p){const E=dc(t,r,s,a);return dc(t,r+2,h,p)||E}(t,Ks(),s,h,E,F);return v(4),je?r+Je(s)+a+Je(h)+p+Je(E)+R+Je(F)+ee:Xr}function _p(t,r,s,a,h,p,E,R){const F=pn(),ee=gr(),de=t+20,je=ee.firstCreatePass?function p_(t,r,s,a,h,p,E,R,F){const ee=r.consts,de=Ru(r,t,4,E||null,wi(ee,R));Td(r,s,de,wi(ee,F)),ts(r,de);const je=de.tViews=Eh(2,de,a,h,p,r.directiveRegistry,r.pipeRegistry,null,r.schemas,ee);return null!==r.queries&&(r.queries.template(r,de),je.queries=r.queries.embeddedTView(de)),de}(de,ee,F,r,s,a,h,p,E):ee.data[de];lo(je,!1);const yt=F[11].createComment("");cd(ee,F,yt,je),Qs(yt,F),Bc(F,F[de]=ac(yt,F,yt,je)),Fr(je)&&Dd(ee,F,je),null!=E&&Id(F,je,R)}function zm(t){return Wr(function uo(){return k.lFrame.contextLView}(),20+t)}function zh(t,r=bn.Default){const s=pn();return null===s?jn(t,r):xr(ki(),s,Fe(t),r)}function pu(){throw new Error("invalid")}function mu(t,r,s){const a=pn();return So(a,re(),r)&&za(gr(),Ei(),a,t,r,a[11],s,!1),mu}function $c(t,r,s,a,h){const E=h?"class":"style";cc(t,s,r.inputs[E],E,a)}function Gh(t,r,s,a){const h=pn(),p=gr(),E=20+t,R=h[11],F=h[E]=f(R,r,function ri(){return k.lFrame.currentNamespace}()),ee=p.firstCreatePass?function T_(t,r,s,a,h,p,E){const R=r.consts,ee=Ru(r,t,2,h,wi(R,p));return Td(r,s,ee,wi(R,E)),null!==ee.attrs&&du(ee,ee.attrs,!1),null!==ee.mergedAttrs&&du(ee,ee.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,ee),ee}(E,p,h,0,r,s,a):p.data[E];lo(ee,!0);const de=ee.mergedAttrs;null!==de&&ws(R,F,de);const je=ee.classes;null!==je&&lh(R,F,je);const yt=ee.styles;return null!==yt&&Au(R,F,yt),64!=(64&ee.flags)&&cd(p,h,F,ee),0===function Wt(){return k.lFrame.elementDepthCount}()&&Qs(F,h),function zn(){k.lFrame.elementDepthCount++}(),Fr(ee)&&(Dd(p,h,ee),vh(p,ee,h)),null!==a&&Id(h,ee),Gh}function Ud(){let t=ki();Bo()?Uo():(t=t.parent,lo(t,!1));const r=t;!function ui(){k.lFrame.elementDepthCount--}();const s=gr();return s.firstCreatePass&&(ts(s,t),Un(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Ea(t){return 0!=(16&t.flags)}(r)&&$c(s,r,pn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Tl(t){return 0!=(32&t.flags)}(r)&&$c(s,r,pn(),r.stylesWithoutHost,!1),Ud}function Kh(t,r,s,a){return Gh(t,r,s,a),Ud(),Kh}function Wl(t,r,s){const a=pn(),h=gr(),p=t+20,E=h.firstCreatePass?function S_(t,r,s,a,h){const p=r.consts,E=wi(p,a),R=Ru(r,t,8,"ng-container",E);return null!==E&&du(R,E,!0),Td(r,s,R,wi(p,h)),null!==r.queries&&r.queries.elementStart(r,R),R}(p,h,a,r,s):h.data[p];lo(E,!0);const R=a[p]=a[11].createComment("");return cd(h,a,R,E),Qs(R,a),Fr(E)&&(Dd(h,a,E),vh(h,E,a)),null!=s&&Id(a,E),Wl}function vc(){let t=ki();const r=gr();return Bo()?Uo():(t=t.parent,lo(t,!1)),r.firstCreatePass&&(ts(r,t),Un(t)&&r.queries.elementEnd(t)),vc}function Ec(t,r,s){return Wl(t,r,s),vc(),Ec}function bp(){return pn()}function Hd(t){return!!t&&"function"==typeof t.then}function ag(t){return!!t&&"function"==typeof t.subscribe}const lg=ag;function wp(t,r,s,a){const h=pn(),p=gr(),E=ki();return function Dp(t,r,s,a,h,p,E,R){const F=Fr(a),de=t.firstCreatePass&&cu(t),je=r[8],yt=lc(r);let Vt=!0;if(3&a.type||R){const Jn=Xt(a,r),Dr=R?R(Jn):Jn,Tn=yt.length,Kr=R?Vi=>R($(Vi[a.index])):a.index;if(Lr(s)){let Vi=null;if(!R&&F&&(Vi=function Cp(t,r,s,a){const h=t.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const E=h[p];if(E===s&&h[p+1]===a){const R=r[7],F=h[p+2];return R.length>F?R[F]:null}"string"==typeof E&&(p+=2)}return null}(t,r,h,a.index)),null!==Vi)(Vi.__ngLastListenerFn__||Vi).__ngNextListenerFn__=p,Vi.__ngLastListenerFn__=p,Vt=!1;else{p=Zh(a,r,je,p,!1);const _s=s.listen(Dr,h,p);yt.push(p,_s),de&&de.push(h,Kr,Tn,Tn+1)}}else p=Zh(a,r,je,p,!0),Dr.addEventListener(h,p,E),yt.push(p),de&&de.push(h,Kr,Tn,E)}else p=Zh(a,r,je,p,!1);const un=a.outputs;let Bn;if(Vt&&null!==un&&(Bn=un[h])){const Jn=Bn.length;if(Jn)for(let Dr=0;Dr<Jn;Dr+=2){const Il=r[Bn[Dr]][Bn[Dr+1]].subscribe(p),Gd=yt.length;yt.push(p,Il),de&&de.push(h,a.index,Gd,-(Gd+1))}}}(p,h,h[11],E,t,r,!!s,a),wp}function Bu(t,r,s,a){try{return!1!==s(a)}catch(h){return uc(t,h),!1}}function Zh(t,r,s,a,h){return function p(E){if(E===Function)return a;const R=2&t.flags?Hr(t.index,r):r;0==(32&r[2])&&zf(R);let F=Bu(r,0,a,E),ee=p.__ngNextListenerFn__;for(;ee;)F=Bu(r,0,ee,E)&&F,ee=ee.__ngNextListenerFn__;return h&&!1===F&&(E.preventDefault(),E.returnValue=!1),F}}function Ip(t=1){return function Bi(t){return(k.lFrame.contextLView=function ms(t,r){for(;t>0;)r=r[15],t--;return r}(t,k.lFrame.contextLView))[8]}(t)}function Tp(t,r){let s=null;const a=function Pa(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(t);for(let h=0;h<r.length;h++){const p=r[h];if("*"!==p){if(null===a?Tf(t,p,!0):Sf(a,p))return h}else s=h}return s}function Yh(t){const r=pn()[16][6];if(!r.projection){const a=r.projection=$s(t?t.length:1,null),h=a.slice();let p=r.child;for(;null!==p;){const E=t?Tp(p,t):0;null!==E&&(h[E]?h[E].projectionNext=p:a[E]=p,h[E]=p),p=p.next}}}function ug(t,r=0,s){const a=pn(),h=gr(),p=Ru(h,20+t,16,null,s||null);null===p.projection&&(p.projection=r),Uo(),64!=(64&p.flags)&&function Vg(t,r,s){Yp(r[11],0,r,s,_r(t,s,r),sh(s.parent||r[6],s,r))}(h,a,p)}function Wc(t,r,s){return zc(t,"",r,"",s),Wc}function zc(t,r,s,a,h){const p=pn(),E=Nu(p,r,s,a);return E!==Xr&&za(gr(),Ei(),p,t,E,p[11],h,!1),zc}function qc(t,r,s,a,h){const p=t[s+1],E=null===r;let R=a?Ko(p):ou(p),F=!1;for(;0!==R&&(!1===F||E);){const de=t[R+1];M_(t[R],r)&&(F=!0,t[R+1]=a?Pc(de):xf(de)),R=a?Ko(de):ou(de)}F&&(t[s+1]=a?xf(p):Pc(p))}function M_(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&No(t,r)>=0}const Ao={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hg(t){return t.substring(Ao.key,Ao.keyEnd)}function Ap(t,r){const s=Ao.textEnd;return s===r?-1:(r=Ao.keyEnd=function k_(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,Ao.key=r,s),Zc(t,r,s))}function Zc(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function Qh(t,r,s){return Vo(t,r,s,!1),Qh}function Xh(t,r){return Vo(t,r,null,!0),Xh}function Cl(t,r){for(let s=function R_(t){return function Mp(t){Ao.key=0,Ao.keyEnd=0,Ao.value=0,Ao.valueEnd=0,Ao.textEnd=t.length}(t),Ap(t,Zc(t,0,Ao.textEnd))}(r);s>=0;s=Ap(r,s))Co(t,hg(r),!0)}function Vo(t,r,s,a){const h=pn(),p=gr(),E=v(2);p.firstUpdatePass&&gg(p,t,E,a),r!==Xr&&So(h,E,r)&&yg(p,p.data[di()],h,h[11],t,h[E+1]=function $_(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=ge(po(t)))),t}(r,s),a,E)}function $u(t,r){return r>=t.expandoStartIndex}function gg(t,r,s,a){const h=t.data;if(null===h[s+1]){const p=h[di()],E=$u(t,s);vg(p,a)&&null===r&&!E&&(r=!1),r=function L_(t,r,s,a){const h=function ot(t){const r=k.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let p=a?r.residualClasses:r.residualStyles;if(null===h)0===(a?r.classBindings:r.styleBindings)&&(s=$d(s=Rp(null,t,r,s,a),r.attrs,a),p=null);else{const E=r.directiveStylingLast;if(-1===E||t[E]!==h)if(s=Rp(h,t,r,s,a),null===p){let F=function V_(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==ou(a))return t[Ko(a)]}(t,r,a);void 0!==F&&Array.isArray(F)&&(F=Rp(null,t,r,F[1],a),F=$d(F,r.attrs,a),function B_(t,r,s,a){t[Ko(s?r.classBindings:r.styleBindings)]=a}(t,r,a,F))}else p=function U_(t,r,s){let a;const h=r.directiveEnd;for(let p=1+r.directiveStylingLast;p<h;p++)a=$d(a,t[p].hostAttrs,s);return $d(a,r.attrs,s)}(t,r,a)}return void 0!==p&&(a?r.residualClasses=p:r.residualStyles=p),s}(h,p,r,a),function A_(t,r,s,a,h,p){let E=p?r.classBindings:r.styleBindings,R=Ko(E),F=ou(E);t[a]=s;let de,ee=!1;if(Array.isArray(s)){const je=s;de=je[1],(null===de||No(je,de)>0)&&(ee=!0)}else de=s;if(h)if(0!==F){const yt=Ko(t[R+1]);t[a+1]=El(yt,R),0!==yt&&(t[yt+1]=Rf(t[yt+1],a)),t[R+1]=function rm(t,r){return 131071&t|r<<17}(t[R+1],a)}else t[a+1]=El(R,0),0!==R&&(t[R+1]=Rf(t[R+1],a)),R=a;else t[a+1]=El(F,0),0===R?R=a:t[F+1]=Rf(t[F+1],a),F=a;ee&&(t[a+1]=xf(t[a+1])),qc(t,de,a,!0),qc(t,de,a,!1),function dg(t,r,s,a,h){const p=h?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof r&&No(p,r)>=0&&(s[a+1]=Pc(s[a+1]))}(r,de,t,a,p),E=El(R,F),p?r.classBindings=E:r.styleBindings=E}(h,p,r,s,E,a)}}function Rp(t,r,s,a,h){let p=null;const E=s.directiveEnd;let R=s.directiveStylingLast;for(-1===R?R=s.directiveStart:R++;R<E&&(p=r[R],a=$d(a,p.hostAttrs,h),p!==t);)R++;return null!==t&&(s.directiveStylingLast=R),a}function $d(t,r,s){const a=s?1:2;let h=-1;if(null!==r)for(let p=0;p<r.length;p++){const E=r[p];"number"==typeof E?h=E:h===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Co(t,E,!!s||r[++p]))}return void 0===t?null:t}function yg(t,r,s,a,h,p,E,R){if(!(3&r.type))return;const F=t.data,ee=F[R+1];Yc(function im(t){return 1==(1&t)}(ee)?bc(F,r,s,h,ou(ee),E):void 0)||(Yc(p)||function hh(t){return 2==(2&t)}(ee)&&(p=bc(F,null,s,h,R,E)),function Su(t,r,s,a,h){const p=Lr(t);if(r)h?p?t.addClass(s,a):s.classList.add(a):p?t.removeClass(s,a):s.classList.remove(a);else{let E=-1===a.indexOf("-")?void 0:el.DashCase;if(null==h)p?t.removeStyle(s,a,E):s.style.removeProperty(a);else{const R="string"==typeof h&&h.endsWith("!important");R&&(h=h.slice(0,-10),E|=el.Important),p?t.setStyle(s,a,h,E):s.style.setProperty(a,h,R?"important":"")}}}(a,E,Ft(di(),s),h,p))}function bc(t,r,s,a,h,p){const E=null===r;let R;for(;h>0;){const F=t[h],ee=Array.isArray(F),de=ee?F[1]:F,je=null===de;let yt=s[h+1];yt===Xr&&(yt=je?at:void 0);let Vt=je?Qi(yt,a):de===a?yt:void 0;if(ee&&!Yc(Vt)&&(Vt=Qi(F,a)),Yc(Vt)&&(R=Vt,E))return R;const un=t[h+1];h=E?Ko(un):ou(un)}if(null!==r){let F=p?r.residualClasses:r.residualStyles;null!=F&&(R=Qi(F,a))}return R}function Yc(t){return void 0!==t}function vg(t,r){return 0!=(t.flags&(r?16:32))}function Eg(t,r=""){const s=pn(),a=gr(),h=t+20,p=a.firstCreatePass?Ru(a,h,1,r,null):a.data[h],E=s[h]=function Tu(t,r){return Lr(t)?t.createText(r):t.createTextNode(r)}(s[11],r);cd(a,s,E,p),lo(p,!1)}function Op(t){return ef("",t,""),Op}function ef(t,r,s){const a=pn(),h=Nu(a,t,r,s);return h!==Xr&&jl(a,di(),h),ef}function kp(t,r,s,a,h){const p=pn(),E=function fc(t,r,s,a,h,p){const R=dc(t,Ks(),s,h);return v(2),R?r+Je(s)+a+Je(h)+p:Xr}(p,t,r,s,a,h);return E!==Xr&&jl(p,di(),E),kp}function wg(t,r,s,a,h,p,E,R,F){const ee=pn(),de=Fu(ee,t,r,s,a,h,p,E,R,F);return de!==Xr&&jl(ee,di(),de),wg}function o(t,r,s){!function Dl(t,r,s,a){const h=gr(),p=v(2);h.firstUpdatePass&&gg(h,null,p,a);const E=pn();if(s!==Xr&&So(E,p,s)){const R=h.data[di()];if(vg(R,a)&&!$u(h,p)){let F=a?R.classesWithoutHost:R.stylesWithoutHost;null!==F&&(s=ke(F,s||"")),$c(h,R,E,s,a)}else!function j_(t,r,s,a,h,p,E,R){h===Xr&&(h=at);let F=0,ee=0,de=0<h.length?h[0]:null,je=0<p.length?p[0]:null;for(;null!==de||null!==je;){const yt=F<h.length?h[F+1]:void 0,Vt=ee<p.length?p[ee+1]:void 0;let Bn,un=null;de===je?(F+=2,ee+=2,yt!==Vt&&(un=je,Bn=Vt)):null===je||null!==de&&de<je?(F+=2,un=de):(ee+=2,un=je,Bn=Vt),null!==un&&yg(t,r,s,a,un,Bn,E,R),de=F<h.length?h[F]:null,je=ee<p.length?p[ee]:null}}(h,R,E,E[11],E[p+1],E[p+1]=function H_(t,r,s){if(null==s||""===s)return at;const a=[],h=po(s);if(Array.isArray(h))for(let p=0;p<h.length;p++)t(a,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&t(a,p,h[p]);else"string"==typeof h&&r(a,h);return a}(t,r,s),a,p)}}(Co,Cl,Nu(pn(),t,r,s),!0)}function z_(t,r,s){const a=pn();return So(a,re(),r)&&za(gr(),Ei(),a,t,r,a[11],s,!0),z_}const Wd=void 0;var tE=["en",[["a","p"],["AM","PM"],Wd],[["AM","PM"],Wd,Wd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wd,"{1} 'at' {0}",Wd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function eE(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let tf={};function G_(t){const r=function nE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=ov(r);if(s)return s;const a=r.split("-")[0];if(s=ov(a),s)return s;if("en"===a)return tE;throw new Error(`Missing locale data for the locale "${t}".`)}function sv(t){return G_(t)[Jr.PluralCase]}function ov(t){return t in tf||(tf[t]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[t]),tf[t]}var Jr=(()=>((Jr=Jr||{})[Jr.LocaleId=0]="LocaleId",Jr[Jr.DayPeriodsFormat=1]="DayPeriodsFormat",Jr[Jr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Jr[Jr.DaysFormat=3]="DaysFormat",Jr[Jr.DaysStandalone=4]="DaysStandalone",Jr[Jr.MonthsFormat=5]="MonthsFormat",Jr[Jr.MonthsStandalone=6]="MonthsStandalone",Jr[Jr.Eras=7]="Eras",Jr[Jr.FirstDayOfWeek=8]="FirstDayOfWeek",Jr[Jr.WeekendRange=9]="WeekendRange",Jr[Jr.DateFormat=10]="DateFormat",Jr[Jr.TimeFormat=11]="TimeFormat",Jr[Jr.DateTimeFormat=12]="DateTimeFormat",Jr[Jr.NumberSymbols=13]="NumberSymbols",Jr[Jr.NumberFormats=14]="NumberFormats",Jr[Jr.CurrencyCode=15]="CurrencyCode",Jr[Jr.CurrencySymbol=16]="CurrencySymbol",Jr[Jr.CurrencyName=17]="CurrencyName",Jr[Jr.Currencies=18]="Currencies",Jr[Jr.Directionality=19]="Directionality",Jr[Jr.PluralCase=20]="PluralCase",Jr[Jr.ExtraData=21]="ExtraData",Jr))();const Cg="en-US";let av=Cg;function Z_(t,r,s,a,h){if(t=Fe(t),Array.isArray(t))for(let p=0;p<t.length;p++)Z_(t[p],r,s,a,h);else{const p=gr(),E=pn();let R=Ou(t)?t:Fe(t.provide),F=Qf(t);const ee=ki(),de=1048575&ee.providerIndexes,je=ee.directiveStart,yt=ee.providerIndexes>>20;if(Ou(t)||!t.multi){const Vt=new Ni(F,h,zh),un=Q_(R,r,h?de:de+yt,je);-1===un?(Zn(ve(ee,E),p,R),Y_(p,t,r.length),r.push(R),ee.directiveStart++,ee.directiveEnd++,h&&(ee.providerIndexes+=1048576),s.push(Vt),E.push(Vt)):(s[un]=Vt,E[un]=Vt)}else{const Vt=Q_(R,r,de+yt,je),un=Q_(R,r,de,de+yt),Bn=Vt>=0&&s[Vt],Jn=un>=0&&s[un];if(h&&!Jn||!h&&!Bn){Zn(ve(ee,E),p,R);const Dr=function eb(t,r,s,a,h){const p=new Ni(t,s,zh);return p.multi=[],p.index=r,p.componentProviders=0,Rv(p,h,a&&!s),p}(h?JE:XE,s.length,h,a,F);!h&&Jn&&(s[un].providerFactory=Dr),Y_(p,t,r.length,0),r.push(R),ee.directiveStart++,ee.directiveEnd++,h&&(ee.providerIndexes+=1048576),s.push(Dr),E.push(Dr)}else Y_(p,t,Vt>-1?Vt:un,Rv(s[h?un:Vt],F,!h&&a));!h&&a&&Jn&&s[un].componentProviders++}}}function Y_(t,r,s,a){const h=Ou(r),p=function Xf(t){return!!t.useClass}(r);if(h||p){const F=(p?Fe(r.useClass):r).prototype.ngOnDestroy;if(F){const ee=t.destroyHooks||(t.destroyHooks=[]);if(!h&&r.multi){const de=ee.indexOf(s);-1===de?ee.push(s,[a,F]):ee[de+1].push(a,F)}else ee.push(s,F)}}}function Rv(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function Q_(t,r,s,a){for(let h=s;h<a;h++)if(r[h]===t)return h;return-1}function XE(t,r,s,a){return X_(this.multi,[])}function JE(t,r,s,a){const h=this.multi;let p;if(this.providerFactory){const E=this.providerFactory.componentProviders,R=Zs(s,s[1],this.providerFactory.index,a);p=R.slice(0,E),X_(h,p);for(let F=E;F<R.length;F++)p.push(R[F])}else p=[],X_(h,p);return p}function X_(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function Ov(t,r=[]){return s=>{s.providersResolver=(a,h)=>function QE(t,r,s){const a=gr();if(a.firstCreatePass){const h=mi(t);Z_(s,a.data,a.blueprint,h,!0),Z_(r,a.data,a.blueprint,h,!1)}}(a,h?h(t):t,r)}}class kv{}class rb{resolveComponentFactory(r){throw function nb(t){const r=Error(`No component factory found for ${ge(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let Ag=(()=>{class t{}return t.NULL=new rb,t})();function ib(){return rf(ki(),pn())}function rf(t,r){return new Bp(Xt(t,r))}let Bp=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=ib,t})();function sb(t){return t instanceof Bp?t.nativeElement:t}class Pv{}let ob=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function lb(){const t=pn(),s=Hr(ki().index,t);return function ab(t){return t[11]}(ln(s)?s:t)}(),t})(),ub=(()=>{class t{}return t.\u0275prov=vt({token:t,providedIn:"root",factory:()=>null}),t})();class Fv{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Lv=new Fv("13.2.7"),J_={};function Mg(t,r,s,a,h=!1){for(;null!==s;){const p=r[s.index];if(null!==p&&a.push($(p)),Cn(p))for(let R=10;R<p.length;R++){const F=p[R],ee=F[1].firstChild;null!==ee&&Mg(F[1],F,ee,a)}const E=s.type;if(8&E)Mg(t,r,s.child,a);else if(32&E){const R=od(s,r);let F;for(;F=R();)a.push(F)}else if(16&E){const R=Oc(r,s);if(Array.isArray(R))a.push(...R);else{const F=nc(r[16]);Mg(F[1],F,R,a,!0)}}s=h?s.projectionNext:s.next}return a}class Up{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Mg(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Cn(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(qe(r,a),Ua(s,a))}this._attachedToViewContainer=!1}ft(this._lView[1],this._lView)}onDestroy(r){Vf(this._lView[1],this._lView,null,r)}markForCheck(){zf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){xd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function qf(t,r,s){ps(!0);try{xd(t,r,s)}finally{ps(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _(t,r){dd(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ze(902,"");this._appRef=r}}class cb extends Up{constructor(r){super(r),this._view=r}detectChanges(){Tm(this._view)}checkNoChanges(){!function Sm(t){ps(!0);try{Tm(t)}finally{ps(!1)}}(this._view)}get context(){return null}}class Vv extends Ag{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Q(r);return new ey(s,this.ngModule)}}function Bv(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class ey extends kv{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Nc(t){return t.map(Mu).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Bv(this.componentDef.inputs)}get outputs(){return Bv(this.componentDef.outputs)}create(r,s,a,h){const p=(h=h||this.ngModule)?function hb(t,r){return{get:(s,a,h)=>{const p=t.get(s,J_,h);return p!==J_||a===J_?p:r.get(s,a,h)}}}(r,h.injector):r,E=p.get(Pv,j),R=p.get(ub,null),F=E.createRenderer(null,this.componentDef),ee=this.componentDef.selectors[0][0]||"div",de=a?function vm(t,r,s){if(Lr(t))return t.selectRootElement(r,s===Mt.ShadowDom);let a="string"==typeof r?t.querySelector(r):r;return a.textContent="",a}(F,a,this.componentDef.encapsulation):f(E.createRenderer(null,this.componentDef),ee,function db(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ee)),je=this.componentDef.onPush?576:528,yt=function Vm(t,r){return{components:[],scheduler:t||th,clean:Zf,playerHandler:r||null,flags:0}}(),Vt=Eh(0,null,null,1,0,null,null,null,null,null),un=bd(null,Vt,yt,je,null,null,E,F,R,p);let Bn,Jn;br(un);try{const Dr=function Lm(t,r,s,a,h,p){const E=s[1];s[20]=t;const F=Ru(E,20,2,"#host",null),ee=F.mergedAttrs=r.hostAttrs;null!==ee&&(du(F,ee,!0),null!==t&&(ws(h,t,ee),null!==F.classes&&lh(h,t,F.classes),null!==F.styles&&Au(h,t,F.styles)));const de=a.createRenderer(t,r),je=bd(s,Lf(r),null,r.onPush?64:16,s[20],F,a,de,p||null,null);return E.firstCreatePass&&(Zn(ve(F,s),E,r.type),uu(E,F),Ch(F,s.length,1)),Bc(s,je),s[20]=je}(de,this.componentDef,un,E,F);if(de)if(a)ws(F,de,["ng-version",Lv.full]);else{const{attrs:Tn,classes:Kr}=function tm(t){const r=[],s=[];let a=1,h=2;for(;a<t.length;){let p=t[a];if("string"==typeof p)2===h?""!==p&&r.push(p,t[++a]):8===h&&s.push(p);else{if(!Na(h))break;h=p}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Tn&&ws(F,de,Tn),Kr&&Kr.length>0&&lh(F,de,Kr.join(" "))}if(Jn=fi(Vt,20),void 0!==s){const Tn=Jn.projection=[];for(let Kr=0;Kr<this.ngContentSelectors.length;Kr++){const Vi=s[Kr];Tn.push(null!=Vi?Array.from(Vi):null)}}Bn=function Nh(t,r,s,a,h){const p=s[1],E=function Vc(t,r,s){const a=ki();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Dm(t,a,r,sc(t,r,1,null),s));const h=Zs(r,t,a.directiveStart,a);Qs(h,r);const p=Xt(a,r);return p&&Qs(p,r),h}(p,s,r);if(a.components.push(E),t[8]=E,h&&h.forEach(F=>F(E,r)),r.contentQueries){const F=ki();r.contentQueries(1,E,F.directiveStart)}const R=ki();return!p.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(gs(R.index),Sd(s[1],R,0,R.directiveStart,R.directiveEnd,r),wh(r,E)),E}(Dr,this.componentDef,un,yt,[ap]),oc(Vt,un,null)}finally{Di()}return new pb(this.componentType,Bn,rf(Jn,un),un,Jn)}}class pb extends class tb{}{constructor(r,s,a,h,p){super(),this.location=a,this._rootLView=h,this._tNode=p,this.instance=s,this.hostView=this.changeDetectorRef=new cb(h),this.componentType=r}get injector(){return new bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class sf{}class Uv{}const af=new Map;class $v extends sf{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Vv(this);const a=gt(r);this._bootstrapComponents=ka(a.bootstrap),this._r3Injector=Yf(r,s,[{provide:sf,useValue:this},{provide:Ag,useValue:this.componentFactoryResolver}],ge(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=bl.THROW_IF_NOT_FOUND,a=bn.Default){return r===bl||r===sf||r===Od?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class ty extends Uv{constructor(r){super(),this.moduleType=r,null!==gt(r)&&function gb(t){const r=new Set;!function s(a){const h=gt(a,!0),p=h.id;null!==p&&(function Hv(t,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${t} - ${ge(r)} vs ${ge(r.name)}`)}(p,af.get(p),a),af.set(p,a));const E=ka(h.imports);for(const R of E)r.has(R)||(r.add(R),s(R))}(t)}(r)}create(r){return new $v(this.moduleType,r)}}function Wv(t,r,s,a,h,p){const E=r+s;return So(t,E,h)?function rl(t,r,s){return t[r]=s}(t,E+1,p?a.call(p,h):a(h)):function Hp(t,r){const s=t[r];return s===Xr?void 0:s}(t,E+1)}function Zv(t,r){const s=gr();let a;const h=t+20;s.firstCreatePass?(a=function Sb(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[h]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(h,a.onDestroy)):a=s.data[h];const p=a.factory||(a.factory=ss(a.type)),E=$n(zh);try{const R=Zo(!1),F=p();return Zo(R),function m_(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,pn(),h,F),F}finally{$n(E)}}function Yv(t,r,s){const a=t+20,h=pn(),p=Wr(h,a);return function jp(t,r){return t[1].data[r].pure}(h,a)?Wv(h,function Wi(){const t=k.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}(),r,p.transform,s,p):p.transform(s)}function ny(t){return r=>{setTimeout(t,void 0,r)}}const zu=class Ob extends u.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var h,p,E;let R=r,F=s||(()=>null),ee=a;if(r&&"object"==typeof r){const je=r;R=null===(h=je.next)||void 0===h?void 0:h.bind(je),F=null===(p=je.error)||void 0===p?void 0:p.bind(je),ee=null===(E=je.complete)||void 0===E?void 0:E.bind(je)}this.__isAsync&&(F=ny(F),R&&(R=ny(R)),ee&&(ee=ny(ee)));const de=super.subscribe({next:R,error:F,complete:ee});return r instanceof C.w0&&r.add(de),de}};function kb(){return this._results[ku()]()}class xg{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=ku(),a=xg.prototype;a[s]||(a[s]=kb)}get changes(){return this._changes||(this._changes=new zu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const h=Ds(r);(this._changesDetected=!function fo(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let h=t[a],p=r[a];if(s&&(h=s(h),p=s(p)),p!==h)return!1}return!0}(a._results,h,s))&&(a._results=h,a.length=h.length,a.last=h[this.length-1],a.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let $p=(()=>{class t{}return t.__NG_ELEMENT_ID__=Fb,t})();const Nb=$p,Pb=class extends Nb{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=bd(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(a[19]=p.createEmbeddedView(s)),oc(s,a,r),new Up(a)}};function Fb(){return Rg(ki(),pn())}function Rg(t,r){return 4&t.type?new Pb(r,t,rf(t,r)):null}let Og=(()=>{class t{}return t.__NG_ELEMENT_ID__=Lb,t})();function Lb(){return Jv(ki(),pn())}const Vb=Og,Qv=class extends Vb{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return rf(this._hostTNode,this._hostLView)}get injector(){return new bo(this._hostTNode,this._hostLView)}get parentInjector(){const r=Zt(this._hostTNode,this._hostLView);if(An(r)){const s=Ui(r,this._hostLView),a=zt(r);return new bo(s[1].data[a+8],s)}return new bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=Xv(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const h=r.createEmbeddedView(s||{});return this.insert(h,a),h}createComponent(r,s,a,h,p){const E=r&&!function Ba(t){return"function"==typeof t}(r);let R;if(E)R=s;else{const je=s||{};R=je.index,a=je.injector,h=je.projectableNodes,p=je.ngModuleRef}const F=E?r:new ey(Q(r)),ee=a||this.parentInjector;if(!p&&null==F.ngModule){const yt=(E?ee:this.parentInjector).get(sf,null);yt&&(p=yt)}const de=F.create(ee,h,void 0,p);return this.insert(de.hostView,R),de}insert(r,s){const a=r._lView,h=a[1];if(function ni(t){return Cn(t[3])}(a)){const de=this.indexOf(r);if(-1!==de)this.detach(de);else{const je=a[3],yt=new Qv(je,je[6],je[3]);yt.detach(yt.indexOf(r))}}const p=this._adjustIndex(s),E=this._lContainer;!function H(t,r,s,a){const h=10+a,p=s.length;a>0&&(s[h-1][4]=r),a<p-10?(r[4]=s[h],qa(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const E=r[17];null!==E&&s!==E&&function Y(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(E,r);const R=r[19];null!==R&&R.insertView(t),r[2]|=128}(h,a,E,p);const R=su(p,E),F=a[11],ee=nl(F,E[7]);return null!==ee&&function d(t,r,s,a,h,p){a[0]=h,a[6]=r,dd(t,a,s,1,h,p)}(h,E[6],F,a,ee,R),r.attachToViewContainerRef(),qa(ry(E),p,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=Xv(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=qe(this._lContainer,s);a&&(Ua(ry(this._lContainer),s),ft(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=qe(this._lContainer,s);return a&&null!=Ua(ry(this._lContainer),s)?new Up(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function Xv(t){return t[8]}function ry(t){return t[8]||(t[8]=[])}function Jv(t,r){let s;const a=r[t.index];if(Cn(a))s=a;else{let h;if(8&t.type)h=$(a);else{const p=r[11];h=p.createComment("");const E=Xt(t,r);Ii(p,nl(p,E),h,function ih(t,r){return Lr(t)?t.nextSibling(r):r.nextSibling}(p,E),!1)}r[t.index]=s=ac(a,r,h,t),Bc(r,s)}return new Qv(s,t,r)}class iy{constructor(r){this.queryList=r,this.matches=null}clone(){return new iy(this.queryList)}setDirty(){this.queryList.setDirty()}}class sy{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,h=[];for(let p=0;p<a;p++){const E=s.getByIndex(p);h.push(this.queries[E.indexInDeclarationView].clone())}return new sy(h)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==u0(r,s).matches&&this.queries[s].setDirty()}}class e0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class oy{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const h=null!==s?s.length:0,p=this.getByIndex(a).embeddedTView(r,h);p&&(p.indexInDeclarationView=a,null!==s?s.push(p):s=[p])}return null!==s?new oy(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class ay{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new ay(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let h=0;h<a.length;h++){const p=a[h];this.matchTNodeWithReadOption(r,s,Hb(s,p)),this.matchTNodeWithReadOption(r,s,jo(s,r,p,!1,!1))}else a===$p?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,jo(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const h=this.metadata.read;if(null!==h)if(h===Bp||h===Og||h===$p&&4&s.type)this.addMatch(s.index,-2);else{const p=jo(s,r,h,!1,!1);null!==p&&this.addMatch(s.index,p)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Hb(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function $b(t,r,s,a){return-1===s?function jb(t,r){return 11&t.type?rf(t,r):4&t.type?Rg(t,r):null}(r,t):-2===s?function Wb(t,r,s){return s===Bp?rf(r,t):s===$p?Rg(r,t):s===Og?Jv(r,t):void 0}(t,r,a):Zs(t,t[1],s,r)}function t0(t,r,s,a){const h=r[19].queries[a];if(null===h.matches){const p=t.data,E=s.matches,R=[];for(let F=0;F<E.length;F+=2){const ee=E[F];R.push(ee<0?null:$b(r,p[ee],E[F+1],s.metadata.read))}h.matches=R}return h.matches}function ly(t,r,s,a){const h=t.queries.getByIndex(s),p=h.matches;if(null!==p){const E=t0(t,r,h,s);for(let R=0;R<p.length;R+=2){const F=p[R];if(F>0)a.push(E[R/2]);else{const ee=p[R+1],de=r[-F];for(let je=10;je<de.length;je++){const yt=de[je];yt[17]===yt[3]&&ly(yt[1],yt,ee,a)}if(null!==de[9]){const je=de[9];for(let yt=0;yt<je.length;yt++){const Vt=je[yt];ly(Vt[1],Vt,ee,a)}}}}}return a}function n0(t){const r=pn(),s=gr(),a=Nt();Jt(a+1);const h=u0(s,a);if(t.dirty&&jr(r)===(2==(2&h.metadata.flags))){if(null===h.matches)t.reset([]);else{const p=h.crossesNgTemplate?ly(s,r,a,[]):t0(s,r,h,a);t.reset(p,sb),t.notifyOnChanges()}return!0}return!1}function r0(t,r,s){const a=gr();a.firstCreatePass&&(l0(a,new e0(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),a0(a,pn(),r)}function s0(t,r,s,a){const h=gr();if(h.firstCreatePass){const p=ki();l0(h,new e0(r,s,a),p.index),function Gb(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(h,t),2==(2&s)&&(h.staticContentQueries=!0)}a0(h,pn(),s)}function o0(){return function zb(t,r){return t[19].queries[r].queryList}(pn(),Nt())}function a0(t,r,s){const a=new xg(4==(4&s));Vf(t,r,a,a.destroy),null===r[19]&&(r[19]=new sy),r[19].queries.push(new iy(a))}function l0(t,r,s){null===t.queries&&(t.queries=new oy),t.queries.track(new ay(r,s))}function u0(t,r){return t.queries.getByIndex(r)}function Pg(...t){}const T0=new qi("Application Initializer");let py=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Pg,this.reject=Pg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,h)=>{this.resolve=a,this.reject=h})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Hd(p))s.push(p);else if(lg(p)){const E=new Promise((R,F)=>{p.subscribe({complete:R,error:F})});s.push(E)}}Promise.all(s).then(()=>{a()}).catch(h=>{this.reject(h)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(jn(T0,8))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const S0=new qi("AppId",{providedIn:"root",factory:function A0(){return`${my()}${my()}${my()}`}});function my(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const M0=new qi("Platform Initializer"),x0=new qi("Platform ID"),R0=new qi("appBootstrapListener");let O0=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();const gy=new qi("LocaleId",{providedIn:"root",factory:()=>qr(gy,bn.Optional|bn.SkipSelf)||function cw(){return"undefined"!=typeof $localize&&$localize.locale||Cg}()}),dw=new qi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class hw{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let fw=(()=>{class t{compileModuleSync(s){return new ty(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),p=ka(gt(s).declarations).reduce((E,R)=>{const F=Q(R);return F&&E.push(new ey(F)),E},[]);return new hw(a,p)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const mw=(()=>Promise.resolve(0))();function _y(t){"undefined"==typeof Zone?mw.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class gu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zu(!1),this.onMicrotaskEmpty=new zu(!1),this.onStable=new zu(!1),this.onError=new zu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!a&&s,h.shouldCoalesceRunChangeDetection=a,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function gw(){let t=Mn.requestAnimationFrame,r=Mn.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function vw(t){const r=()=>{!function yw(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Mn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vy(t),t.isCheckStableRunning=!0,yy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,h,p,E,R)=>{try{return k0(t),s.invokeTask(h,p,E,R)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&r(),N0(t)}},onInvoke:(s,a,h,p,E,R,F)=>{try{return k0(t),s.invoke(h,p,E,R,F)}finally{t.shouldCoalesceRunChangeDetection&&r(),N0(t)}},onHasTask:(s,a,h,p)=>{s.hasTask(h,p),a===h&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,vy(t),yy(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(s,a,h,p)=>(s.handleError(h,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,h){const p=this._inner,E=p.scheduleEventTask("NgZoneEvent: "+h,r,_w,Pg,Pg);try{return p.runTask(E,s,a)}finally{p.cancelTask(E)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const _w={};function yy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function k0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function N0(t){t._nesting--,yy(t)}class Ew{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zu,this.onMicrotaskEmpty=new zu,this.onStable=new zu,this.onError=new zu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,h){return r.apply(s,a)}}let P0=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gu.assertNotInAngularZone(),_y(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_y(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,h){let p=-1;a&&a>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==p),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:p,updateCb:h})}whenStable(s,a,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,h){return[]}}return t.\u0275fac=function(s){return new(s||t)(jn(gu))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),F0=(()=>{class t{constructor(){this._applications=new Map,Ey.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Ey.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();class bw{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function ww(t){Ey=t}let _u,Ey=new bw;const L0=new qi("AllowMultipleToken");class Iw{constructor(r,s){this.name=r,this.token=s}}function V0(t,r,s=[]){const a=`Platform: ${r}`,h=new qi(a);return(p=[])=>{let E=B0();if(!E||E.injector.get(L0,!1))if(t)t(s.concat(p).concat({provide:h,useValue:!0}));else{const R=s.concat(p).concat({provide:h,useValue:!0},{provide:kd,useValue:"platform"});!function Tw(t){if(_u&&!_u.destroyed&&!_u.injector.get(L0,!1))throw new Ze(400,"");_u=t.get(U0);const r=t.get(M0,null);r&&r.forEach(s=>s())}(bl.create({providers:R,name:a}))}return function Sw(t){const r=B0();if(!r)throw new Ze(401,"");return r}()}}function B0(){return _u&&!_u.destroyed?_u:null}let U0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const R=function Aw(t,r){let s;return s="noop"===t?new Ew:("zone.js"===t?void 0:t)||new gu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),F=[{provide:gu,useValue:R}];return R.run(()=>{const ee=bl.create({providers:F,parent:this.injector,name:s.moduleType.name}),de=s.create(ee),je=de.injector.get(yl,null);if(!je)throw new Ze(402,"");return R.runOutsideAngular(()=>{const yt=R.onError.subscribe({next:Vt=>{je.handleError(Vt)}});de.onDestroy(()=>{wy(this._modules,de),yt.unsubscribe()})}),function Mw(t,r,s){try{const a=s();return Hd(a)?a.catch(h=>{throw r.runOutsideAngular(()=>t.handleError(h)),h}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(je,R,()=>{const yt=de.injector.get(py);return yt.runInitializers(),yt.donePromise.then(()=>(function oE(t){rn(t,"Expected localeId to be defined"),"string"==typeof t&&(av=t.toLowerCase().replace(/_/g,"-"))}(de.injector.get(gy,Cg)||Cg),this._moduleDoBootstrap(de),de))})})}bootstrapModule(s,a=[]){const h=H0({},a);return function Cw(t,r,s){const a=new ty(s);return Promise.resolve(a)}(0,0,s).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(s){const a=s.injector.get(by);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(h=>a.bootstrap(h));else{if(!s.instance.ngDoBootstrap)throw new Ze(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(jn(bl))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();function H0(t,r){return Array.isArray(r)?r.reduce(H0,t):Object.assign(Object.assign({},t),r)}let by=(()=>{class t{constructor(s,a,h,p,E){this._zone=s,this._injector=a,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const R=new G.y(ee=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ee.next(this._stable),ee.complete()})}),F=new G.y(ee=>{let de;this._zone.runOutsideAngular(()=>{de=this._zone.onStable.subscribe(()=>{gu.assertNotInAngularZone(),_y(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ee.next(!0))})})});const je=this._zone.onUnstable.subscribe(()=>{gu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ee.next(!1)}))});return()=>{de.unsubscribe(),je.unsubscribe()}});this.isStable=(0,z.T)(R,F.pipe((0,Ce.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Ze(405,"");let h;h=s instanceof kv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(h.componentType);const p=function Dw(t){return t.isBoundToModule}(h)?void 0:this._injector.get(sf),R=h.create(bl.NULL,[],a||h.selector,p),F=R.location.nativeElement,ee=R.injector.get(P0,null),de=ee&&R.injector.get(F0);return ee&&de&&de.registerApplication(F,ee),R.onDestroy(()=>{this.detachView(R.hostView),wy(this.components,R),de&&de.unregisterApplication(F)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new Ze(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;wy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(R0,[]).concat(this._bootstrapListeners).forEach(h=>h(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(jn(gu),jn(bl),jn(yl),jn(Ag),jn(py))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function wy(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let $0=!0,W0=!1;function Rw(){return W0=!0,$0}function Ow(){if(W0)throw new Error("Cannot enable prod mode after platform setup.");$0=!1}let kw=(()=>{class t{}return t.__NG_ELEMENT_ID__=Nw,t})();function Nw(t){return function Pw(t,r,s){if(Mr(t)&&!s){const a=Hr(t.index,r);return new Up(a,a)}return 47&t.type?new Up(r[16],r):null}(ki(),pn(),16==(16&t))}class q0{constructor(){}supports(r){return Bd(r)}create(r){return new Hw(r)}}const Uw=(t,r)=>r;class Hw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Uw}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,h=0,p=null;for(;s||a;){const E=!a||s&&s.currentIndex<Y0(a,h,p)?s:a,R=Y0(E,h,p),F=E.currentIndex;if(E===a)h--,a=a._nextRemoved;else if(s=s._next,null==E.previousIndex)h++;else{p||(p=[]);const ee=R-h,de=F-h;if(ee!=de){for(let yt=0;yt<ee;yt++){const Vt=yt<p.length?p[yt]:p[yt]=0,un=Vt+yt;de<=un&&un<ee&&(p[yt]=Vt+1)}p[E.previousIndex]=de-ee}}R!==F&&r(E,R,F)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Bd(r))throw new Ze(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let h,p,E,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let R=0;R<this.length;R++)p=r[R],E=this._trackByFn(R,p),null!==s&&Object.is(s.trackById,E)?(a&&(s=this._verifyReinsertion(s,p,E,R)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,E,R),a=!0),s=s._next}else h=0,function Hm(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[ku()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,R=>{E=this._trackByFn(h,R),null!==s&&Object.is(s.trackById,E)?(a&&(s=this._verifyReinsertion(s,R,E,h)),Object.is(s.item,R)||this._addIdentityChange(s,R)):(s=this._mismatch(s,R,E,h),a=!0),s=s._next,h++}),this.length=h;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,h){let p;return null===r?p=this._itTail:(p=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,p,h)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,h))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,p,h)):r=this._addAfter(new jw(s,a),p,h),r}_verifyReinsertion(r,s,a,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?r=this._reinsertAfter(p,r._prev,h):r.currentIndex!=h&&(r.currentIndex=h,this._addToMoves(r,h)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const h=r._prevRemoved,p=r._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const h=null===s?this._itHead:s._next;return r._next=h,r._prev=s,null===h?this._itTail=r:h._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Z0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Z0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class jw{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $w{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Z0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new $w,this.map.set(s,a)),a.add(r)}get(r,s){const h=this.map.get(r);return h?h.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Y0(t,r,s){const a=t.previousIndex;if(null===a)return a;let h=0;return s&&a<s.length&&(h=s[a]),a+r+h}class Q0{constructor(){}supports(r){return r instanceof Map||fp(r)}create(){return new Ww}}class Ww{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||fp(r)))throw new Ze(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,h)=>{if(s&&s.key===h)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const p=this._getOrCreateRecordForKey(h,a);s=this._insertBeforeOrAppend(s,p)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const h=this._records.get(r);this._maybeAddToChanges(h,s);const p=h._prev,E=h._next;return p&&(p._next=E),E&&(E._prev=p),h._next=null,h._prev=null,h}const a=new zw(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class zw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function X0(){return new Sy([new q0])}let Sy=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const h=a.factories.slice();s=s.concat(h)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||X0()),deps:[[t,new Ys,new Rs]]}}find(s){const a=this.factories.find(h=>h.supports(s));if(null!=a)return a;throw new Ze(901,"")}}return t.\u0275prov=vt({token:t,providedIn:"root",factory:X0}),t})();function J0(){return new Ay([new Q0])}let Ay=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const h=a.factories.slice();s=s.concat(h)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||J0()),deps:[[t,new Ys,new Rs]]}}find(s){const a=this.factories.find(p=>p.supports(s));if(a)return a;throw new Ze(901,"")}}return t.\u0275prov=vt({token:t,providedIn:"root",factory:J0}),t})();const qw=V0(null,"core",[{provide:x0,useValue:"unknown"},{provide:U0,deps:[bl]},{provide:F0,deps:[]},{provide:O0,deps:[]}]);let Zw=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(jn(by))},t.\u0275mod=we({type:t}),t.\u0275inj=an({}),t})()},3075:(fn,ht,S)=>{S.d(ht,{Fj:()=>tt,qu:()=>ni,NI:()=>qn,u:()=>is,sg:()=>Fs,u5:()=>Hr,a5:()=>sr,JJ:()=>bn,JL:()=>En,F:()=>Vn,wV:()=>Ci,UX:()=>jr,Q7:()=>Ti,kI:()=>Ut,_Y:()=>Fr});var u=S(5e3),C=S(9808),G=S(8996),z=S(4128),Ce=S(4004);let Ue=(()=>{class K{constructor(k,fe){this._renderer=k,this._elementRef=fe,this.onChange=Wt=>{},this.onTouched=()=>{}}setProperty(k,fe){this._renderer.setProperty(this._elementRef.nativeElement,k,fe)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return K.\u0275fac=function(k){return new(k||K)(u.Y36(u.Qsj),u.Y36(u.SBq))},K.\u0275dir=u.lG2({type:K}),K})(),ze=(()=>{class K extends Ue{}return K.\u0275fac=function(){let U;return function(fe){return(U||(U=u.n5z(K)))(fe||K)}}(),K.\u0275dir=u.lG2({type:K,features:[u.qOj]}),K})();const ge=new u.OlP("NgValueAccessor"),Te={provide:ge,useExisting:(0,u.Gpc)(()=>tt),multi:!0},Xe=new u.OlP("CompositionEventMode");let tt=(()=>{class K extends Ue{constructor(k,fe,Wt){super(k,fe),this._compositionMode=Wt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Fe(){const K=(0,C.q)()?(0,C.q)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(k){this.setProperty("value",null==k?"":k)}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return K.\u0275fac=function(k){return new(k||K)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Xe,8))},K.\u0275dir=u.lG2({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,fe){1&k&&u.NdJ("input",function(zn){return fe._handleInput(zn.target.value)})("blur",function(){return fe.onTouched()})("compositionstart",function(){return fe._compositionStart()})("compositionend",function(zn){return fe._compositionEnd(zn.target.value)})},features:[u._Bn([Te]),u.qOj]}),K})();function Ze(K){return null==K||0===K.length}function Dt(K){return null!=K&&"number"==typeof K.length}const Je=new u.OlP("NgValidators"),pt=new u.OlP("NgAsyncValidators"),Ye=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ut{static min(U){return function $e(K){return U=>{if(Ze(U.value)||Ze(K))return null;const k=parseFloat(U.value);return!isNaN(k)&&k<K?{min:{min:K,actual:U.value}}:null}}(U)}static max(U){return function De(K){return U=>{if(Ze(U.value)||Ze(K))return null;const k=parseFloat(U.value);return!isNaN(k)&&k>K?{max:{max:K,actual:U.value}}:null}}(U)}static required(U){return Se(U)}static requiredTrue(U){return function Le(K){return!0===K.value?null:{required:!0}}(U)}static email(U){return function le(K){return Ze(K.value)||Ye.test(K.value)?null:{email:!0}}(U)}static minLength(U){return function Tt(K){return U=>Ze(U.value)||!Dt(U.value)?null:U.value.length<K?{minlength:{requiredLength:K,actualLength:U.value.length}}:null}(U)}static maxLength(U){return function kt(K){return U=>Dt(U.value)&&U.value.length>K?{maxlength:{requiredLength:K,actualLength:U.value.length}}:null}(U)}static pattern(U){return function _t(K){if(!K)return mt;let U,k;return"string"==typeof K?(k="","^"!==K.charAt(0)&&(k+="^"),k+=K,"$"!==K.charAt(K.length-1)&&(k+="$"),U=new RegExp(k)):(k=K.toString(),U=K),fe=>{if(Ze(fe.value))return null;const Wt=fe.value;return U.test(Wt)?null:{pattern:{requiredPattern:k,actualValue:Wt}}}}(U)}static nullValidator(U){return null}static compose(U){return rn(U)}static composeAsync(U){return Bt(U)}}function Se(K){return Ze(K.value)?{required:!0}:null}function mt(K){return null}function Ct(K){return null!=K}function xt(K){const U=(0,u.QGY)(K)?(0,G.D)(K):K;return(0,u.CqO)(U),U}function ut(K){let U={};return K.forEach(k=>{U=null!=k?Object.assign(Object.assign({},U),k):U}),0===Object.keys(U).length?null:U}function Kt(K,U){return U.map(k=>k(K))}function dn(K){return K.map(U=>function tn(K){return!K.validate}(U)?U:k=>U.validate(k))}function rn(K){if(!K)return null;const U=K.filter(Ct);return 0==U.length?null:function(k){return ut(Kt(k,U))}}function At(K){return null!=K?rn(dn(K)):null}function Bt(K){if(!K)return null;const U=K.filter(Ct);return 0==U.length?null:function(k){const fe=Kt(k,U).map(xt);return(0,z.D)(fe).pipe((0,Ce.U)(ut))}}function vn(K){return null!=K?Bt(dn(K)):null}function He(K,U){return null===K?[U]:Array.isArray(K)?[...K,U]:[K,U]}function vt(K){return K._rawValidators}function sn(K){return K._rawAsyncValidators}function an(K){return K?Array.isArray(K)?K:[K]:[]}function Gn(K,U){return Array.isArray(K)?K.includes(U):K===U}function vr(K,U){const k=an(U);return an(K).forEach(Wt=>{Gn(k,Wt)||k.push(Wt)}),k}function Kn(K,U){return an(U).filter(k=>!Gn(K,k))}class cr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(U){this._rawValidators=U||[],this._composedValidatorFn=At(this._rawValidators)}_setAsyncValidators(U){this._rawAsyncValidators=U||[],this._composedAsyncValidatorFn=vn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(U){this._onDestroyCallbacks.push(U)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(U=>U()),this._onDestroyCallbacks=[]}reset(U){this.control&&this.control.reset(U)}hasError(U,k){return!!this.control&&this.control.hasError(U,k)}getError(U,k){return this.control?this.control.getError(U,k):null}}class sr extends cr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pn extends cr{get formDirective(){return null}get path(){return null}}class mr{constructor(U){this._cd=U}is(U){var k,fe,Wt;return"submitted"===U?!!(null===(k=this._cd)||void 0===k?void 0:k.submitted):!!(null===(Wt=null===(fe=this._cd)||void 0===fe?void 0:fe.control)||void 0===Wt?void 0:Wt[U])}}let bn=(()=>{class K extends mr{constructor(k){super(k)}}return K.\u0275fac=function(k){return new(k||K)(u.Y36(sr,2))},K.\u0275dir=u.lG2({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,fe){2&k&&u.ekj("ng-untouched",fe.is("untouched"))("ng-touched",fe.is("touched"))("ng-pristine",fe.is("pristine"))("ng-dirty",fe.is("dirty"))("ng-valid",fe.is("valid"))("ng-invalid",fe.is("invalid"))("ng-pending",fe.is("pending"))},features:[u.qOj]}),K})(),En=(()=>{class K extends mr{constructor(k){super(k)}}return K.\u0275fac=function(k){return new(k||K)(u.Y36(Pn,10))},K.\u0275dir=u.lG2({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,fe){2&k&&u.ekj("ng-untouched",fe.is("untouched"))("ng-touched",fe.is("touched"))("ng-pristine",fe.is("pristine"))("ng-dirty",fe.is("dirty"))("ng-valid",fe.is("valid"))("ng-invalid",fe.is("invalid"))("ng-pending",fe.is("pending"))("ng-submitted",fe.is("submitted"))},features:[u.qOj]}),K})();function at(K,U){M(K,U),U.valueAccessor.writeValue(K.value),function L(K,U){U.valueAccessor.registerOnChange(k=>{K._pendingValue=k,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&We(K,U)})}(K,U),function Ae(K,U){const k=(fe,Wt)=>{U.valueAccessor.writeValue(fe),Wt&&U.viewToModelUpdate(fe)};K.registerOnChange(k),U._registerOnDestroy(()=>{K._unregisterOnChange(k)})}(K,U),function be(K,U){U.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&We(K,U),"submit"!==K.updateOn&&K.markAsTouched()})}(K,U),function Z(K,U){if(U.valueAccessor.setDisabledState){const k=fe=>{U.valueAccessor.setDisabledState(fe)};K.registerOnDisabledChange(k),U._registerOnDestroy(()=>{K._unregisterOnDisabledChange(k)})}}(K,U)}function rt(K,U,k=!0){const fe=()=>{};U.valueAccessor&&(U.valueAccessor.registerOnChange(fe),U.valueAccessor.registerOnTouched(fe)),w(K,U),K&&(U._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function ye(K,U){K.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(U)})}function M(K,U){const k=vt(K);null!==U.validator?K.setValidators(He(k,U.validator)):"function"==typeof k&&K.setValidators([k]);const fe=sn(K);null!==U.asyncValidator?K.setAsyncValidators(He(fe,U.asyncValidator)):"function"==typeof fe&&K.setAsyncValidators([fe]);const Wt=()=>K.updateValueAndValidity();ye(U._rawValidators,Wt),ye(U._rawAsyncValidators,Wt)}function w(K,U){let k=!1;if(null!==K){if(null!==U.validator){const Wt=vt(K);if(Array.isArray(Wt)&&Wt.length>0){const zn=Wt.filter(ui=>ui!==U.validator);zn.length!==Wt.length&&(k=!0,K.setValidators(zn))}}if(null!==U.asyncValidator){const Wt=sn(K);if(Array.isArray(Wt)&&Wt.length>0){const zn=Wt.filter(ui=>ui!==U.asyncValidator);zn.length!==Wt.length&&(k=!0,K.setAsyncValidators(zn))}}}const fe=()=>{};return ye(U._rawValidators,fe),ye(U._rawAsyncValidators,fe),k}function We(K,U){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),U.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function Ne(K,U){M(K,U)}function Q(K,U){K._syncPendingControls(),U.forEach(k=>{const fe=k.control;"submit"===fe.updateOn&&fe._pendingChange&&(k.viewToModelUpdate(fe._pendingValue),fe._pendingChange=!1)})}function Pe(K,U){const k=K.indexOf(U);k>-1&&K.splice(k,1)}const hn="VALID",xn="INVALID",On="PENDING",Ur="DISABLED";function bi(K){return(Be(K)?K.validators:K)||null}function he(K){return Array.isArray(K)?At(K):K||null}function Me(K,U){return(Be(U)?U.asyncValidators:K)||null}function ie(K){return Array.isArray(K)?vn(K):K||null}function Be(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}const St=K=>K instanceof qn,Gt=K=>K instanceof Rr,_n=K=>K instanceof si;function er(K){return St(K)?K.value:K.getRawValue()}function Ln(K,U){const k=Gt(K),fe=K.controls;if(!(k?Object.keys(fe):fe).length)throw new u.vHH(1e3,"");if(!fe[U])throw new u.vHH(1001,"")}function lr(K,U){Gt(K),K._forEachChild((fe,Wt)=>{if(void 0===U[Wt])throw new u.vHH(1002,"")})}class zr{constructor(U,k){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=U,this._rawAsyncValidators=k,this._composedValidatorFn=he(this._rawValidators),this._composedAsyncValidatorFn=ie(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(U){this._rawValidators=this._composedValidatorFn=U}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(U){this._rawAsyncValidators=this._composedAsyncValidatorFn=U}get parent(){return this._parent}get valid(){return this.status===hn}get invalid(){return this.status===xn}get pending(){return this.status==On}get disabled(){return this.status===Ur}get enabled(){return this.status!==Ur}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(U){this._rawValidators=U,this._composedValidatorFn=he(U)}setAsyncValidators(U){this._rawAsyncValidators=U,this._composedAsyncValidatorFn=ie(U)}addValidators(U){this.setValidators(vr(U,this._rawValidators))}addAsyncValidators(U){this.setAsyncValidators(vr(U,this._rawAsyncValidators))}removeValidators(U){this.setValidators(Kn(U,this._rawValidators))}removeAsyncValidators(U){this.setAsyncValidators(Kn(U,this._rawAsyncValidators))}hasValidator(U){return Gn(this._rawValidators,U)}hasAsyncValidator(U){return Gn(this._rawAsyncValidators,U)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(U={}){this.touched=!0,this._parent&&!U.onlySelf&&this._parent.markAsTouched(U)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(U=>U.markAllAsTouched())}markAsUntouched(U={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!U.onlySelf&&this._parent._updateTouched(U)}markAsDirty(U={}){this.pristine=!1,this._parent&&!U.onlySelf&&this._parent.markAsDirty(U)}markAsPristine(U={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!U.onlySelf&&this._parent._updatePristine(U)}markAsPending(U={}){this.status=On,!1!==U.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!U.onlySelf&&this._parent.markAsPending(U)}disable(U={}){const k=this._parentMarkedDirty(U.onlySelf);this.status=Ur,this.errors=null,this._forEachChild(fe=>{fe.disable(Object.assign(Object.assign({},U),{onlySelf:!0}))}),this._updateValue(),!1!==U.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},U),{skipPristineCheck:k})),this._onDisabledChange.forEach(fe=>fe(!0))}enable(U={}){const k=this._parentMarkedDirty(U.onlySelf);this.status=hn,this._forEachChild(fe=>{fe.enable(Object.assign(Object.assign({},U),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:U.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},U),{skipPristineCheck:k})),this._onDisabledChange.forEach(fe=>fe(!1))}_updateAncestors(U){this._parent&&!U.onlySelf&&(this._parent.updateValueAndValidity(U),U.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(U){this._parent=U}updateValueAndValidity(U={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hn||this.status===On)&&this._runAsyncValidator(U.emitEvent)),!1!==U.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!U.onlySelf&&this._parent.updateValueAndValidity(U)}_updateTreeValidity(U={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(U)),this.updateValueAndValidity({onlySelf:!0,emitEvent:U.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ur:hn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(U){if(this.asyncValidator){this.status=On,this._hasOwnPendingAsyncValidator=!0;const k=xt(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(fe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(fe,{emitEvent:U})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(U,k={}){this.errors=U,this._updateControlsErrors(!1!==k.emitEvent)}get(U){return function $r(K,U,k){if(null==U||(Array.isArray(U)||(U=U.split(k)),Array.isArray(U)&&0===U.length))return null;let fe=K;return U.forEach(Wt=>{fe=Gt(fe)?fe.controls.hasOwnProperty(Wt)?fe.controls[Wt]:null:_n(fe)&&fe.at(Wt)||null}),fe}(this,U,".")}getError(U,k){const fe=k?this.get(k):this;return fe&&fe.errors?fe.errors[U]:null}hasError(U,k){return!!this.getError(U,k)}get root(){let U=this;for(;U._parent;)U=U._parent;return U}_updateControlsErrors(U){this.status=this._calculateStatus(),U&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(U)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Ur:this.errors?xn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(On)?On:this._anyControlsHaveStatus(xn)?xn:hn}_anyControlsHaveStatus(U){return this._anyControls(k=>k.status===U)}_anyControlsDirty(){return this._anyControls(U=>U.dirty)}_anyControlsTouched(){return this._anyControls(U=>U.touched)}_updatePristine(U={}){this.pristine=!this._anyControlsDirty(),this._parent&&!U.onlySelf&&this._parent._updatePristine(U)}_updateTouched(U={}){this.touched=this._anyControlsTouched(),this._parent&&!U.onlySelf&&this._parent._updateTouched(U)}_isBoxedValue(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}_registerOnCollectionChange(U){this._onCollectionChange=U}_setUpdateStrategy(U){Be(U)&&null!=U.updateOn&&(this._updateOn=U.updateOn)}_parentMarkedDirty(U){return!U&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class qn extends zr{constructor(U=null,k,fe){super(bi(k),Me(fe,k)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(U),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Be(k)&&k.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(U)?U.value:U)}setValue(U,k={}){this.value=this._pendingValue=U,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(fe=>fe(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(U,k={}){this.setValue(U,k)}reset(U=this.defaultValue,k={}){this._applyFormState(U),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls(U){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(U){this._onChange.push(U)}_unregisterOnChange(U){Pe(this._onChange,U)}registerOnDisabledChange(U){this._onDisabledChange.push(U)}_unregisterOnDisabledChange(U){Pe(this._onDisabledChange,U)}_forEachChild(U){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(U){this._isBoxedValue(U)?(this.value=this._pendingValue=U.value,U.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=U}}class Rr extends zr{constructor(U,k,fe){super(bi(k),Me(fe,k)),this.controls=U,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(U,k){return this.controls[U]?this.controls[U]:(this.controls[U]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(U,k,fe={}){this.registerControl(U,k),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}removeControl(U,k={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),delete this.controls[U],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(U,k,fe={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),delete this.controls[U],k&&this.registerControl(U,k),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}contains(U){return this.controls.hasOwnProperty(U)&&this.controls[U].enabled}setValue(U,k={}){lr(this,U),Object.keys(U).forEach(fe=>{Ln(this,fe),this.controls[fe].setValue(U[fe],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(U,k={}){null!=U&&(Object.keys(U).forEach(fe=>{this.controls[fe]&&this.controls[fe].patchValue(U[fe],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(U={},k={}){this._forEachChild((fe,Wt)=>{fe.reset(U[Wt],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},(U,k,fe)=>(U[fe]=er(k),U))}_syncPendingControls(){let U=this._reduceChildren(!1,(k,fe)=>!!fe._syncPendingControls()||k);return U&&this.updateValueAndValidity({onlySelf:!0}),U}_forEachChild(U){Object.keys(this.controls).forEach(k=>{const fe=this.controls[k];fe&&U(fe,k)})}_setUpControls(){this._forEachChild(U=>{U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(U){for(const k of Object.keys(this.controls)){const fe=this.controls[k];if(this.contains(k)&&U(fe))return!0}return!1}_reduceValue(){return this._reduceChildren({},(U,k,fe)=>((k.enabled||this.disabled)&&(U[fe]=k.value),U))}_reduceChildren(U,k){let fe=U;return this._forEachChild((Wt,zn)=>{fe=k(fe,Wt,zn)}),fe}_allControlsDisabled(){for(const U of Object.keys(this.controls))if(this.controls[U].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class si extends zr{constructor(U,k,fe){super(bi(k),Me(fe,k)),this.controls=U,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(U){return this.controls[U]}push(U,k={}){this.controls.push(U),this._registerControl(U),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}insert(U,k,fe={}){this.controls.splice(U,0,k),this._registerControl(k),this.updateValueAndValidity({emitEvent:fe.emitEvent})}removeAt(U,k={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),this.controls.splice(U,1),this.updateValueAndValidity({emitEvent:k.emitEvent})}setControl(U,k,fe={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),this.controls.splice(U,1),k&&(this.controls.splice(U,0,k),this._registerControl(k)),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(U,k={}){lr(this,U),U.forEach((fe,Wt)=>{Ln(this,Wt),this.at(Wt).setValue(fe,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(U,k={}){null!=U&&(U.forEach((fe,Wt)=>{this.at(Wt)&&this.at(Wt).patchValue(fe,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(U=[],k={}){this._forEachChild((fe,Wt)=>{fe.reset(U[Wt],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this.controls.map(U=>er(U))}clear(U={}){this.controls.length<1||(this._forEachChild(k=>k._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:U.emitEvent}))}_syncPendingControls(){let U=this.controls.reduce((k,fe)=>!!fe._syncPendingControls()||k,!1);return U&&this.updateValueAndValidity({onlySelf:!0}),U}_forEachChild(U){this.controls.forEach((k,fe)=>{U(k,fe)})}_updateValue(){this.value=this.controls.filter(U=>U.enabled||this.disabled).map(U=>U.value)}_anyControls(U){return this.controls.some(k=>k.enabled&&U(k))}_setUpControls(){this._forEachChild(U=>this._registerControl(U))}_allControlsDisabled(){for(const U of this.controls)if(U.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(U){U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange)}}const Xi={provide:Pn,useExisting:(0,u.Gpc)(()=>Vn)},fr=(()=>Promise.resolve(null))();let Vn=(()=>{class K extends Pn{constructor(k,fe){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new Rr({},At(k),vn(fe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(k){fr.then(()=>{const fe=this._findContainer(k.path);k.control=fe.registerControl(k.name,k.control),at(k.control,k),k.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(k)})}getControl(k){return this.form.get(k.path)}removeControl(k){fr.then(()=>{const fe=this._findContainer(k.path);fe&&fe.removeControl(k.name),this._directives.delete(k)})}addFormGroup(k){fr.then(()=>{const fe=this._findContainer(k.path),Wt=new Rr({});Ne(Wt,k),fe.registerControl(k.name,Wt),Wt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(k){fr.then(()=>{const fe=this._findContainer(k.path);fe&&fe.removeControl(k.name)})}getFormGroup(k){return this.form.get(k.path)}updateModel(k,fe){fr.then(()=>{this.form.get(k.path).setValue(fe)})}setValue(k){this.control.setValue(k)}onSubmit(k){return this.submitted=!0,Q(this.form,this._directives),this.ngSubmit.emit(k),!1}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(k){return k.pop(),k.length?this.form.get(k):this.form}}return K.\u0275fac=function(k){return new(k||K)(u.Y36(Je,10),u.Y36(pt,10))},K.\u0275dir=u.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(k,fe){1&k&&u.NdJ("submit",function(zn){return fe.onSubmit(zn)})("reset",function(){return fe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Xi]),u.qOj]}),K})(),Fr=(()=>{class K{}return K.\u0275fac=function(k){return new(k||K)},K.\u0275dir=u.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),K})();const mi={provide:ge,useExisting:(0,u.Gpc)(()=>Ci),multi:!0};let Ci=(()=>{class K extends ze{writeValue(k){this.setProperty("value",null==k?"":k)}registerOnChange(k){this.onChange=fe=>{k(""==fe?null:parseFloat(fe))}}}return K.\u0275fac=function(){let U;return function(fe){return(U||(U=u.n5z(K)))(fe||K)}}(),K.\u0275dir=u.lG2({type:K,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(k,fe){1&k&&u.NdJ("input",function(zn){return fe.onChange(zn.target.value)})("blur",function(){return fe.onTouched()})},features:[u._Bn([mi]),u.qOj]}),K})(),Zi=(()=>{class K{}return K.\u0275fac=function(k){return new(k||K)},K.\u0275mod=u.oAB({type:K}),K.\u0275inj=u.cJS({}),K})();const so=new u.OlP("NgModelWithFormControlWarning"),xo={provide:Pn,useExisting:(0,u.Gpc)(()=>Fs)};let Fs=(()=>{class K extends Pn{constructor(k,fe){super(),this.validators=k,this.asyncValidators=fe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(k),this._setAsyncValidators(fe)}ngOnChanges(k){this._checkFormPresent(),k.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(w(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(k){const fe=this.form.get(k.path);return at(fe,k),fe.updateValueAndValidity({emitEvent:!1}),this.directives.push(k),fe}getControl(k){return this.form.get(k.path)}removeControl(k){rt(k.control||null,k,!1),Pe(this.directives,k)}addFormGroup(k){this._setUpFormContainer(k)}removeFormGroup(k){this._cleanUpFormContainer(k)}getFormGroup(k){return this.form.get(k.path)}addFormArray(k){this._setUpFormContainer(k)}removeFormArray(k){this._cleanUpFormContainer(k)}getFormArray(k){return this.form.get(k.path)}updateModel(k,fe){this.form.get(k.path).setValue(fe)}onSubmit(k){return this.submitted=!0,Q(this.form,this.directives),this.ngSubmit.emit(k),!1}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_updateDomValue(){this.directives.forEach(k=>{const fe=k.control,Wt=this.form.get(k.path);fe!==Wt&&(rt(fe||null,k),St(Wt)&&(at(Wt,k),k.control=Wt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(k){const fe=this.form.get(k.path);Ne(fe,k),fe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(k){if(this.form){const fe=this.form.get(k.path);fe&&function Ge(K,U){return w(K,U)}(fe,k)&&fe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){M(this.form,this),this._oldForm&&w(this._oldForm,this)}_checkFormPresent(){}}return K.\u0275fac=function(k){return new(k||K)(u.Y36(Je,10),u.Y36(pt,10))},K.\u0275dir=u.lG2({type:K,selectors:[["","formGroup",""]],hostBindings:function(k,fe){1&k&&u.NdJ("submit",function(zn){return fe.onSubmit(zn)})("reset",function(){return fe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([xo]),u.qOj,u.TTD]}),K})();const rs={provide:sr,useExisting:(0,u.Gpc)(()=>is)};let is=(()=>{class K extends sr{constructor(k,fe,Wt,zn,ui){super(),this._ngModelWarningConfig=ui,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=k,this._setValidators(fe),this._setAsyncValidators(Wt),this.valueAccessor=function ne(K,U){if(!U)return null;let k,fe,Wt;return Array.isArray(U),U.forEach(zn=>{zn.constructor===tt?k=zn:function J(K){return Object.getPrototypeOf(K.constructor)===ze}(zn)?fe=zn:Wt=zn}),Wt||fe||k||null}(0,zn)}set isDisabled(k){}ngOnChanges(k){this._added||this._setUpControl(),function _e(K,U){if(!K.hasOwnProperty("model"))return!1;const k=K.model;return!!k.isFirstChange()||!Object.is(U,k.currentValue)}(k,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}get path(){return function tr(K,U){return[...U.path,K]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return K._ngModelWarningSentOnce=!1,K.\u0275fac=function(k){return new(k||K)(u.Y36(Pn,13),u.Y36(Je,10),u.Y36(pt,10),u.Y36(ge,10),u.Y36(so,8))},K.\u0275dir=u.lG2({type:K,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([rs]),u.qOj,u.TTD]}),K})(),oi=(()=>{class K{constructor(){this._validator=mt}ngOnChanges(k){if(this.inputName in k){const fe=this.normalizeInput(k[this.inputName].currentValue);this._enabled=this.enabled(fe),this._validator=this._enabled?this.createValidator(fe):mt,this._onChange&&this._onChange()}}validate(k){return this._validator(k)}registerOnValidatorChange(k){this._onChange=k}enabled(k){return null!=k}}return K.\u0275fac=function(k){return new(k||K)},K.\u0275dir=u.lG2({type:K,features:[u.TTD]}),K})();const Nr={provide:Je,useExisting:(0,u.Gpc)(()=>Ti),multi:!0};let Ti=(()=>{class K extends oi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=k=>function ds(K){return null!=K&&!1!==K&&"false"!=`${K}`}(k),this.createValidator=k=>Se}enabled(k){return k}}return K.\u0275fac=function(){let U;return function(fe){return(U||(U=u.n5z(K)))(fe||K)}}(),K.\u0275dir=u.lG2({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(k,fe){2&k&&u.uIk("required",fe._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([Nr]),u.qOj]}),K})(),Wr=(()=>{class K{}return K.\u0275fac=function(k){return new(k||K)},K.\u0275mod=u.oAB({type:K}),K.\u0275inj=u.cJS({imports:[[Zi]]}),K})(),Hr=(()=>{class K{}return K.\u0275fac=function(k){return new(k||K)},K.\u0275mod=u.oAB({type:K}),K.\u0275inj=u.cJS({imports:[Wr]}),K})(),jr=(()=>{class K{static withConfig(k){return{ngModule:K,providers:[{provide:so,useValue:k.warnOnNgModelWithFormControl}]}}}return K.\u0275fac=function(k){return new(k||K)},K.\u0275mod=u.oAB({type:K}),K.\u0275inj=u.cJS({imports:[Wr]}),K})(),ni=(()=>{class K{group(k,fe=null){const Wt=this._reduceControls(k);let Yi,zn=null,ui=null;return null!=fe&&(function Oi(K){return void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn}(fe)?(zn=null!=fe.validators?fe.validators:null,ui=null!=fe.asyncValidators?fe.asyncValidators:null,Yi=null!=fe.updateOn?fe.updateOn:void 0):(zn=null!=fe.validator?fe.validator:null,ui=null!=fe.asyncValidator?fe.asyncValidator:null)),new Rr(Wt,{asyncValidators:ui,updateOn:Yi,validators:zn})}control(k,fe,Wt){return new qn(k,fe,Wt)}array(k,fe,Wt){const zn=k.map(ui=>this._createControl(ui));return new si(zn,fe,Wt)}_reduceControls(k){const fe={};return Object.keys(k).forEach(Wt=>{fe[Wt]=this._createControl(k[Wt])}),fe}_createControl(k){return St(k)||Gt(k)||_n(k)?k:Array.isArray(k)?this.control(k[0],k.length>1?k[1]:null,k.length>2?k[2]:null):this.control(k)}}return K.\u0275fac=function(k){return new(k||K)},K.\u0275prov=u.Yz7({token:K,factory:K.\u0275fac,providedIn:jr}),K})()},7423:(fn,ht,S)=>{S.d(ht,{lW:()=>Te,ot:()=>Xe});var u=S(5e3),C=S(508),G=S(6360),z=S(5664);const Ce=["mat-button",""],Ue=["*"],ke=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],me=(0,C.pj)((0,C.Id)((0,C.Kr)(class{constructor(tt){this._elementRef=tt}})));let Te=(()=>{class tt extends me{constructor(Dt,Je,pt){super(Dt),this._focusMonitor=Je,this._animationMode=pt,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const Ye of ke)this._hasHostAttributes(Ye)&&this._getHostElement().classList.add(Ye);Dt.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Dt,Je){Dt?this._focusMonitor.focusVia(this._getHostElement(),Dt,Je):this._getHostElement().focus(Je)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...Dt){return Dt.some(Je=>this._getHostElement().hasAttribute(Je))}}return tt.\u0275fac=function(Dt){return new(Dt||tt)(u.Y36(u.SBq),u.Y36(z.tE),u.Y36(G.Qb,8))},tt.\u0275cmp=u.Xpm({type:tt,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(Dt,Je){if(1&Dt&&u.Gf(C.wG,5),2&Dt){let pt;u.iGM(pt=u.CRH())&&(Je.ripple=pt.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(Dt,Je){2&Dt&&(u.uIk("disabled",Je.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===Je._animationMode)("mat-button-disabled",Je.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:Ce,ngContentSelectors:Ue,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Dt,Je){1&Dt&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1)(3,"span",2)),2&Dt&&(u.xp6(2),u.ekj("mat-button-ripple-round",Je.isRoundButton||Je.isIconButton),u.Q6J("matRippleDisabled",Je._isRippleDisabled())("matRippleCentered",Je.isIconButton)("matRippleTrigger",Je._getHostElement()))},directives:[C.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),tt})(),Xe=(()=>{class tt{}return tt.\u0275fac=function(Dt){return new(Dt||tt)},tt.\u0275mod=u.oAB({type:tt}),tt.\u0275inj=u.cJS({imports:[[C.si,C.BQ],C.BQ]}),tt})()},9224:(fn,ht,S)=>{S.d(ht,{a8:()=>$e,dn:()=>me,QW:()=>Le,vP:()=>Dt,$j:()=>Fe,n5:()=>Te,C1:()=>Se});var u=S(5e3),C=S(6360),G=S(508);const z=["*",[["mat-card-footer"]]],Ce=["*","mat-card-footer"],ge=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["img"]],"*"],ke=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","img","*"];let me=(()=>{class le{}return le.\u0275fac=function(kt){return new(kt||le)},le.\u0275dir=u.lG2({type:le,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),le})(),Te=(()=>{class le{}return le.\u0275fac=function(kt){return new(kt||le)},le.\u0275dir=u.lG2({type:le,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),le})(),Fe=(()=>{class le{}return le.\u0275fac=function(kt){return new(kt||le)},le.\u0275dir=u.lG2({type:le,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),le})(),Dt=(()=>{class le{}return le.\u0275fac=function(kt){return new(kt||le)},le.\u0275dir=u.lG2({type:le,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-card-sm-image"]}),le})(),$e=(()=>{class le{constructor(kt){this._animationMode=kt}}return le.\u0275fac=function(kt){return new(kt||le)(u.Y36(C.Qb,8))},le.\u0275cmp=u.Xpm({type:le,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(kt,_t){2&kt&&u.ekj("_mat-animation-noopable","NoopAnimations"===_t._animationMode)},exportAs:["matCard"],ngContentSelectors:Ce,decls:2,vars:0,template:function(kt,_t){1&kt&&(u.F$t(z),u.Hsn(0),u.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),le})(),Se=(()=>{class le{}return le.\u0275fac=function(kt){return new(kt||le)},le.\u0275cmp=u.Xpm({type:le,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-card-title-group"],ngContentSelectors:ke,decls:4,vars:0,template:function(kt,_t){1&kt&&(u.F$t(ge),u.TgZ(0,"div"),u.Hsn(1),u.qZA(),u.Hsn(2,1),u.Hsn(3,2))},encapsulation:2,changeDetection:0}),le})(),Le=(()=>{class le{}return le.\u0275fac=function(kt){return new(kt||le)},le.\u0275mod=u.oAB({type:le}),le.\u0275inj=u.cJS({imports:[[G.BQ],G.BQ]}),le})()},6688:(fn,ht,S)=>{S.d(ht,{HS:()=>kt,qn:()=>dn,Hi:()=>At});var u=S(1159),C=S(5e3),G=S(508),z=S(3191),Ce=S(9808),Ue=S(6360),ze=S(7579),ge=S(6451),ke=S(5698),me=S(2722),Te=S(8675),Fe=S(925),Xe=S(5664),tt=S(449),Ze=S(3075),Dt=S(4106),Je=S(226);const pt=["*"],Ut=new C.OlP("MatChipRemove"),$e=new C.OlP("MatChipAvatar"),De=new C.OlP("MatChipTrailingIcon");class Se{constructor(vn){this._elementRef=vn}}const Le=(0,G.sb)((0,G.pj)((0,G.Kr)(Se),"primary"),-1);let kt=(()=>{class Bt extends Le{constructor(He,vt,sn,an,Gn,vr,Kn,cr){super(He),this._ngZone=vt,this._changeDetectorRef=Gn,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new ze.x,this._onBlur=new ze.x,this.selectionChange=new C.vpe,this.destroyed=new C.vpe,this.removed=new C.vpe,this._addHostClassName(),this._chipRippleTarget=vr.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new G.IR(this,vt,this._chipRippleTarget,sn),this._chipRipple.setupTriggerEvents(He),this.rippleConfig=an||{},this._animationsDisabled="NoopAnimations"===Kn,this.tabIndex=null!=cr&&parseInt(cr)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(He){const vt=(0,z.Ig)(He);vt!==this._selected&&(this._selected=vt,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(He){this._value=He}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(He){this._selectable=(0,z.Ig)(He)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(He){this._disabled=(0,z.Ig)(He)}get removable(){return this._removable}set removable(He){this._removable=(0,z.Ig)(He)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const He="mat-basic-chip",vt=this._elementRef.nativeElement;vt.hasAttribute(He)||vt.tagName.toLowerCase()===He?vt.classList.add(He):vt.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(He=!1){return this._selected=!this.selected,this._dispatchSelectionChange(He),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(He){this.disabled&&He.preventDefault()}_handleKeydown(He){if(!this.disabled)switch(He.keyCode){case u.yY:case u.ZH:this.remove(),He.preventDefault();break;case u.L_:this.selectable&&this.toggleSelected(!0),He.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,ke.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(He=!1){this.selectionChange.emit({source:this,isUserInput:He,selected:this._selected})}}return Bt.\u0275fac=function(He){return new(He||Bt)(C.Y36(C.SBq),C.Y36(C.R0b),C.Y36(Fe.t4),C.Y36(G.Y2,8),C.Y36(C.sBO),C.Y36(Ce.K0),C.Y36(Ue.Qb,8),C.$8M("tabindex"))},Bt.\u0275dir=C.lG2({type:Bt,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(He,vt,sn){if(1&He&&(C.Suo(sn,$e,5),C.Suo(sn,De,5),C.Suo(sn,Ut,5)),2&He){let an;C.iGM(an=C.CRH())&&(vt.avatar=an.first),C.iGM(an=C.CRH())&&(vt.trailingIcon=an.first),C.iGM(an=C.CRH())&&(vt.removeIcon=an.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(He,vt){1&He&&C.NdJ("click",function(an){return vt._handleClick(an)})("keydown",function(an){return vt._handleKeydown(an)})("focus",function(){return vt.focus()})("blur",function(){return vt._blur()}),2&He&&(C.uIk("tabindex",vt.disabled?null:vt.tabIndex)("disabled",vt.disabled||null)("aria-disabled",vt.disabled.toString())("aria-selected",vt.ariaSelected),C.ekj("mat-chip-selected",vt.selected)("mat-chip-with-avatar",vt.avatar)("mat-chip-with-trailing-icon",vt.trailingIcon||vt.removeIcon)("mat-chip-disabled",vt.disabled)("_mat-animation-noopable",vt._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[C.qOj]}),Bt})();const mt=new C.OlP("mat-chips-default-options"),ut=(0,G.FD)(class{constructor(Bt,vn,He,vt){this._defaultErrorStateMatcher=Bt,this._parentForm=vn,this._parentFormGroup=He,this.ngControl=vt}});let Kt=0;class tn{constructor(vn,He){this.source=vn,this.value=He}}let dn=(()=>{class Bt extends ut{constructor(He,vt,sn,an,Gn,vr,Kn){super(vr,an,Gn,Kn),this._elementRef=He,this._changeDetectorRef=vt,this._dir=sn,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new ze.x,this._uid="mat-chip-list-"+Kt++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(cr,sr)=>cr===sr,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new C.vpe,this.valueChange=new C.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var He,vt;return this.multiple?(null===(He=this._selectionModel)||void 0===He?void 0:He.selected)||[]:null===(vt=this._selectionModel)||void 0===vt?void 0:vt.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(He){this._multiple=(0,z.Ig)(He),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(He){this._compareWith=He,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(He){this.writeValue(He),this._value=He}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var He,vt,sn,an;return null!==(an=null!==(He=this._required)&&void 0!==He?He:null===(sn=null===(vt=this.ngControl)||void 0===vt?void 0:vt.control)||void 0===sn?void 0:sn.hasValidator(Ze.kI.required))&&void 0!==an&&an}set required(He){this._required=(0,z.Ig)(He),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(He){this._placeholder=He,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(He){this._disabled=(0,z.Ig)(He),this._syncChipsState()}get selectable(){return this._selectable}set selectable(He){this._selectable=(0,z.Ig)(He),this.chips&&this.chips.forEach(vt=>vt.chipListSelectable=this._selectable)}set tabIndex(He){this._userTabIndex=He,this._tabIndex=He}get chipSelectionChanges(){return(0,ge.T)(...this.chips.map(He=>He.selectionChange))}get chipFocusChanges(){return(0,ge.T)(...this.chips.map(He=>He._onFocus))}get chipBlurChanges(){return(0,ge.T)(...this.chips.map(He=>He._onBlur))}get chipRemoveChanges(){return(0,ge.T)(...this.chips.map(He=>He.destroyed))}ngAfterContentInit(){this._keyManager=new Xe.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,me.R)(this._destroyed)).subscribe(He=>this._keyManager.withHorizontalOrientation(He)),this._keyManager.tabOut.pipe((0,me.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,Te.O)(null),(0,me.R)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new tt.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(He){this._chipInput=He,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",He.id)}setDescribedByIds(He){this._ariaDescribedby=He.join(" ")}writeValue(He){this.chips&&this._setSelectionByValue(He,!1)}registerOnChange(He){this._onChange=He}registerOnTouched(He){this._onTouched=He}setDisabledState(He){this.disabled=He,this.stateChanges.next()}onContainerClick(He){this._originatesFromChip(He)||this.focus()}focus(He){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(He),this.stateChanges.next()))}_focusInput(He){this._chipInput&&this._chipInput.focus(He)}_keydown(He){const vt=He.target;vt&&vt.classList.contains("mat-chip")&&(this._keyManager.onKeydown(He),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const He=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(He)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(He){return He>=0&&He<this.chips.length}_setSelectionByValue(He,vt=!0){if(this._clearSelection(),this.chips.forEach(sn=>sn.deselect()),Array.isArray(He))He.forEach(sn=>this._selectValue(sn,vt)),this._sortValues();else{const sn=this._selectValue(He,vt);sn&&vt&&this._keyManager.setActiveItem(sn)}}_selectValue(He,vt=!0){const sn=this.chips.find(an=>null!=an.value&&this._compareWith(an.value,He));return sn&&(vt?sn.selectViaInteraction():sn.select(),this._selectionModel.select(sn)),sn}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(He){this._selectionModel.clear(),this.chips.forEach(vt=>{vt!==He&&vt.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(He=>{He.selected&&this._selectionModel.select(He)}),this.stateChanges.next())}_propagateChanges(He){let vt=null;vt=Array.isArray(this.selected)?this.selected.map(sn=>sn.value):this.selected?this.selected.value:He,this._value=vt,this.change.emit(new tn(this,vt)),this.valueChange.emit(vt),this._onChange(vt),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(He=>{He.source.selected?this._selectionModel.select(He.source):this._selectionModel.deselect(He.source),this.multiple||this.chips.forEach(vt=>{!this._selectionModel.isSelected(vt)&&vt.selected&&vt.deselect()}),He.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(He=>{let vt=this.chips.toArray().indexOf(He.chip);this._isValidIndex(vt)&&this._keyManager.updateActiveItem(vt),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(He=>{const vt=He.chip,sn=this.chips.toArray().indexOf(He.chip);this._isValidIndex(sn)&&vt._hasFocus&&(this._lastDestroyedChipIndex=sn)})}_originatesFromChip(He){let vt=He.target;for(;vt&&vt!==this._elementRef.nativeElement;){if(vt.classList.contains("mat-chip"))return!0;vt=vt.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(He=>He._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(He=>{He._chipListDisabled=this._disabled,He._chipListMultiple=this.multiple})}}return Bt.\u0275fac=function(He){return new(He||Bt)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Je.Is,8),C.Y36(Ze.F,8),C.Y36(Ze.sg,8),C.Y36(G.rD),C.Y36(Ze.a5,10))},Bt.\u0275cmp=C.Xpm({type:Bt,selectors:[["mat-chip-list"]],contentQueries:function(He,vt,sn){if(1&He&&C.Suo(sn,kt,5),2&He){let an;C.iGM(an=C.CRH())&&(vt.chips=an)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(He,vt){1&He&&C.NdJ("focus",function(){return vt.focus()})("blur",function(){return vt._blur()})("keydown",function(an){return vt._keydown(an)}),2&He&&(C.Ikx("id",vt._uid),C.uIk("tabindex",vt.disabled?null:vt._tabIndex)("aria-describedby",vt._ariaDescribedby||null)("aria-required",vt.role?vt.required:null)("aria-disabled",vt.disabled.toString())("aria-invalid",vt.errorState)("aria-multiselectable",vt.multiple)("role",vt.role)("aria-orientation",vt.ariaOrientation),C.ekj("mat-chip-list-disabled",vt.disabled)("mat-chip-list-invalid",vt.errorState)("mat-chip-list-required",vt.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[C._Bn([{provide:Dt.Eo,useExisting:Bt}]),C.qOj],ngContentSelectors:pt,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(He,vt){1&He&&(C.F$t(),C.TgZ(0,"div",0),C.Hsn(1),C.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),Bt})(),At=(()=>{class Bt{}return Bt.\u0275fac=function(He){return new(He||Bt)},Bt.\u0275mod=C.oAB({type:Bt}),Bt.\u0275inj=C.cJS({providers:[G.rD,{provide:mt,useValue:{separatorKeyCodes:[u.K5]}}],imports:[[G.BQ]]}),Bt})()},508:(fn,ht,S)=>{S.d(ht,{rD:()=>an,K7:()=>wn,HF:()=>Qe,Y2:()=>hr,BQ:()=>De,ey:()=>tr,wG:()=>Ir,si:()=>nn,IR:()=>En,CB:()=>at,jH:()=>rt,pj:()=>kt,Kr:()=>_t,Id:()=>Tt,FD:()=>Ct,dB:()=>xt,sb:()=>mt});var u=S(5e3),C=S(226),z=S(9808),Ce=S(925),Ue=S(5664),ze=S(3191),ge=S(7579),ke=S(9751),me=S(6360),Te=S(1159);function tt(Z,M){if(1&Z&&u._UZ(0,"mat-pseudo-checkbox",4),2&Z){const w=u.oxw();u.Q6J("state",w.selected?"checked":"unchecked")("disabled",w.disabled)}}function Ze(Z,M){if(1&Z&&(u.TgZ(0,"span",5),u._uU(1),u.qZA()),2&Z){const w=u.oxw();u.xp6(1),u.hij("(",w.group.label,")")}}const Dt=["*"],$e=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ut(){return!0}});let De=(()=>{class Z{constructor(w,L,be){this._sanityChecks=L,this._document=be,this._hasDoneGlobalChecks=!1,w._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(w){return!(0,Ce.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[w])}}return Z.\u0275fac=function(w){return new(w||Z)(u.LFG(Ue.qm),u.LFG($e,8),u.LFG(z.K0))},Z.\u0275mod=u.oAB({type:Z}),Z.\u0275inj=u.cJS({imports:[[C.vT],C.vT]}),Z})();function Tt(Z){return class extends Z{constructor(...M){super(...M),this._disabled=!1}get disabled(){return this._disabled}set disabled(M){this._disabled=(0,ze.Ig)(M)}}}function kt(Z,M){return class extends Z{constructor(...w){super(...w),this.defaultColor=M,this.color=M}get color(){return this._color}set color(w){const L=w||this.defaultColor;L!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),L&&this._elementRef.nativeElement.classList.add(`mat-${L}`),this._color=L)}}}function _t(Z){return class extends Z{constructor(...M){super(...M),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(M){this._disableRipple=(0,ze.Ig)(M)}}}function mt(Z,M=0){return class extends Z{constructor(...w){super(...w),this._tabIndex=M,this.defaultTabIndex=M}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(w){this._tabIndex=null!=w?(0,ze.su)(w):this.defaultTabIndex}}}function Ct(Z){return class extends Z{constructor(...M){super(...M),this.stateChanges=new ge.x,this.errorState=!1}updateErrorState(){const M=this.errorState,We=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);We!==M&&(this.errorState=We,this.stateChanges.next())}}}function xt(Z){return class extends Z{constructor(...M){super(...M),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new ke.y(w=>{this._isInitialized?this._notifySubscriber(w):this._pendingSubscribers.push(w)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(M){M.next(),M.complete()}}}let an=(()=>{class Z{isErrorState(w,L){return!!(w&&w.invalid&&(w.touched||L&&L.submitted))}}return Z.\u0275fac=function(w){return new(w||Z)},Z.\u0275prov=u.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})();class sr{constructor(M,w,L){this._renderer=M,this.element=w,this.config=L,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Pn={enterDuration:225,exitDuration:150},dr=(0,Ce.i$)({passive:!0}),Pr=["mousedown","touchstart"],bn=["mouseup","mouseleave","touchend","touchcancel"];class En{constructor(M,w,L,be){this._target=M,this._ngZone=w,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,be.isBrowser&&(this._containerElement=(0,ze.fI)(L))}fadeInRipple(M,w,L={}){const be=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),We=Object.assign(Object.assign({},Pn),L.animation);L.centered&&(M=be.left+be.width/2,w=be.top+be.height/2);const Ae=L.radius||function $n(Z,M,w){const L=Math.max(Math.abs(Z-w.left),Math.abs(Z-w.right)),be=Math.max(Math.abs(M-w.top),Math.abs(M-w.bottom));return Math.sqrt(L*L+be*be)}(M,w,be),Ne=M-be.left,Ge=w-be.top,It=We.enterDuration,we=document.createElement("div");we.classList.add("mat-ripple-element"),we.style.left=Ne-Ae+"px",we.style.top=Ge-Ae+"px",we.style.height=2*Ae+"px",we.style.width=2*Ae+"px",null!=L.color&&(we.style.backgroundColor=L.color),we.style.transitionDuration=`${It}ms`,this._containerElement.appendChild(we),function Er(Z){window.getComputedStyle(Z).getPropertyValue("opacity")}(we),we.style.transform="scale(1)";const Re=new sr(this,we,L);return Re.state=0,this._activeRipples.add(Re),L.persistent||(this._mostRecentTransientRipple=Re),this._runTimeoutOutsideZone(()=>{const se=Re===this._mostRecentTransientRipple;Re.state=1,!L.persistent&&(!se||!this._isPointerDown)&&Re.fadeOut()},It),Re}fadeOutRipple(M){const w=this._activeRipples.delete(M);if(M===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!w)return;const L=M.element,be=Object.assign(Object.assign({},Pn),M.config.animation);L.style.transitionDuration=`${be.exitDuration}ms`,L.style.opacity="0",M.state=2,this._runTimeoutOutsideZone(()=>{M.state=3,L.remove()},be.exitDuration)}fadeOutAll(){this._activeRipples.forEach(M=>M.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(M=>{M.config.persistent||M.fadeOut()})}setupTriggerEvents(M){const w=(0,ze.fI)(M);!w||w===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=w,this._registerEvents(Pr))}handleEvent(M){"mousedown"===M.type?this._onMousedown(M):"touchstart"===M.type?this._onTouchStart(M):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(bn),this._pointerUpEventsRegistered=!0)}_onMousedown(M){const w=(0,Ue.X6)(M),L=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!w&&!L&&(this._isPointerDown=!0,this.fadeInRipple(M.clientX,M.clientY,this._target.rippleConfig))}_onTouchStart(M){if(!this._target.rippleDisabled&&!(0,Ue.yG)(M)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const w=M.changedTouches;for(let L=0;L<w.length;L++)this.fadeInRipple(w[L].clientX,w[L].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(M=>{!M.config.persistent&&(1===M.state||M.config.terminateOnPointerUp&&0===M.state)&&M.fadeOut()}))}_runTimeoutOutsideZone(M,w=0){this._ngZone.runOutsideAngular(()=>setTimeout(M,w))}_registerEvents(M){this._ngZone.runOutsideAngular(()=>{M.forEach(w=>{this._triggerElement.addEventListener(w,this,dr)})})}_removeTriggerEvents(){this._triggerElement&&(Pr.forEach(M=>{this._triggerElement.removeEventListener(M,this,dr)}),this._pointerUpEventsRegistered&&bn.forEach(M=>{this._triggerElement.removeEventListener(M,this,dr)}))}}const hr=new u.OlP("mat-ripple-global-options");let Ir=(()=>{class Z{constructor(w,L,be,We,Ae){this._elementRef=w,this._animationMode=Ae,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=We||{},this._rippleRenderer=new En(this,L,w,be)}get disabled(){return this._disabled}set disabled(w){w&&this.fadeOutAllNonPersistent(),this._disabled=w,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(w){this._trigger=w,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(w,L=0,be){return"number"==typeof w?this._rippleRenderer.fadeInRipple(w,L,Object.assign(Object.assign({},this.rippleConfig),be)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),w))}}return Z.\u0275fac=function(w){return new(w||Z)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Ce.t4),u.Y36(hr,8),u.Y36(me.Qb,8))},Z.\u0275dir=u.lG2({type:Z,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(w,L){2&w&&u.ekj("mat-ripple-unbounded",L.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Z})(),nn=(()=>{class Z{}return Z.\u0275fac=function(w){return new(w||Z)},Z.\u0275mod=u.oAB({type:Z}),Z.\u0275inj=u.cJS({imports:[[De],De]}),Z})(),Rt=(()=>{class Z{constructor(w){this._animationMode=w,this.state="unchecked",this.disabled=!1}}return Z.\u0275fac=function(w){return new(w||Z)(u.Y36(me.Qb,8))},Z.\u0275cmp=u.Xpm({type:Z,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(w,L){2&w&&u.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===L.state)("mat-pseudo-checkbox-checked","checked"===L.state)("mat-pseudo-checkbox-disabled",L.disabled)("_mat-animation-noopable","NoopAnimations"===L._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(w,L){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),Z})();const Qe=new u.OlP("MAT_OPTION_PARENT_COMPONENT"),wn=new u.OlP("MatOptgroup");let Mn=0;class wr{constructor(M,w=!1){this.source=M,this.isUserInput=w}}let rr=(()=>{class Z{constructor(w,L,be,We){this._element=w,this._changeDetectorRef=L,this._parent=be,this.group=We,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Mn++,this.onSelectionChange=new u.vpe,this._stateChanges=new ge.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(w){this._disabled=(0,ze.Ig)(w)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(w,L){const be=this._getHostElement();"function"==typeof be.focus&&be.focus(L)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(w){(w.keyCode===Te.K5||w.keyCode===Te.L_)&&!(0,Te.Vb)(w)&&(this._selectViaInteraction(),w.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const w=this.viewValue;w!==this._mostRecentViewValue&&(this._mostRecentViewValue=w,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(w=!1){this.onSelectionChange.emit(new wr(this,w))}}return Z.\u0275fac=function(w){u.$Z()},Z.\u0275dir=u.lG2({type:Z,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),Z})(),tr=(()=>{class Z extends rr{constructor(w,L,be,We){super(w,L,be,We)}}return Z.\u0275fac=function(w){return new(w||Z)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Qe,8),u.Y36(wn,8))},Z.\u0275cmp=u.Xpm({type:Z,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(w,L){1&w&&u.NdJ("click",function(){return L._selectViaInteraction()})("keydown",function(We){return L._handleKeydown(We)}),2&w&&(u.Ikx("id",L.id),u.uIk("tabindex",L._getTabIndex())("aria-selected",L._getAriaSelected())("aria-disabled",L.disabled.toString()),u.ekj("mat-selected",L.selected)("mat-option-multiple",L.multiple)("mat-active",L.active)("mat-option-disabled",L.disabled))},exportAs:["matOption"],features:[u.qOj],ngContentSelectors:Dt,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(w,L){1&w&&(u.F$t(),u.YNc(0,tt,1,2,"mat-pseudo-checkbox",0),u.TgZ(1,"span",1),u.Hsn(2),u.qZA(),u.YNc(3,Ze,2,1,"span",2),u._UZ(4,"div",3)),2&w&&(u.Q6J("ngIf",L.multiple),u.xp6(3),u.Q6J("ngIf",L.group&&L.group._inert),u.xp6(1),u.Q6J("matRippleTrigger",L._getHostElement())("matRippleDisabled",L.disabled||L.disableRipple))},directives:[Rt,z.O5,Ir],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),Z})();function at(Z,M,w){if(w.length){let L=M.toArray(),be=w.toArray(),We=0;for(let Ae=0;Ae<Z+1;Ae++)L[Ae].group&&L[Ae].group===be[We]&&We++;return We}return 0}function rt(Z,M,w,L){return Z<w?Z:Z+M>w+L?Math.max(0,Z-L+M):w}},4106:(fn,ht,S)=>{S.d(ht,{G_:()=>nn,o2:()=>Ir,TO:()=>vn,KE:()=>Rt,Eo:()=>vt,lN:()=>Et,hX:()=>sr});var u=S(3191),C=S(5e3),G=S(9751),z=S(7579),Ce=S(8372);let Ue=(()=>{class Qe{create(Ve){return"undefined"==typeof MutationObserver?null:new MutationObserver(Ve)}}return Qe.\u0275fac=function(Ve){return new(Ve||Qe)},Qe.\u0275prov=C.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})(),ze=(()=>{class Qe{constructor(Ve){this._mutationObserverFactory=Ve,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((Ve,bt)=>this._cleanupObserver(bt))}observe(Ve){const bt=(0,u.fI)(Ve);return new G.y(wn=>{const Mn=this._observeElement(bt).subscribe(wn);return()=>{Mn.unsubscribe(),this._unobserveElement(bt)}})}_observeElement(Ve){if(this._observedElements.has(Ve))this._observedElements.get(Ve).count++;else{const bt=new z.x,wn=this._mutationObserverFactory.create(cn=>bt.next(cn));wn&&wn.observe(Ve,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Ve,{observer:wn,stream:bt,count:1})}return this._observedElements.get(Ve).stream}_unobserveElement(Ve){this._observedElements.has(Ve)&&(this._observedElements.get(Ve).count--,this._observedElements.get(Ve).count||this._cleanupObserver(Ve))}_cleanupObserver(Ve){if(this._observedElements.has(Ve)){const{observer:bt,stream:wn}=this._observedElements.get(Ve);bt&&bt.disconnect(),wn.complete(),this._observedElements.delete(Ve)}}}return Qe.\u0275fac=function(Ve){return new(Ve||Qe)(C.LFG(Ue))},Qe.\u0275prov=C.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})(),ge=(()=>{class Qe{constructor(Ve,bt,wn){this._contentObserver=Ve,this._elementRef=bt,this._ngZone=wn,this.event=new C.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(Ve){this._disabled=(0,u.Ig)(Ve),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Ve){this._debounce=(0,u.su)(Ve),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Ve=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?Ve.pipe((0,Ce.b)(this.debounce)):Ve).subscribe(this.event)})}_unsubscribe(){var Ve;null===(Ve=this._currentSubscription)||void 0===Ve||Ve.unsubscribe()}}return Qe.\u0275fac=function(Ve){return new(Ve||Qe)(C.Y36(ze),C.Y36(C.SBq),C.Y36(C.R0b))},Qe.\u0275dir=C.lG2({type:Qe,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),Qe})(),ke=(()=>{class Qe{}return Qe.\u0275fac=function(Ve){return new(Ve||Qe)},Qe.\u0275mod=C.oAB({type:Qe}),Qe.\u0275inj=C.cJS({providers:[Ue]}),Qe})();var me=S(9808),Te=S(508),Fe=S(6451),Xe=S(4968),tt=S(8675),Ze=S(2722),Dt=S(5698),Je=S(1777),pt=S(6360),Ye=S(226),Ut=S(925);const $e=["connectionContainer"],De=["inputContainer"],Se=["label"];function Le(Qe,Mt){1&Qe&&(C.ynx(0),C.TgZ(1,"div",14),C._UZ(2,"div",15)(3,"div",16)(4,"div",17),C.qZA(),C.TgZ(5,"div",18),C._UZ(6,"div",15)(7,"div",16)(8,"div",17),C.qZA(),C.BQk())}function le(Qe,Mt){if(1&Qe){const Ve=C.EpF();C.TgZ(0,"div",19),C.NdJ("cdkObserveContent",function(){return C.CHM(Ve),C.oxw().updateOutlineGap()}),C.Hsn(1,1),C.qZA()}if(2&Qe){const Ve=C.oxw();C.Q6J("cdkObserveContentDisabled","outline"!=Ve.appearance)}}function Tt(Qe,Mt){if(1&Qe&&(C.ynx(0),C.Hsn(1,2),C.TgZ(2,"span"),C._uU(3),C.qZA(),C.BQk()),2&Qe){const Ve=C.oxw(2);C.xp6(3),C.Oqu(Ve._control.placeholder)}}function kt(Qe,Mt){1&Qe&&C.Hsn(0,3,["*ngSwitchCase","true"])}function _t(Qe,Mt){1&Qe&&(C.TgZ(0,"span",23),C._uU(1," *"),C.qZA())}function mt(Qe,Mt){if(1&Qe){const Ve=C.EpF();C.TgZ(0,"label",20,21),C.NdJ("cdkObserveContent",function(){return C.CHM(Ve),C.oxw().updateOutlineGap()}),C.YNc(2,Tt,4,1,"ng-container",12),C.YNc(3,kt,1,0,"ng-content",12),C.YNc(4,_t,2,0,"span",22),C.qZA()}if(2&Qe){const Ve=C.oxw();C.ekj("mat-empty",Ve._control.empty&&!Ve._shouldAlwaysFloat())("mat-form-field-empty",Ve._control.empty&&!Ve._shouldAlwaysFloat())("mat-accent","accent"==Ve.color)("mat-warn","warn"==Ve.color),C.Q6J("cdkObserveContentDisabled","outline"!=Ve.appearance)("id",Ve._labelId)("ngSwitch",Ve._hasLabel()),C.uIk("for",Ve._control.id)("aria-owns",Ve._control.id),C.xp6(2),C.Q6J("ngSwitchCase",!1),C.xp6(1),C.Q6J("ngSwitchCase",!0),C.xp6(1),C.Q6J("ngIf",!Ve.hideRequiredMarker&&Ve._control.required&&!Ve._control.disabled)}}function Ct(Qe,Mt){1&Qe&&(C.TgZ(0,"div",24),C.Hsn(1,4),C.qZA())}function xt(Qe,Mt){if(1&Qe&&(C.TgZ(0,"div",25),C._UZ(1,"span",26),C.qZA()),2&Qe){const Ve=C.oxw();C.xp6(1),C.ekj("mat-accent","accent"==Ve.color)("mat-warn","warn"==Ve.color)}}function ut(Qe,Mt){if(1&Qe&&(C.TgZ(0,"div"),C.Hsn(1,5),C.qZA()),2&Qe){const Ve=C.oxw();C.Q6J("@transitionMessages",Ve._subscriptAnimationState)}}function Kt(Qe,Mt){if(1&Qe&&(C.TgZ(0,"div",30),C._uU(1),C.qZA()),2&Qe){const Ve=C.oxw(2);C.Q6J("id",Ve._hintLabelId),C.xp6(1),C.Oqu(Ve.hintLabel)}}function tn(Qe,Mt){if(1&Qe&&(C.TgZ(0,"div",27),C.YNc(1,Kt,2,2,"div",28),C.Hsn(2,6),C._UZ(3,"div",29),C.Hsn(4,7),C.qZA()),2&Qe){const Ve=C.oxw();C.Q6J("@transitionMessages",Ve._subscriptAnimationState),C.xp6(1),C.Q6J("ngIf",Ve.hintLabel)}}const dn=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],rn=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let At=0;const Bt=new C.OlP("MatError");let vn=(()=>{class Qe{constructor(Ve,bt){this.id="mat-error-"+At++,Ve||bt.nativeElement.setAttribute("aria-live","polite")}}return Qe.\u0275fac=function(Ve){return new(Ve||Qe)(C.$8M("aria-live"),C.Y36(C.SBq))},Qe.\u0275dir=C.lG2({type:Qe,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(Ve,bt){2&Ve&&C.uIk("id",bt.id)},inputs:{id:"id"},features:[C._Bn([{provide:Bt,useExisting:Qe}])]}),Qe})();const He={transitionMessages:(0,Je.X$)("transitionMessages",[(0,Je.SB)("enter",(0,Je.oB)({opacity:1,transform:"translateY(0%)"})),(0,Je.eR)("void => enter",[(0,Je.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Je.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let vt=(()=>{class Qe{}return Qe.\u0275fac=function(Ve){return new(Ve||Qe)},Qe.\u0275dir=C.lG2({type:Qe}),Qe})();const Kn=new C.OlP("MatHint");let sr=(()=>{class Qe{}return Qe.\u0275fac=function(Ve){return new(Ve||Qe)},Qe.\u0275dir=C.lG2({type:Qe,selectors:[["mat-label"]]}),Qe})(),Pn=(()=>{class Qe{}return Qe.\u0275fac=function(Ve){return new(Ve||Qe)},Qe.\u0275dir=C.lG2({type:Qe,selectors:[["mat-placeholder"]]}),Qe})();const mr=new C.OlP("MatPrefix"),Pr=new C.OlP("MatSuffix");let En=0;const hr=(0,Te.pj)(class{constructor(Qe){this._elementRef=Qe}},"primary"),Ir=new C.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),nn=new C.OlP("MatFormField");let Rt=(()=>{class Qe extends hr{constructor(Ve,bt,wn,cn,Mn,wr,rr){super(Ve),this._changeDetectorRef=bt,this._dir=wn,this._defaults=cn,this._platform=Mn,this._ngZone=wr,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new z.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+En++,this._labelId="mat-form-field-label-"+En++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==rr,this.appearance=cn&&cn.appearance?cn.appearance:"legacy",this._hideRequiredMarker=!(!cn||null==cn.hideRequiredMarker)&&cn.hideRequiredMarker}get appearance(){return this._appearance}set appearance(Ve){const bt=this._appearance;this._appearance=Ve||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&bt!==Ve&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Ve){this._hideRequiredMarker=(0,u.Ig)(Ve)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(Ve){this._hintLabel=Ve,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(Ve){Ve!==this._floatLabel&&(this._floatLabel=Ve||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(Ve){this._explicitFormFieldControl=Ve}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const Ve=this._control;Ve.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${Ve.controlType}`),Ve.stateChanges.pipe((0,tt.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Ve.ngControl&&Ve.ngControl.valueChanges&&Ve.ngControl.valueChanges.pipe((0,Ze.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Ze.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Fe.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,tt.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,tt.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,Ze.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(Ve){const bt=this._control?this._control.ngControl:null;return bt&&bt[Ve]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,Xe.R)(this._label.nativeElement,"transitionend").pipe((0,Dt.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let Ve=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Ve.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const bt=this._hintChildren?this._hintChildren.find(cn=>"start"===cn.align):null,wn=this._hintChildren?this._hintChildren.find(cn=>"end"===cn.align):null;bt?Ve.push(bt.id):this._hintLabel&&Ve.push(this._hintLabelId),wn&&Ve.push(wn.id)}else this._errorChildren&&Ve.push(...this._errorChildren.map(bt=>bt.id));this._control.setDescribedByIds(Ve)}}_validateControlChild(){}updateOutlineGap(){const Ve=this._label?this._label.nativeElement:null,bt=this._connectionContainerRef.nativeElement,wn=".mat-form-field-outline-start",cn=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!Ve||!Ve.children.length||!Ve.textContent.trim()){const at=bt.querySelectorAll(`${wn}, ${cn}`);for(let rt=0;rt<at.length;rt++)at[rt].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Mn=0,wr=0;const rr=bt.querySelectorAll(wn),tr=bt.querySelectorAll(cn);if(this._label&&this._label.nativeElement.children.length){const at=bt.getBoundingClientRect();if(0===at.width&&0===at.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const rt=this._getStartEnd(at),ye=Ve.children,Z=this._getStartEnd(ye[0].getBoundingClientRect());let M=0;for(let w=0;w<ye.length;w++)M+=ye[w].offsetWidth;Mn=Math.abs(Z-rt)-5,wr=M>0?.75*M+10:0}for(let at=0;at<rr.length;at++)rr[at].style.width=`${Mn}px`;for(let at=0;at<tr.length;at++)tr[at].style.width=`${wr}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(Ve){return this._dir&&"rtl"===this._dir.value?Ve.right:Ve.left}_isAttachedToDOM(){const Ve=this._elementRef.nativeElement;if(Ve.getRootNode){const bt=Ve.getRootNode();return bt&&bt!==Ve}return document.documentElement.contains(Ve)}}return Qe.\u0275fac=function(Ve){return new(Ve||Qe)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Ye.Is,8),C.Y36(Ir,8),C.Y36(Ut.t4),C.Y36(C.R0b),C.Y36(pt.Qb,8))},Qe.\u0275cmp=C.Xpm({type:Qe,selectors:[["mat-form-field"]],contentQueries:function(Ve,bt,wn){if(1&Ve&&(C.Suo(wn,vt,5),C.Suo(wn,vt,7),C.Suo(wn,sr,5),C.Suo(wn,sr,7),C.Suo(wn,Pn,5),C.Suo(wn,Bt,5),C.Suo(wn,Kn,5),C.Suo(wn,mr,5),C.Suo(wn,Pr,5)),2&Ve){let cn;C.iGM(cn=C.CRH())&&(bt._controlNonStatic=cn.first),C.iGM(cn=C.CRH())&&(bt._controlStatic=cn.first),C.iGM(cn=C.CRH())&&(bt._labelChildNonStatic=cn.first),C.iGM(cn=C.CRH())&&(bt._labelChildStatic=cn.first),C.iGM(cn=C.CRH())&&(bt._placeholderChild=cn.first),C.iGM(cn=C.CRH())&&(bt._errorChildren=cn),C.iGM(cn=C.CRH())&&(bt._hintChildren=cn),C.iGM(cn=C.CRH())&&(bt._prefixChildren=cn),C.iGM(cn=C.CRH())&&(bt._suffixChildren=cn)}},viewQuery:function(Ve,bt){if(1&Ve&&(C.Gf($e,7),C.Gf(De,5),C.Gf(Se,5)),2&Ve){let wn;C.iGM(wn=C.CRH())&&(bt._connectionContainerRef=wn.first),C.iGM(wn=C.CRH())&&(bt._inputContainerRef=wn.first),C.iGM(wn=C.CRH())&&(bt._label=wn.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(Ve,bt){2&Ve&&C.ekj("mat-form-field-appearance-standard","standard"==bt.appearance)("mat-form-field-appearance-fill","fill"==bt.appearance)("mat-form-field-appearance-outline","outline"==bt.appearance)("mat-form-field-appearance-legacy","legacy"==bt.appearance)("mat-form-field-invalid",bt._control.errorState)("mat-form-field-can-float",bt._canLabelFloat())("mat-form-field-should-float",bt._shouldLabelFloat())("mat-form-field-has-label",bt._hasFloatingLabel())("mat-form-field-hide-placeholder",bt._hideControlPlaceholder())("mat-form-field-disabled",bt._control.disabled)("mat-form-field-autofilled",bt._control.autofilled)("mat-focused",bt._control.focused)("ng-untouched",bt._shouldForward("untouched"))("ng-touched",bt._shouldForward("touched"))("ng-pristine",bt._shouldForward("pristine"))("ng-dirty",bt._shouldForward("dirty"))("ng-valid",bt._shouldForward("valid"))("ng-invalid",bt._shouldForward("invalid"))("ng-pending",bt._shouldForward("pending"))("_mat-animation-noopable",!bt._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[C._Bn([{provide:nn,useExisting:Qe}]),C.qOj],ngContentSelectors:rn,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(Ve,bt){1&Ve&&(C.F$t(dn),C.TgZ(0,"div",0)(1,"div",1,2),C.NdJ("click",function(cn){return bt._control.onContainerClick&&bt._control.onContainerClick(cn)}),C.YNc(3,Le,9,0,"ng-container",3),C.YNc(4,le,2,1,"div",4),C.TgZ(5,"div",5,6),C.Hsn(7),C.TgZ(8,"span",7),C.YNc(9,mt,5,16,"label",8),C.qZA()(),C.YNc(10,Ct,2,0,"div",9),C.qZA(),C.YNc(11,xt,2,4,"div",10),C.TgZ(12,"div",11),C.YNc(13,ut,2,1,"div",12),C.YNc(14,tn,5,2,"div",13),C.qZA()()),2&Ve&&(C.xp6(3),C.Q6J("ngIf","outline"==bt.appearance),C.xp6(1),C.Q6J("ngIf",bt._prefixChildren.length),C.xp6(5),C.Q6J("ngIf",bt._hasFloatingLabel()),C.xp6(1),C.Q6J("ngIf",bt._suffixChildren.length),C.xp6(1),C.Q6J("ngIf","outline"!=bt.appearance),C.xp6(1),C.Q6J("ngSwitch",bt._getDisplayedMessages()),C.xp6(1),C.Q6J("ngSwitchCase","error"),C.xp6(1),C.Q6J("ngSwitchCase","hint"))},directives:[me.O5,ge,me.RF,me.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[He.transitionMessages]},changeDetection:0}),Qe})(),Et=(()=>{class Qe{}return Qe.\u0275fac=function(Ve){return new(Ve||Qe)},Qe.\u0275mod=C.oAB({type:Qe}),Qe.\u0275inj=C.cJS({imports:[[me.ez,Te.BQ,ke],Te.BQ]}),Qe})()},8099:(fn,ht,S)=>{S.d(ht,{Ps:()=>_e});var u=S(5e3),C=S(508);S(9808),S(9646),S(2843),S(4128),S(8505),S(4004),S(262),S(8746),S(3099),S(4351),S(9300),S(2313);let _e=(()=>{class J{}return J.\u0275fac=function(ne){return new(ne||J)},J.\u0275mod=u.oAB({type:J}),J.\u0275inj=u.cJS({imports:[[C.BQ],C.BQ]}),J})()},7531:(fn,ht,S)=>{S.d(ht,{Nt:()=>Ye,c:()=>Ut});var u=S(3191),C=S(925),G=S(5e3),z=S(3075),Ce=S(508),Ue=S(4106),ze=S(7579),ge=S(515);const ke=(0,C.i$)({passive:!0});let me=(()=>{class $e{constructor(Se,Le){this._platform=Se,this._ngZone=Le,this._monitoredElements=new Map}monitor(Se){if(!this._platform.isBrowser)return ge.E;const Le=(0,u.fI)(Se),le=this._monitoredElements.get(Le);if(le)return le.subject;const Tt=new ze.x,kt="cdk-text-field-autofilled",_t=mt=>{"cdk-text-field-autofill-start"!==mt.animationName||Le.classList.contains(kt)?"cdk-text-field-autofill-end"===mt.animationName&&Le.classList.contains(kt)&&(Le.classList.remove(kt),this._ngZone.run(()=>Tt.next({target:mt.target,isAutofilled:!1}))):(Le.classList.add(kt),this._ngZone.run(()=>Tt.next({target:mt.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Le.addEventListener("animationstart",_t,ke),Le.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Le,{subject:Tt,unlisten:()=>{Le.removeEventListener("animationstart",_t,ke)}}),Tt}stopMonitoring(Se){const Le=(0,u.fI)(Se),le=this._monitoredElements.get(Le);le&&(le.unlisten(),le.subject.complete(),Le.classList.remove("cdk-text-field-autofill-monitored"),Le.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Le))}ngOnDestroy(){this._monitoredElements.forEach((Se,Le)=>this.stopMonitoring(Le))}}return $e.\u0275fac=function(Se){return new(Se||$e)(G.LFG(C.t4),G.LFG(G.R0b))},$e.\u0275prov=G.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})(),Xe=(()=>{class $e{}return $e.\u0275fac=function(Se){return new(Se||$e)},$e.\u0275mod=G.oAB({type:$e}),$e.\u0275inj=G.cJS({}),$e})();const Ze=new G.OlP("MAT_INPUT_VALUE_ACCESSOR"),Dt=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Je=0;const pt=(0,Ce.FD)(class{constructor($e,De,Se,Le){this._defaultErrorStateMatcher=$e,this._parentForm=De,this._parentFormGroup=Se,this.ngControl=Le}});let Ye=(()=>{class $e extends pt{constructor(Se,Le,le,Tt,kt,_t,mt,Ct,xt,ut){super(_t,Tt,kt,le),this._elementRef=Se,this._platform=Le,this._autofillMonitor=Ct,this._formField=ut,this._uid="mat-input-"+Je++,this.focused=!1,this.stateChanges=new ze.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(dn=>(0,C.qK)().has(dn)),this._iOSKeyupListener=dn=>{const rn=dn.target;!rn.value&&0===rn.selectionStart&&0===rn.selectionEnd&&(rn.setSelectionRange(1,1),rn.setSelectionRange(0,0))};const Kt=this._elementRef.nativeElement,tn=Kt.nodeName.toLowerCase();this._inputValueAccessor=mt||Kt,this._previousNativeValue=this.value,this.id=this.id,Le.IOS&&xt.runOutsideAngular(()=>{Se.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===tn,this._isTextarea="textarea"===tn,this._isInFormField=!!ut,this._isNativeSelect&&(this.controlType=Kt.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(Se){this._disabled=(0,u.Ig)(Se),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(Se){this._id=Se||this._uid}get required(){var Se,Le,le,Tt;return null!==(Tt=null!==(Se=this._required)&&void 0!==Se?Se:null===(le=null===(Le=this.ngControl)||void 0===Le?void 0:Le.control)||void 0===le?void 0:le.hasValidator(z.kI.required))&&void 0!==Tt&&Tt}set required(Se){this._required=(0,u.Ig)(Se)}get type(){return this._type}set type(Se){this._type=Se||"text",this._validateType(),!this._isTextarea&&(0,C.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(Se){Se!==this.value&&(this._inputValueAccessor.value=Se,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(Se){this._readonly=(0,u.Ig)(Se)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(Se=>{this.autofilled=Se.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(Se){this._elementRef.nativeElement.focus(Se)}_focusChanged(Se){Se!==this.focused&&(this.focused=Se,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var Se,Le;const le=(null===(Le=null===(Se=this._formField)||void 0===Se?void 0:Se._hideControlPlaceholder)||void 0===Le?void 0:Le.call(Se))?null:this.placeholder;if(le!==this._previousPlaceholder){const Tt=this._elementRef.nativeElement;this._previousPlaceholder=le,le?Tt.setAttribute("placeholder",le):Tt.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const Se=this._elementRef.nativeElement.value;this._previousNativeValue!==Se&&(this._previousNativeValue=Se,this.stateChanges.next())}_validateType(){Dt.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let Se=this._elementRef.nativeElement.validity;return Se&&Se.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const Se=this._elementRef.nativeElement,Le=Se.options[0];return this.focused||Se.multiple||!this.empty||!!(Se.selectedIndex>-1&&Le&&Le.label)}return this.focused||!this.empty}setDescribedByIds(Se){Se.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Se.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const Se=this._elementRef.nativeElement;return this._isNativeSelect&&(Se.multiple||Se.size>1)}}return $e.\u0275fac=function(Se){return new(Se||$e)(G.Y36(G.SBq),G.Y36(C.t4),G.Y36(z.a5,10),G.Y36(z.F,8),G.Y36(z.sg,8),G.Y36(Ce.rD),G.Y36(Ze,10),G.Y36(me),G.Y36(G.R0b),G.Y36(Ue.G_,8))},$e.\u0275dir=G.lG2({type:$e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(Se,Le){1&Se&&G.NdJ("focus",function(){return Le._focusChanged(!0)})("blur",function(){return Le._focusChanged(!1)})("input",function(){return Le._onInput()}),2&Se&&(G.Ikx("disabled",Le.disabled)("required",Le.required),G.uIk("id",Le.id)("data-placeholder",Le.placeholder)("name",Le.name||null)("readonly",Le.readonly&&!Le._isNativeSelect||null)("aria-invalid",Le.empty&&Le.required?null:Le.errorState)("aria-required",Le.required),G.ekj("mat-input-server",Le._isServer)("mat-native-select-inline",Le._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[G._Bn([{provide:Ue.Eo,useExisting:$e}]),G.qOj,G.TTD]}),$e})(),Ut=(()=>{class $e{}return $e.\u0275fac=function(Se){return new(Se||$e)},$e.\u0275mod=G.oAB({type:$e}),$e.\u0275inj=G.cJS({providers:[Ce.rD],imports:[[Xe,Ue.lN,Ce.BQ],Xe,Ue.lN]}),$e})()},4999:(fn,ht,S)=>{S.d(ht,{ev:()=>se,Dz:()=>Ae,w1:()=>It,ge:()=>we,fO:()=>Ne,XQ:()=>ne,as:()=>_e,Gk:()=>gt,nj:()=>Q,BZ:()=>We,p0:()=>On});var u=S(5e3),C=S(3191),G=S(449),z=S(9808),Ce=S(7579),Ue=S(8996),ze=S(1135),ge=S(9751),ke=S(576),Te=S(9646),Fe=S(2722),Xe=S(5698),tt=S(226),Ze=S(925),Dt=S(5494);const Je=[[["caption"]],[["colgroup"],["col"]]],pt=["caption","colgroup, col"];function $e(he){return class extends he{constructor(...Me){super(...Me),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(Me){const ie=this._sticky;this._sticky=(0,C.Ig)(Me),this._hasStickyChanged=ie!==this._sticky}hasStickyChanged(){const Me=this._hasStickyChanged;return this._hasStickyChanged=!1,Me}resetStickyChanged(){this._hasStickyChanged=!1}}}const De=new u.OlP("CDK_TABLE");let Le=(()=>{class he{constructor(ie){this.template=ie}}return he.\u0275fac=function(ie){return new(ie||he)(u.Y36(u.Rgc))},he.\u0275dir=u.lG2({type:he,selectors:[["","cdkCellDef",""]]}),he})(),le=(()=>{class he{constructor(ie){this.template=ie}}return he.\u0275fac=function(ie){return new(ie||he)(u.Y36(u.Rgc))},he.\u0275dir=u.lG2({type:he,selectors:[["","cdkHeaderCellDef",""]]}),he})(),Tt=(()=>{class he{constructor(ie){this.template=ie}}return he.\u0275fac=function(ie){return new(ie||he)(u.Y36(u.Rgc))},he.\u0275dir=u.lG2({type:he,selectors:[["","cdkFooterCellDef",""]]}),he})();class kt{}const _t=$e(kt);let mt=(()=>{class he extends _t{constructor(ie){super(),this._table=ie,this._stickyEnd=!1}get name(){return this._name}set name(ie){this._setNameInput(ie)}get stickyEnd(){return this._stickyEnd}set stickyEnd(ie){const Be=this._stickyEnd;this._stickyEnd=(0,C.Ig)(ie),this._hasStickyChanged=Be!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(ie){ie&&(this._name=ie,this.cssClassFriendlyName=ie.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return he.\u0275fac=function(ie){return new(ie||he)(u.Y36(De,8))},he.\u0275dir=u.lG2({type:he,selectors:[["","cdkColumnDef",""]],contentQueries:function(ie,Be,St){if(1&ie&&(u.Suo(St,Le,5),u.Suo(St,le,5),u.Suo(St,Tt,5)),2&ie){let Gt;u.iGM(Gt=u.CRH())&&(Be.cell=Gt.first),u.iGM(Gt=u.CRH())&&(Be.headerCell=Gt.first),u.iGM(Gt=u.CRH())&&(Be.footerCell=Gt.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[u._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:he}]),u.qOj]}),he})();class Ct{constructor(Me,ie){ie.nativeElement.classList.add(...Me._columnCssClassName)}}let xt=(()=>{class he extends Ct{constructor(ie,Be){super(ie,Be)}}return he.\u0275fac=function(ie){return new(ie||he)(u.Y36(mt),u.Y36(u.SBq))},he.\u0275dir=u.lG2({type:he,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[u.qOj]}),he})(),Kt=(()=>{class he extends Ct{constructor(ie,Be){var St;if(super(ie,Be),1===(null===(St=ie._table)||void 0===St?void 0:St._elementRef.nativeElement.nodeType)){const Gt=ie._table._elementRef.nativeElement.getAttribute("role");Be.nativeElement.setAttribute("role","grid"===Gt||"treegrid"===Gt?"gridcell":"cell")}}}return he.\u0275fac=function(ie){return new(ie||he)(u.Y36(mt),u.Y36(u.SBq))},he.\u0275dir=u.lG2({type:he,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[u.qOj]}),he})();class tn{constructor(){this.tasks=[],this.endTasks=[]}}const dn=new u.OlP("_COALESCED_STYLE_SCHEDULER");let rn=(()=>{class he{constructor(ie){this._ngZone=ie,this._currentSchedule=null,this._destroyed=new Ce.x}schedule(ie){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(ie)}scheduleEnd(ie){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(ie)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new tn,this._getScheduleObservable().pipe((0,Fe.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const ie=this._currentSchedule;this._currentSchedule=new tn;for(const Be of ie.tasks)Be();for(const Be of ie.endTasks)Be()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Ue.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Xe.q)(1))}}return he.\u0275fac=function(ie){return new(ie||he)(u.LFG(u.R0b))},he.\u0275prov=u.Yz7({token:he,factory:he.\u0275fac}),he})(),Bt=(()=>{class he{constructor(ie,Be){this.template=ie,this._differs=Be}ngOnChanges(ie){if(!this._columnsDiffer){const Be=ie.columns&&ie.columns.currentValue||[];this._columnsDiffer=this._differs.find(Be).create(),this._columnsDiffer.diff(Be)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(ie){return this instanceof vt?ie.headerCell.template:this instanceof Gn?ie.footerCell.template:ie.cell.template}}return he.\u0275fac=function(ie){return new(ie||he)(u.Y36(u.Rgc),u.Y36(u.ZZ4))},he.\u0275dir=u.lG2({type:he,features:[u.TTD]}),he})();class vn extends Bt{}const He=$e(vn);let vt=(()=>{class he extends He{constructor(ie,Be,St){super(ie,Be),this._table=St}ngOnChanges(ie){super.ngOnChanges(ie)}}return he.\u0275fac=function(ie){return new(ie||he)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(De,8))},he.\u0275dir=u.lG2({type:he,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[u.qOj,u.TTD]}),he})();class sn extends Bt{}const an=$e(sn);let Gn=(()=>{class he extends an{constructor(ie,Be,St){super(ie,Be),this._table=St}ngOnChanges(ie){super.ngOnChanges(ie)}}return he.\u0275fac=function(ie){return new(ie||he)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(De,8))},he.\u0275dir=u.lG2({type:he,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[u.qOj,u.TTD]}),he})(),vr=(()=>{class he extends Bt{constructor(ie,Be,St){super(ie,Be),this._table=St}}return he.\u0275fac=function(ie){return new(ie||he)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(De,8))},he.\u0275dir=u.lG2({type:he,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[u.qOj]}),he})(),Kn=(()=>{class he{constructor(ie){this._viewContainer=ie,he.mostRecentCellOutlet=this}ngOnDestroy(){he.mostRecentCellOutlet===this&&(he.mostRecentCellOutlet=null)}}return he.mostRecentCellOutlet=null,he.\u0275fac=function(ie){return new(ie||he)(u.Y36(u.s_b))},he.\u0275dir=u.lG2({type:he,selectors:[["","cdkCellOutlet",""]]}),he})(),cr=(()=>{class he{}return he.\u0275fac=function(ie){return new(ie||he)},he.\u0275cmp=u.Xpm({type:he,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(ie,Be){1&ie&&u.GkF(0,0)},directives:[Kn],encapsulation:2}),he})(),Pn=(()=>{class he{}return he.\u0275fac=function(ie){return new(ie||he)},he.\u0275cmp=u.Xpm({type:he,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(ie,Be){1&ie&&u.GkF(0,0)},directives:[Kn],encapsulation:2}),he})(),mr=(()=>{class he{constructor(ie){this.templateRef=ie,this._contentClassName="cdk-no-data-row"}}return he.\u0275fac=function(ie){return new(ie||he)(u.Y36(u.Rgc))},he.\u0275dir=u.lG2({type:he,selectors:[["ng-template","cdkNoDataRow",""]]}),he})();const dr=["top","bottom","left","right"];class Pr{constructor(Me,ie,Be,St,Gt=!0,_n=!0,er){this._isNativeHtmlTable=Me,this._stickCellCss=ie,this.direction=Be,this._coalescedStyleScheduler=St,this._isBrowser=Gt,this._needsPositionStickyOnElement=_n,this._positionListener=er,this._cachedCellWidths=[],this._borderCellCss={top:`${ie}-border-elem-top`,bottom:`${ie}-border-elem-bottom`,left:`${ie}-border-elem-left`,right:`${ie}-border-elem-right`}}clearStickyPositioning(Me,ie){const Be=[];for(const St of Me)if(St.nodeType===St.ELEMENT_NODE){Be.push(St);for(let Gt=0;Gt<St.children.length;Gt++)Be.push(St.children[Gt])}this._coalescedStyleScheduler.schedule(()=>{for(const St of Be)this._removeStickyStyle(St,ie)})}updateStickyColumns(Me,ie,Be,St=!0){if(!Me.length||!this._isBrowser||!ie.some(Rr=>Rr)&&!Be.some(Rr=>Rr))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const Gt=Me[0],_n=Gt.children.length,er=this._getCellWidths(Gt,St),Ln=this._getStickyStartColumnPositions(er,ie),lr=this._getStickyEndColumnPositions(er,Be),zr=ie.lastIndexOf(!0),qn=Be.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const Rr="rtl"===this.direction,si=Rr?"right":"left",Xi=Rr?"left":"right";for(const fr of Me)for(let Vn=0;Vn<_n;Vn++){const pr=fr.children[Vn];ie[Vn]&&this._addStickyStyle(pr,si,Ln[Vn],Vn===zr),Be[Vn]&&this._addStickyStyle(pr,Xi,lr[Vn],Vn===qn)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===zr?[]:er.slice(0,zr+1).map((fr,Vn)=>ie[Vn]?fr:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===qn?[]:er.slice(qn).map((fr,Vn)=>Be[Vn+qn]?fr:null).reverse()}))})}stickRows(Me,ie,Be){if(!this._isBrowser)return;const St="bottom"===Be?Me.slice().reverse():Me,Gt="bottom"===Be?ie.slice().reverse():ie,_n=[],er=[],Ln=[];for(let zr=0,qn=0;zr<St.length;zr++){if(!Gt[zr])continue;_n[zr]=qn;const Rr=St[zr];Ln[zr]=this._isNativeHtmlTable?Array.from(Rr.children):[Rr];const si=Rr.getBoundingClientRect().height;qn+=si,er[zr]=si}const lr=Gt.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var zr,qn;for(let Rr=0;Rr<St.length;Rr++){if(!Gt[Rr])continue;const si=_n[Rr],Xi=Rr===lr;for(const fr of Ln[Rr])this._addStickyStyle(fr,Be,si,Xi)}"top"===Be?null===(zr=this._positionListener)||void 0===zr||zr.stickyHeaderRowsUpdated({sizes:er,offsets:_n,elements:Ln}):null===(qn=this._positionListener)||void 0===qn||qn.stickyFooterRowsUpdated({sizes:er,offsets:_n,elements:Ln})})}updateStickyFooterContainer(Me,ie){if(!this._isNativeHtmlTable)return;const Be=Me.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{ie.some(St=>!St)?this._removeStickyStyle(Be,["bottom"]):this._addStickyStyle(Be,"bottom",0,!1)})}_removeStickyStyle(Me,ie){for(const St of ie)Me.style[St]="",Me.classList.remove(this._borderCellCss[St]);dr.some(St=>-1===ie.indexOf(St)&&Me.style[St])?Me.style.zIndex=this._getCalculatedZIndex(Me):(Me.style.zIndex="",this._needsPositionStickyOnElement&&(Me.style.position=""),Me.classList.remove(this._stickCellCss))}_addStickyStyle(Me,ie,Be,St){Me.classList.add(this._stickCellCss),St&&Me.classList.add(this._borderCellCss[ie]),Me.style[ie]=`${Be}px`,Me.style.zIndex=this._getCalculatedZIndex(Me),this._needsPositionStickyOnElement&&(Me.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(Me){const ie={top:100,bottom:10,left:1,right:1};let Be=0;for(const St of dr)Me.style[St]&&(Be+=ie[St]);return Be?`${Be}`:""}_getCellWidths(Me,ie=!0){if(!ie&&this._cachedCellWidths.length)return this._cachedCellWidths;const Be=[],St=Me.children;for(let Gt=0;Gt<St.length;Gt++)Be.push(St[Gt].getBoundingClientRect().width);return this._cachedCellWidths=Be,Be}_getStickyStartColumnPositions(Me,ie){const Be=[];let St=0;for(let Gt=0;Gt<Me.length;Gt++)ie[Gt]&&(Be[Gt]=St,St+=Me[Gt]);return Be}_getStickyEndColumnPositions(Me,ie){const Be=[];let St=0;for(let Gt=Me.length;Gt>0;Gt--)ie[Gt]&&(Be[Gt]=St,St+=Me[Gt]);return Be}}const Et=new u.OlP("CDK_SPL");let Mt=(()=>{class he{constructor(ie,Be){this.viewContainer=ie,this.elementRef=Be}}return he.\u0275fac=function(ie){return new(ie||he)(u.Y36(u.s_b),u.Y36(u.SBq))},he.\u0275dir=u.lG2({type:he,selectors:[["","rowOutlet",""]]}),he})(),Ve=(()=>{class he{constructor(ie,Be){this.viewContainer=ie,this.elementRef=Be}}return he.\u0275fac=function(ie){return new(ie||he)(u.Y36(u.s_b),u.Y36(u.SBq))},he.\u0275dir=u.lG2({type:he,selectors:[["","headerRowOutlet",""]]}),he})(),bt=(()=>{class he{constructor(ie,Be){this.viewContainer=ie,this.elementRef=Be}}return he.\u0275fac=function(ie){return new(ie||he)(u.Y36(u.s_b),u.Y36(u.SBq))},he.\u0275dir=u.lG2({type:he,selectors:[["","footerRowOutlet",""]]}),he})(),wn=(()=>{class he{constructor(ie,Be){this.viewContainer=ie,this.elementRef=Be}}return he.\u0275fac=function(ie){return new(ie||he)(u.Y36(u.s_b),u.Y36(u.SBq))},he.\u0275dir=u.lG2({type:he,selectors:[["","noDataRowOutlet",""]]}),he})(),wr=(()=>{class he{constructor(ie,Be,St,Gt,_n,er,Ln,lr,zr,qn,Rr,si){this._differs=ie,this._changeDetectorRef=Be,this._elementRef=St,this._dir=_n,this._platform=Ln,this._viewRepeater=lr,this._coalescedStyleScheduler=zr,this._viewportRuler=qn,this._stickyPositioningListener=Rr,this._ngZone=si,this._onDestroy=new Ce.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new u.vpe,this.viewChange=new ze.X({start:0,end:Number.MAX_VALUE}),Gt||this._elementRef.nativeElement.setAttribute("role","table"),this._document=er,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(ie){this._trackByFn=ie}get dataSource(){return this._dataSource}set dataSource(ie){this._dataSource!==ie&&this._switchDataSource(ie)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(ie){this._multiTemplateDataRows=(0,C.Ig)(ie),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(ie){this._fixedLayout=(0,C.Ig)(ie),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((ie,Be)=>this.trackBy?this.trackBy(Be.dataIndex,Be.data):Be),this._viewportRuler.change().pipe((0,Fe.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const Be=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||Be,this._forceRecalculateCellWidths=Be,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(ie=>{ie.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,G.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const ie=this._dataDiffer.diff(this._renderRows);if(!ie)return this._updateNoDataRow(),void this.contentChanged.next();const Be=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(ie,Be,(St,Gt,_n)=>this._getEmbeddedViewArgs(St.item,_n),St=>St.item.data,St=>{1===St.operation&&St.context&&this._renderCellTemplateForItem(St.record.item.rowDef,St.context)}),this._updateRowIndexContext(),ie.forEachIdentityChange(St=>{Be.get(St.currentIndex).context.$implicit=St.item.data}),this._updateNoDataRow(),this._ngZone&&u.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Xe.q)(1),(0,Fe.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(ie){this._customColumnDefs.add(ie)}removeColumnDef(ie){this._customColumnDefs.delete(ie)}addRowDef(ie){this._customRowDefs.add(ie)}removeRowDef(ie){this._customRowDefs.delete(ie)}addHeaderRowDef(ie){this._customHeaderRowDefs.add(ie),this._headerRowDefChanged=!0}removeHeaderRowDef(ie){this._customHeaderRowDefs.delete(ie),this._headerRowDefChanged=!0}addFooterRowDef(ie){this._customFooterRowDefs.add(ie),this._footerRowDefChanged=!0}removeFooterRowDef(ie){this._customFooterRowDefs.delete(ie),this._footerRowDefChanged=!0}setNoDataRow(ie){this._customNoDataRow=ie}updateStickyHeaderRowStyles(){const ie=this._getRenderedRows(this._headerRowOutlet),St=this._elementRef.nativeElement.querySelector("thead");St&&(St.style.display=ie.length?"":"none");const Gt=this._headerRowDefs.map(_n=>_n.sticky);this._stickyStyler.clearStickyPositioning(ie,["top"]),this._stickyStyler.stickRows(ie,Gt,"top"),this._headerRowDefs.forEach(_n=>_n.resetStickyChanged())}updateStickyFooterRowStyles(){const ie=this._getRenderedRows(this._footerRowOutlet),St=this._elementRef.nativeElement.querySelector("tfoot");St&&(St.style.display=ie.length?"":"none");const Gt=this._footerRowDefs.map(_n=>_n.sticky);this._stickyStyler.clearStickyPositioning(ie,["bottom"]),this._stickyStyler.stickRows(ie,Gt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Gt),this._footerRowDefs.forEach(_n=>_n.resetStickyChanged())}updateStickyColumnStyles(){const ie=this._getRenderedRows(this._headerRowOutlet),Be=this._getRenderedRows(this._rowOutlet),St=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...ie,...Be,...St],["left","right"]),this._stickyColumnStylesNeedReset=!1),ie.forEach((Gt,_n)=>{this._addStickyColumnStyles([Gt],this._headerRowDefs[_n])}),this._rowDefs.forEach(Gt=>{const _n=[];for(let er=0;er<Be.length;er++)this._renderRows[er].rowDef===Gt&&_n.push(Be[er]);this._addStickyColumnStyles(_n,Gt)}),St.forEach((Gt,_n)=>{this._addStickyColumnStyles([Gt],this._footerRowDefs[_n])}),Array.from(this._columnDefsByName.values()).forEach(Gt=>Gt.resetStickyChanged())}_getAllRenderRows(){const ie=[],Be=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let St=0;St<this._data.length;St++){let Gt=this._data[St];const _n=this._getRenderRowsForData(Gt,St,Be.get(Gt));this._cachedRenderRowsMap.has(Gt)||this._cachedRenderRowsMap.set(Gt,new WeakMap);for(let er=0;er<_n.length;er++){let Ln=_n[er];const lr=this._cachedRenderRowsMap.get(Ln.data);lr.has(Ln.rowDef)?lr.get(Ln.rowDef).push(Ln):lr.set(Ln.rowDef,[Ln]),ie.push(Ln)}}return ie}_getRenderRowsForData(ie,Be,St){return this._getRowDefs(ie,Be).map(_n=>{const er=St&&St.has(_n)?St.get(_n):[];if(er.length){const Ln=er.shift();return Ln.dataIndex=Be,Ln}return{data:ie,rowDef:_n,dataIndex:Be}})}_cacheColumnDefs(){this._columnDefsByName.clear(),rr(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(Be=>{this._columnDefsByName.has(Be.name),this._columnDefsByName.set(Be.name,Be)})}_cacheRowDefs(){this._headerRowDefs=rr(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=rr(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=rr(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const ie=this._rowDefs.filter(Be=>!Be.when);this._defaultRowDef=ie[0]}_renderUpdatedColumns(){const ie=(_n,er)=>_n||!!er.getColumnsDiff(),Be=this._rowDefs.reduce(ie,!1);Be&&this._forceRenderDataRows();const St=this._headerRowDefs.reduce(ie,!1);St&&this._forceRenderHeaderRows();const Gt=this._footerRowDefs.reduce(ie,!1);return Gt&&this._forceRenderFooterRows(),Be||St||Gt}_switchDataSource(ie){this._data=[],(0,G.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),ie||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=ie}_observeRenderChanges(){if(!this.dataSource)return;let ie;(0,G.Z9)(this.dataSource)?ie=this.dataSource.connect(this):function me(he){return!!he&&(he instanceof ge.y||(0,ke.m)(he.lift)&&(0,ke.m)(he.subscribe))}(this.dataSource)?ie=this.dataSource:Array.isArray(this.dataSource)&&(ie=(0,Te.of)(this.dataSource)),this._renderChangeSubscription=ie.pipe((0,Fe.R)(this._onDestroy)).subscribe(Be=>{this._data=Be||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((ie,Be)=>this._renderRow(this._headerRowOutlet,ie,Be)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((ie,Be)=>this._renderRow(this._footerRowOutlet,ie,Be)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(ie,Be){const St=Array.from(Be.columns||[]).map(er=>this._columnDefsByName.get(er)),Gt=St.map(er=>er.sticky),_n=St.map(er=>er.stickyEnd);this._stickyStyler.updateStickyColumns(ie,Gt,_n,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(ie){const Be=[];for(let St=0;St<ie.viewContainer.length;St++){const Gt=ie.viewContainer.get(St);Be.push(Gt.rootNodes[0])}return Be}_getRowDefs(ie,Be){if(1==this._rowDefs.length)return[this._rowDefs[0]];let St=[];if(this.multiTemplateDataRows)St=this._rowDefs.filter(Gt=>!Gt.when||Gt.when(Be,ie));else{let Gt=this._rowDefs.find(_n=>_n.when&&_n.when(Be,ie))||this._defaultRowDef;Gt&&St.push(Gt)}return St}_getEmbeddedViewArgs(ie,Be){return{templateRef:ie.rowDef.template,context:{$implicit:ie.data},index:Be}}_renderRow(ie,Be,St,Gt={}){const _n=ie.viewContainer.createEmbeddedView(Be.template,Gt,St);return this._renderCellTemplateForItem(Be,Gt),_n}_renderCellTemplateForItem(ie,Be){for(let St of this._getCellTemplates(ie))Kn.mostRecentCellOutlet&&Kn.mostRecentCellOutlet._viewContainer.createEmbeddedView(St,Be);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const ie=this._rowOutlet.viewContainer;for(let Be=0,St=ie.length;Be<St;Be++){const _n=ie.get(Be).context;_n.count=St,_n.first=0===Be,_n.last=Be===St-1,_n.even=Be%2==0,_n.odd=!_n.even,this.multiTemplateDataRows?(_n.dataIndex=this._renderRows[Be].dataIndex,_n.renderIndex=Be):_n.index=this._renderRows[Be].dataIndex}}_getCellTemplates(ie){return ie&&ie.columns?Array.from(ie.columns,Be=>{const St=this._columnDefsByName.get(Be);return ie.extractCellTemplate(St)}):[]}_applyNativeTableSections(){const ie=this._document.createDocumentFragment(),Be=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const St of Be){const Gt=this._document.createElement(St.tag);Gt.setAttribute("role","rowgroup");for(const _n of St.outlets)Gt.appendChild(_n.elementRef.nativeElement);ie.appendChild(Gt)}this._elementRef.nativeElement.appendChild(ie)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const ie=(Be,St)=>Be||St.hasStickyChanged();this._headerRowDefs.reduce(ie,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(ie,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(ie,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Pr(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Te.of)()).pipe((0,Fe.R)(this._onDestroy)).subscribe(Be=>{this._stickyStyler.direction=Be,this.updateStickyColumnStyles()})}_getOwnDefs(ie){return ie.filter(Be=>!Be._table||Be._table===this)}_updateNoDataRow(){const ie=this._customNoDataRow||this._noDataRow;if(!ie)return;const Be=0===this._rowOutlet.viewContainer.length;if(Be===this._isShowingNoDataRow)return;const St=this._noDataRowOutlet.viewContainer;if(Be){const Gt=St.createEmbeddedView(ie.templateRef),_n=Gt.rootNodes[0];1===Gt.rootNodes.length&&(null==_n?void 0:_n.nodeType)===this._document.ELEMENT_NODE&&(_n.setAttribute("role","row"),_n.classList.add(ie._contentClassName))}else St.clear();this._isShowingNoDataRow=Be}}return he.\u0275fac=function(ie){return new(ie||he)(u.Y36(u.ZZ4),u.Y36(u.sBO),u.Y36(u.SBq),u.$8M("role"),u.Y36(tt.Is,8),u.Y36(z.K0),u.Y36(Ze.t4),u.Y36(G.k),u.Y36(dn),u.Y36(Dt.rL),u.Y36(Et,12),u.Y36(u.R0b,8))},he.\u0275cmp=u.Xpm({type:he,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(ie,Be,St){if(1&ie&&(u.Suo(St,mr,5),u.Suo(St,mt,5),u.Suo(St,vr,5),u.Suo(St,vt,5),u.Suo(St,Gn,5)),2&ie){let Gt;u.iGM(Gt=u.CRH())&&(Be._noDataRow=Gt.first),u.iGM(Gt=u.CRH())&&(Be._contentColumnDefs=Gt),u.iGM(Gt=u.CRH())&&(Be._contentRowDefs=Gt),u.iGM(Gt=u.CRH())&&(Be._contentHeaderRowDefs=Gt),u.iGM(Gt=u.CRH())&&(Be._contentFooterRowDefs=Gt)}},viewQuery:function(ie,Be){if(1&ie&&(u.Gf(Mt,7),u.Gf(Ve,7),u.Gf(bt,7),u.Gf(wn,7)),2&ie){let St;u.iGM(St=u.CRH())&&(Be._rowOutlet=St.first),u.iGM(St=u.CRH())&&(Be._headerRowOutlet=St.first),u.iGM(St=u.CRH())&&(Be._footerRowOutlet=St.first),u.iGM(St=u.CRH())&&(Be._noDataRowOutlet=St.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(ie,Be){2&ie&&u.ekj("cdk-table-fixed-layout",Be.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[u._Bn([{provide:De,useExisting:he},{provide:G.k,useClass:G.yy},{provide:dn,useClass:rn},{provide:Et,useValue:null}])],ngContentSelectors:pt,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(ie,Be){1&ie&&(u.F$t(Je),u.Hsn(0),u.Hsn(1,1),u.GkF(2,0)(3,1)(4,2)(5,3))},directives:[Ve,Mt,wn,bt],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),he})();function rr(he,Me){return he.concat(Array.from(Me))}let rt=(()=>{class he{}return he.\u0275fac=function(ie){return new(ie||he)},he.\u0275mod=u.oAB({type:he}),he.\u0275inj=u.cJS({imports:[[Dt.Cl]]}),he})();var ye=S(508);const Z=[[["caption"]],[["colgroup"],["col"]]],M=["caption","colgroup, col"];let We=(()=>{class he extends wr{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return he.\u0275fac=function(){let Me;return function(Be){return(Me||(Me=u.n5z(he)))(Be||he)}}(),he.\u0275cmp=u.Xpm({type:he,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(ie,Be){2&ie&&u.ekj("mat-table-fixed-layout",Be.fixedLayout)},exportAs:["matTable"],features:[u._Bn([{provide:G.k,useClass:G.yy},{provide:wr,useExisting:he},{provide:De,useExisting:he},{provide:dn,useClass:rn},{provide:Et,useValue:null}]),u.qOj],ngContentSelectors:M,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(ie,Be){1&ie&&(u.F$t(Z),u.Hsn(0),u.Hsn(1,1),u.GkF(2,0)(3,1)(4,2)(5,3))},directives:[Ve,Mt,wn,bt],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),he})(),Ae=(()=>{class he extends Le{}return he.\u0275fac=function(){let Me;return function(Be){return(Me||(Me=u.n5z(he)))(Be||he)}}(),he.\u0275dir=u.lG2({type:he,selectors:[["","matCellDef",""]],features:[u._Bn([{provide:Le,useExisting:he}]),u.qOj]}),he})(),Ne=(()=>{class he extends le{}return he.\u0275fac=function(){let Me;return function(Be){return(Me||(Me=u.n5z(he)))(Be||he)}}(),he.\u0275dir=u.lG2({type:he,selectors:[["","matHeaderCellDef",""]],features:[u._Bn([{provide:le,useExisting:he}]),u.qOj]}),he})(),It=(()=>{class he extends mt{get name(){return this._name}set name(ie){this._setNameInput(ie)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return he.\u0275fac=function(){let Me;return function(Be){return(Me||(Me=u.n5z(he)))(Be||he)}}(),he.\u0275dir=u.lG2({type:he,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[u._Bn([{provide:mt,useExisting:he},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:he}]),u.qOj]}),he})(),we=(()=>{class he extends xt{}return he.\u0275fac=function(){let Me;return function(Be){return(Me||(Me=u.n5z(he)))(Be||he)}}(),he.\u0275dir=u.lG2({type:he,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[u.qOj]}),he})(),se=(()=>{class he extends Kt{}return he.\u0275fac=function(){let Me;return function(Be){return(Me||(Me=u.n5z(he)))(Be||he)}}(),he.\u0275dir=u.lG2({type:he,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[u.qOj]}),he})(),_e=(()=>{class he extends vt{}return he.\u0275fac=function(){let Me;return function(Be){return(Me||(Me=u.n5z(he)))(Be||he)}}(),he.\u0275dir=u.lG2({type:he,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[u._Bn([{provide:vt,useExisting:he}]),u.qOj]}),he})(),Q=(()=>{class he extends vr{}return he.\u0275fac=function(){let Me;return function(Be){return(Me||(Me=u.n5z(he)))(Be||he)}}(),he.\u0275dir=u.lG2({type:he,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[u._Bn([{provide:vr,useExisting:he}]),u.qOj]}),he})(),ne=(()=>{class he extends cr{}return he.\u0275fac=function(){let Me;return function(Be){return(Me||(Me=u.n5z(he)))(Be||he)}}(),he.\u0275cmp=u.Xpm({type:he,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[u._Bn([{provide:cr,useExisting:he}]),u.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(ie,Be){1&ie&&u.GkF(0,0)},directives:[Kn],encapsulation:2}),he})(),gt=(()=>{class he extends Pn{}return he.\u0275fac=function(){let Me;return function(Be){return(Me||(Me=u.n5z(he)))(Be||he)}}(),he.\u0275cmp=u.Xpm({type:he,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[u._Bn([{provide:Pn,useExisting:he}]),u.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(ie,Be){1&ie&&u.GkF(0,0)},directives:[Kn],encapsulation:2}),he})(),On=(()=>{class he{}return he.\u0275fac=function(ie){return new(ie||he)},he.\u0275mod=u.oAB({type:he}),he.\u0275inj=u.cJS({imports:[[rt,ye.BQ],ye.BQ]}),he})()},6360:(fn,ht,S)=>{S.d(ht,{Qb:()=>uo,PW:()=>Ks});var u=S(5e3),C=S(2313),G=S(1777);const z=!1;function Ue(re){return new u.vHH(3e3,z)}function sn(){return"undefined"!=typeof window&&void 0!==window.document}function an(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gn(re){switch(re.length){case 0:return new G.ZN;case 1:return re[0];default:return new G.ZE(re)}}function vr(re,v,D,B,ue={},Oe={}){const it=[],ot=[];let Nt=-1,Jt=null;if(B.forEach(Hn=>{const Qn=Hn.offset,br=Qn==Nt,kr=br&&Jt||{};Object.keys(Hn).forEach(ur=>{let Vr=ur,gi=Hn[ur];if("offset"!==ur)switch(Vr=v.normalizePropertyName(Vr,it),gi){case G.k1:gi=ue[ur];break;case G.l3:gi=Oe[ur];break;default:gi=v.normalizeStyleValue(ur,Vr,gi,it)}kr[Vr]=gi}),br||ot.push(kr),Jt=kr,Nt=Qn}),it.length)throw function Ct(re){return new u.vHH(3502,z)}();return ot}function Kn(re,v,D,B){switch(v){case"start":re.onStart(()=>B(D&&cr(D,"start",re)));break;case"done":re.onDone(()=>B(D&&cr(D,"done",re)));break;case"destroy":re.onDestroy(()=>B(D&&cr(D,"destroy",re)))}}function cr(re,v,D){const B=D.totalTime,Oe=sr(re.element,re.triggerName,re.fromState,re.toState,v||re.phaseName,null==B?re.totalTime:B,!!D.disabled),it=re._data;return null!=it&&(Oe._data=it),Oe}function sr(re,v,D,B,ue="",Oe=0,it){return{element:re,triggerName:v,fromState:D,toState:B,phaseName:ue,totalTime:Oe,disabled:!!it}}function Pn(re,v,D){let B;return re instanceof Map?(B=re.get(v),B||re.set(v,B=D)):(B=re[v],B||(B=re[v]=D)),B}function mr(re){const v=re.indexOf(":");return[re.substring(1,v),re.substr(v+1)]}let dr=(re,v)=>!1,Pr=(re,v,D)=>[],bn=null;function En(re){const v=re.parentNode||re.host;return v===bn?null:v}(an()||"undefined"!=typeof Element)&&(sn()?(bn=(()=>document.documentElement)(),dr=(re,v)=>{for(;v;){if(v===re)return!0;v=En(v)}return!1}):dr=(re,v)=>re.contains(v),Pr=(re,v,D)=>{if(D)return Array.from(re.querySelectorAll(v));const B=re.querySelector(v);return B?[B]:[]});let hr=null,Ir=!1;function nn(re){hr||(hr=function Rt(){return"undefined"!=typeof document?document.body:null}()||{},Ir=!!hr.style&&"WebkitAppearance"in hr.style);let v=!0;return hr.style&&!function $n(re){return"ebkit"==re.substring(1,6)}(re)&&(v=re in hr.style,!v&&Ir&&(v="Webkit"+re.charAt(0).toUpperCase()+re.substr(1)in hr.style)),v}const Et=dr,Qe=Pr;let Ve=(()=>{class re{validateStyleProperty(D){return nn(D)}matchesElement(D,B){return!1}containsElement(D,B){return Et(D,B)}getParentElement(D){return En(D)}query(D,B,ue){return Qe(D,B,ue)}computeStyle(D,B,ue){return ue||""}animate(D,B,ue,Oe,it,ot=[],Nt){return new G.ZN(ue,Oe)}}return re.\u0275fac=function(D){return new(D||re)},re.\u0275prov=u.Yz7({token:re,factory:re.\u0275fac}),re})(),bt=(()=>{class re{}return re.NOOP=new Ve,re})();const wr="ng-enter",rr="ng-leave",tr="ng-trigger",at=".ng-trigger",rt="ng-animating",ye=".ng-animating";function Z(re){if("number"==typeof re)return re;const v=re.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:M(parseFloat(v[1]),v[2])}function M(re,v){return"s"===v?1e3*re:re}function w(re,v,D){return re.hasOwnProperty("duration")?re:function L(re,v,D){let ue,Oe=0,it="";if("string"==typeof re){const ot=re.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ot)return v.push(Ue()),{duration:0,delay:0,easing:""};ue=M(parseFloat(ot[1]),ot[2]);const Nt=ot[3];null!=Nt&&(Oe=M(parseFloat(Nt),ot[4]));const Jt=ot[5];Jt&&(it=Jt)}else ue=re;if(!D){let ot=!1,Nt=v.length;ue<0&&(v.push(function ze(){return new u.vHH(3100,z)}()),ot=!0),Oe<0&&(v.push(function ge(){return new u.vHH(3101,z)}()),ot=!0),ot&&v.splice(Nt,0,Ue())}return{duration:ue,delay:Oe,easing:it}}(re,v,D)}function be(re,v={}){return Object.keys(re).forEach(D=>{v[D]=re[D]}),v}function Ae(re,v,D={}){if(v)for(let B in re)D[B]=re[B];else be(re,D);return D}function Ne(re,v,D){return D?v+":"+D+";":""}function Ge(re){let v="";for(let D=0;D<re.style.length;D++){const B=re.style.item(D);v+=Ne(0,B,re.style.getPropertyValue(B))}for(const D in re.style)re.style.hasOwnProperty(D)&&!D.startsWith("_")&&(v+=Ne(0,Ht(D),re.style[D]));re.setAttribute("style",v)}function It(re,v,D){re.style&&(Object.keys(v).forEach(B=>{const ue=gt(B);D&&!D.hasOwnProperty(B)&&(D[B]=re.style[ue]),re.style[ue]=v[B]}),an()&&Ge(re))}function we(re,v){re.style&&(Object.keys(v).forEach(D=>{const B=gt(D);re.style[B]=""}),an()&&Ge(re))}function Re(re){return Array.isArray(re)?1==re.length?re[0]:(0,G.vP)(re):re}const _e=new RegExp("{{\\s*(.+?)\\s*}}","g");function J(re){let v=[];if("string"==typeof re){let D;for(;D=_e.exec(re);)v.push(D[1]);_e.lastIndex=0}return v}function Q(re,v,D){const B=re.toString(),ue=B.replace(_e,(Oe,it)=>{let ot=v[it];return v.hasOwnProperty(it)||(D.push(function me(re){return new u.vHH(3003,z)}()),ot=""),ot.toString()});return ue==B?re:ue}function ne(re){const v=[];let D=re.next();for(;!D.done;)v.push(D.value),D=re.next();return v}const Pe=/-+([a-z0-9])/g;function gt(re){return re.replace(Pe,(...v)=>v[1].toUpperCase())}function Ht(re){return re.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function On(re,v,D){switch(v.type){case 7:return re.visitTrigger(v,D);case 0:return re.visitState(v,D);case 1:return re.visitTransition(v,D);case 2:return re.visitSequence(v,D);case 3:return re.visitGroup(v,D);case 4:return re.visitAnimate(v,D);case 5:return re.visitKeyframes(v,D);case 6:return re.visitStyle(v,D);case 8:return re.visitReference(v,D);case 9:return re.visitAnimateChild(v,D);case 10:return re.visitAnimateRef(v,D);case 11:return re.visitQuery(v,D);case 12:return re.visitStagger(v,D);default:throw function Te(re){return new u.vHH(3004,z)}()}}function Ur(re,v){return window.getComputedStyle(re)[v]}function _n(re,v){const D=[];return"string"==typeof re?re.split(/\s*,\s*/).forEach(B=>function er(re,v,D){if(":"==re[0]){const Nt=function Ln(re,v){switch(re){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(D,B)=>parseFloat(B)>parseFloat(D);case":decrement":return(D,B)=>parseFloat(B)<parseFloat(D);default:return v.push(function Tt(re){return new u.vHH(3016,z)}()),"* => *"}}(re,D);if("function"==typeof Nt)return void v.push(Nt);re=Nt}const B=re.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==B||B.length<4)return D.push(function le(re){return new u.vHH(3015,z)}()),v;const ue=B[1],Oe=B[2],it=B[3];v.push(qn(ue,it));"<"==Oe[0]&&!("*"==ue&&"*"==it)&&v.push(qn(it,ue))}(B,D,v)):D.push(re),D}const lr=new Set(["true","1"]),zr=new Set(["false","0"]);function qn(re,v){const D=lr.has(re)||zr.has(re),B=lr.has(v)||zr.has(v);return(ue,Oe)=>{let it="*"==re||re==ue,ot="*"==v||v==Oe;return!it&&D&&"boolean"==typeof ue&&(it=ue?lr.has(re):zr.has(re)),!ot&&B&&"boolean"==typeof Oe&&(ot=Oe?lr.has(v):zr.has(v)),it&&ot}}const si=new RegExp("s*:selfs*,?","g");function Xi(re,v,D,B){return new Vn(re).build(v,D,B)}class Vn{constructor(v){this._driver=v}build(v,D,B){const ue=new ct(D);this._resetContextStyleTimingState(ue);const Oe=On(this,Re(v),ue);return ue.unsupportedCSSPropertiesFound.size&&ue.unsupportedCSSPropertiesFound.keys(),Oe}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles={},v.collectedStyles[""]={},v.currentTime=0}visitTrigger(v,D){let B=D.queryCount=0,ue=D.depCount=0;const Oe=[],it=[];return"@"==v.name.charAt(0)&&D.errors.push(function Xe(){return new u.vHH(3006,z)}()),v.definitions.forEach(ot=>{if(this._resetContextStyleTimingState(D),0==ot.type){const Nt=ot,Jt=Nt.name;Jt.toString().split(/\s*,\s*/).forEach(Hn=>{Nt.name=Hn,Oe.push(this.visitState(Nt,D))}),Nt.name=Jt}else if(1==ot.type){const Nt=this.visitTransition(ot,D);B+=Nt.queryCount,ue+=Nt.depCount,it.push(Nt)}else D.errors.push(function tt(){return new u.vHH(3007,z)}())}),{type:7,name:v.name,states:Oe,transitions:it,queryCount:B,depCount:ue,options:null}}visitState(v,D){const B=this.visitStyle(v.styles,D),ue=v.options&&v.options.params||null;if(B.containsDynamicStyles){const Oe=new Set,it=ue||{};B.styles.forEach(ot=>{if(Pt(ot)){const Nt=ot;Object.keys(Nt).forEach(Jt=>{J(Nt[Jt]).forEach(Hn=>{it.hasOwnProperty(Hn)||Oe.add(Hn)})})}}),Oe.size&&(ne(Oe.values()),D.errors.push(function Ze(re,v){return new u.vHH(3008,z)}()))}return{type:0,name:v.name,style:B,options:ue?{params:ue}:null}}visitTransition(v,D){D.queryCount=0,D.depCount=0;const B=On(this,Re(v.animation),D);return{type:1,matchers:_n(v.expr,D.errors),animation:B,queryCount:D.queryCount,depCount:D.depCount,options:ln(v.options)}}visitSequence(v,D){return{type:2,steps:v.steps.map(B=>On(this,B,D)),options:ln(v.options)}}visitGroup(v,D){const B=D.currentTime;let ue=0;const Oe=v.steps.map(it=>{D.currentTime=B;const ot=On(this,it,D);return ue=Math.max(ue,D.currentTime),ot});return D.currentTime=ue,{type:3,steps:Oe,options:ln(v.options)}}visitAnimate(v,D){const B=function on(re,v){let D=null;if(re.hasOwnProperty("duration"))D=re;else if("number"==typeof re)return Cn(w(re,v).duration,0,"");const B=re;if(B.split(/\s+/).some(Oe=>"{"==Oe.charAt(0)&&"{"==Oe.charAt(1))){const Oe=Cn(0,0,"");return Oe.dynamic=!0,Oe.strValue=B,Oe}return D=D||w(B,v),Cn(D.duration,D.delay,D.easing)}(v.timings,D.errors);D.currentAnimateTimings=B;let ue,Oe=v.styles?v.styles:(0,G.oB)({});if(5==Oe.type)ue=this.visitKeyframes(Oe,D);else{let it=v.styles,ot=!1;if(!it){ot=!0;const Jt={};B.easing&&(Jt.easing=B.easing),it=(0,G.oB)(Jt)}D.currentTime+=B.duration+B.delay;const Nt=this.visitStyle(it,D);Nt.isEmptyStep=ot,ue=Nt}return D.currentAnimateTimings=null,{type:4,timings:B,style:ue,options:null}}visitStyle(v,D){const B=this._makeStyleAst(v,D);return this._validateStyleAst(B,D),B}_makeStyleAst(v,D){const B=[];Array.isArray(v.styles)?v.styles.forEach(it=>{"string"==typeof it?it==G.l3?B.push(it):D.errors.push(function Dt(re){return new u.vHH(3002,z)}()):B.push(it)}):B.push(v.styles);let ue=!1,Oe=null;return B.forEach(it=>{if(Pt(it)){const ot=it,Nt=ot.easing;if(Nt&&(Oe=Nt,delete ot.easing),!ue)for(let Jt in ot)if(ot[Jt].toString().indexOf("{{")>=0){ue=!0;break}}}),{type:6,styles:B,easing:Oe,offset:v.offset,containsDynamicStyles:ue,options:null}}_validateStyleAst(v,D){const B=D.currentAnimateTimings;let ue=D.currentTime,Oe=D.currentTime;B&&Oe>0&&(Oe-=B.duration+B.delay),v.styles.forEach(it=>{"string"!=typeof it&&Object.keys(it).forEach(ot=>{if(!this._driver.validateStyleProperty(ot))return delete it[ot],void D.unsupportedCSSPropertiesFound.add(ot);const Nt=D.collectedStyles[D.currentQuerySelector],Jt=Nt[ot];let Hn=!0;Jt&&(Oe!=ue&&Oe>=Jt.startTime&&ue<=Jt.endTime&&(D.errors.push(function pt(re,v,D,B,ue){return new u.vHH(3010,z)}()),Hn=!1),Oe=Jt.startTime),Hn&&(Nt[ot]={startTime:Oe,endTime:ue}),D.options&&function se(re,v,D){const B=v.params||{},ue=J(re);ue.length&&ue.forEach(Oe=>{B.hasOwnProperty(Oe)||D.push(function ke(re){return new u.vHH(3001,z)}())})}(it[ot],D.options,D.errors)})})}visitKeyframes(v,D){const B={type:5,styles:[],options:null};if(!D.currentAnimateTimings)return D.errors.push(function Ye(){return new u.vHH(3011,z)}()),B;let Oe=0;const it=[];let ot=!1,Nt=!1,Jt=0;const Hn=v.steps.map(Di=>{const Bi=this._makeStyleAst(Di,D);let ms=null!=Bi.offset?Bi.offset:function st(re){if("string"==typeof re)return null;let v=null;if(Array.isArray(re))re.forEach(D=>{if(Pt(D)&&D.hasOwnProperty("offset")){const B=D;v=parseFloat(B.offset),delete B.offset}});else if(Pt(re)&&re.hasOwnProperty("offset")){const D=re;v=parseFloat(D.offset),delete D.offset}return v}(Bi.styles),di=0;return null!=ms&&(Oe++,di=Bi.offset=ms),Nt=Nt||di<0||di>1,ot=ot||di<Jt,Jt=di,it.push(di),Bi});Nt&&D.errors.push(function Ut(){return new u.vHH(3012,z)}()),ot&&D.errors.push(function $e(){return new u.vHH(3200,z)}());const Qn=v.steps.length;let br=0;Oe>0&&Oe<Qn?D.errors.push(function De(){return new u.vHH(3202,z)}()):0==Oe&&(br=1/(Qn-1));const kr=Qn-1,ur=D.currentTime,Vr=D.currentAnimateTimings,gi=Vr.duration;return Hn.forEach((Di,Bi)=>{const ms=br>0?Bi==kr?1:br*Bi:it[Bi],di=ms*gi;D.currentTime=ur+Vr.delay+di,Vr.duration=di,this._validateStyleAst(Di,D),Di.offset=ms,B.styles.push(Di)}),B}visitReference(v,D){return{type:8,animation:On(this,Re(v.animation),D),options:ln(v.options)}}visitAnimateChild(v,D){return D.depCount++,{type:9,options:ln(v.options)}}visitAnimateRef(v,D){return{type:10,animation:this.visitReference(v.animation,D),options:ln(v.options)}}visitQuery(v,D){const B=D.currentQuerySelector,ue=v.options||{};D.queryCount++,D.currentQuery=v;const[Oe,it]=function pr(re){const v=!!re.split(/\s*,\s*/).find(D=>":self"==D);return v&&(re=re.replace(si,"")),re=re.replace(/@\*/g,at).replace(/@\w+/g,D=>at+"-"+D.substr(1)).replace(/:animating/g,ye),[re,v]}(v.selector);D.currentQuerySelector=B.length?B+" "+Oe:Oe,Pn(D.collectedStyles,D.currentQuerySelector,{});const ot=On(this,Re(v.animation),D);return D.currentQuery=null,D.currentQuerySelector=B,{type:11,selector:Oe,limit:ue.limit||0,optional:!!ue.optional,includeSelf:it,animation:ot,originalSelector:v.selector,options:ln(v.options)}}visitStagger(v,D){D.currentQuery||D.errors.push(function Se(){return new u.vHH(3013,z)}());const B="full"===v.timings?{duration:0,delay:0,easing:"full"}:w(v.timings,D.errors,!0);return{type:12,animation:On(this,Re(v.animation),D),timings:B,options:null}}}class ct{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Pt(re){return!Array.isArray(re)&&"object"==typeof re}function ln(re){return re?(re=be(re)).params&&(re.params=function ti(re){return re?be(re):null}(re.params)):re={},re}function Cn(re,v,D){return{duration:re,delay:v,easing:D}}function Un(re,v,D,B,ue,Oe,it=null,ot=!1){return{type:1,element:re,keyframes:v,preStyleProps:D,postStyleProps:B,duration:ue,delay:Oe,totalTime:ue+Oe,easing:it,subTimeline:ot}}class Mr{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,D){let B=this._map.get(v);B||this._map.set(v,B=[]),B.push(...D)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const Ci=new RegExp(":enter","g"),ys=new RegExp(":leave","g");function Zi(re,v,D,B,ue,Oe={},it={},ot,Nt,Jt=[]){return(new Mo).buildKeyframes(re,v,D,B,ue,Oe,it,ot,Nt,Jt)}class Mo{buildKeyframes(v,D,B,ue,Oe,it,ot,Nt,Jt,Hn=[]){Jt=Jt||new Mr;const Qn=new Gs(v,D,Jt,ue,Oe,Hn,[]);Qn.options=Nt,Qn.currentTimeline.setStyles([it],null,Qn.errors,Nt),On(this,B,Qn);const br=Qn.timelines.filter(kr=>kr.containsAnimation());if(Object.keys(ot).length){let kr;for(let ur=br.length-1;ur>=0;ur--){const Vr=br[ur];if(Vr.element===D){kr=Vr;break}}kr&&!kr.allowOnlyTimelineStyles()&&kr.setStyles([ot],null,Qn.errors,Nt)}return br.length?br.map(kr=>kr.buildKeyframes()):[Un(D,[],[],[],0,0,"",!1)]}visitTrigger(v,D){}visitState(v,D){}visitTransition(v,D){}visitAnimateChild(v,D){const B=D.subInstructions.get(D.element);if(B){const ue=D.createSubContext(v.options),Oe=D.currentTimeline.currentTime,it=this._visitSubInstructions(B,ue,ue.options);Oe!=it&&D.transformIntoNewTimeline(it)}D.previousNode=v}visitAnimateRef(v,D){const B=D.createSubContext(v.options);B.transformIntoNewTimeline(),this.visitReference(v.animation,B),D.transformIntoNewTimeline(B.currentTimeline.currentTime),D.previousNode=v}_visitSubInstructions(v,D,B){let Oe=D.currentTimeline.currentTime;const it=null!=B.duration?Z(B.duration):null,ot=null!=B.delay?Z(B.delay):null;return 0!==it&&v.forEach(Nt=>{const Jt=D.appendInstructionToTimeline(Nt,it,ot);Oe=Math.max(Oe,Jt.duration+Jt.delay)}),Oe}visitReference(v,D){D.updateOptions(v.options,!0),On(this,v.animation,D),D.previousNode=v}visitSequence(v,D){const B=D.subContextCount;let ue=D;const Oe=v.options;if(Oe&&(Oe.params||Oe.delay)&&(ue=D.createSubContext(Oe),ue.transformIntoNewTimeline(),null!=Oe.delay)){6==ue.previousNode.type&&(ue.currentTimeline.snapshotCurrentStyles(),ue.previousNode=Mi);const it=Z(Oe.delay);ue.delayNextStep(it)}v.steps.length&&(v.steps.forEach(it=>On(this,it,ue)),ue.currentTimeline.applyStylesToKeyframe(),ue.subContextCount>B&&ue.transformIntoNewTimeline()),D.previousNode=v}visitGroup(v,D){const B=[];let ue=D.currentTimeline.currentTime;const Oe=v.options&&v.options.delay?Z(v.options.delay):0;v.steps.forEach(it=>{const ot=D.createSubContext(v.options);Oe&&ot.delayNextStep(Oe),On(this,it,ot),ue=Math.max(ue,ot.currentTimeline.currentTime),B.push(ot.currentTimeline)}),B.forEach(it=>D.currentTimeline.mergeTimelineCollectedStyles(it)),D.transformIntoNewTimeline(ue),D.previousNode=v}_visitTiming(v,D){if(v.dynamic){const B=v.strValue;return w(D.params?Q(B,D.params,D.errors):B,D.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,D){const B=D.currentAnimateTimings=this._visitTiming(v.timings,D),ue=D.currentTimeline;B.delay&&(D.incrementTime(B.delay),ue.snapshotCurrentStyles());const Oe=v.style;5==Oe.type?this.visitKeyframes(Oe,D):(D.incrementTime(B.duration),this.visitStyle(Oe,D),ue.applyStylesToKeyframe()),D.currentAnimateTimings=null,D.previousNode=v}visitStyle(v,D){const B=D.currentTimeline,ue=D.currentAnimateTimings;!ue&&B.getCurrentStyleProperties().length&&B.forwardFrame();const Oe=ue&&ue.easing||v.easing;v.isEmptyStep?B.applyEmptyStep(Oe):B.setStyles(v.styles,Oe,D.errors,D.options),D.previousNode=v}visitKeyframes(v,D){const B=D.currentAnimateTimings,ue=D.currentTimeline.duration,Oe=B.duration,ot=D.createSubContext().currentTimeline;ot.easing=B.easing,v.styles.forEach(Nt=>{ot.forwardTime((Nt.offset||0)*Oe),ot.setStyles(Nt.styles,Nt.easing,D.errors,D.options),ot.applyStylesToKeyframe()}),D.currentTimeline.mergeTimelineCollectedStyles(ot),D.transformIntoNewTimeline(ue+Oe),D.previousNode=v}visitQuery(v,D){const B=D.currentTimeline.currentTime,ue=v.options||{},Oe=ue.delay?Z(ue.delay):0;Oe&&(6===D.previousNode.type||0==B&&D.currentTimeline.getCurrentStyleProperties().length)&&(D.currentTimeline.snapshotCurrentStyles(),D.previousNode=Mi);let it=B;const ot=D.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!ue.optional,D.errors);D.currentQueryTotal=ot.length;let Nt=null;ot.forEach((Jt,Hn)=>{D.currentQueryIndex=Hn;const Qn=D.createSubContext(v.options,Jt);Oe&&Qn.delayNextStep(Oe),Jt===D.element&&(Nt=Qn.currentTimeline),On(this,v.animation,Qn),Qn.currentTimeline.applyStylesToKeyframe(),it=Math.max(it,Qn.currentTimeline.currentTime)}),D.currentQueryIndex=0,D.currentQueryTotal=0,D.transformIntoNewTimeline(it),Nt&&(D.currentTimeline.mergeTimelineCollectedStyles(Nt),D.currentTimeline.snapshotCurrentStyles()),D.previousNode=v}visitStagger(v,D){const B=D.parentContext,ue=D.currentTimeline,Oe=v.timings,it=Math.abs(Oe.duration),ot=it*(D.currentQueryTotal-1);let Nt=it*D.currentQueryIndex;switch(Oe.duration<0?"reverse":Oe.easing){case"reverse":Nt=ot-Nt;break;case"full":Nt=B.currentStaggerTime}const Hn=D.currentTimeline;Nt&&Hn.delayNextStep(Nt);const Qn=Hn.currentTime;On(this,v.animation,D),D.previousNode=v,B.currentStaggerTime=ue.currentTime-Qn+(ue.startTime-B.currentTimeline.startTime)}}const Mi={};class Gs{constructor(v,D,B,ue,Oe,it,ot,Nt){this._driver=v,this.element=D,this.subInstructions=B,this._enterClassName=ue,this._leaveClassName=Oe,this.errors=it,this.timelines=ot,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Nt||new vs(this._driver,D,0),ot.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,D){if(!v)return;const B=v;let ue=this.options;null!=B.duration&&(ue.duration=Z(B.duration)),null!=B.delay&&(ue.delay=Z(B.delay));const Oe=B.params;if(Oe){let it=ue.params;it||(it=this.options.params={}),Object.keys(Oe).forEach(ot=>{(!D||!it.hasOwnProperty(ot))&&(it[ot]=Q(Oe[ot],it,this.errors))})}}_copyOptions(){const v={};if(this.options){const D=this.options.params;if(D){const B=v.params={};Object.keys(D).forEach(ue=>{B[ue]=D[ue]})}}return v}createSubContext(v=null,D,B){const ue=D||this.element,Oe=new Gs(this._driver,ue,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ue,B||0));return Oe.previousNode=this.previousNode,Oe.currentAnimateTimings=this.currentAnimateTimings,Oe.options=this._copyOptions(),Oe.updateOptions(v),Oe.currentQueryIndex=this.currentQueryIndex,Oe.currentQueryTotal=this.currentQueryTotal,Oe.parentContext=this,this.subContextCount++,Oe}transformIntoNewTimeline(v){return this.previousNode=Mi,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,D,B){const ue={duration:null!=D?D:v.duration,delay:this.currentTimeline.currentTime+(null!=B?B:0)+v.delay,easing:""},Oe=new so(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,ue,v.stretchStartingKeyframe);return this.timelines.push(Oe),ue}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,D,B,ue,Oe,it){let ot=[];if(ue&&ot.push(this.element),v.length>0){v=(v=v.replace(Ci,"."+this._enterClassName)).replace(ys,"."+this._leaveClassName);let Jt=this._driver.query(this.element,v,1!=B);0!==B&&(Jt=B<0?Jt.slice(Jt.length+B,Jt.length):Jt.slice(0,B)),ot.push(...Jt)}return!Oe&&0==ot.length&&it.push(function Le(re){return new u.vHH(3014,z)}()),ot}}class vs{constructor(v,D,B,ue){this._driver=v,this.element=D,this.startTime=B,this._elementTimelineStylesLookup=ue,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(D),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(D,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const D=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||D?(this.forwardTime(this.currentTime+v),D&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,D){return this.applyStylesToKeyframe(),new vs(this._driver,v,D||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,D){this._localTimelineStyles[v]=D,this._globalTimelineStyles[v]=D,this._styleSummary[v]={time:this.currentTime,value:D}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&(this._previousKeyframe.easing=v),Object.keys(this._globalTimelineStyles).forEach(D=>{this._backFill[D]=this._globalTimelineStyles[D]||G.l3,this._currentKeyframe[D]=G.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,D,B,ue){D&&(this._previousKeyframe.easing=D);const Oe=ue&&ue.params||{},it=function Ps(re,v){const D={};let B;return re.forEach(ue=>{"*"===ue?(B=B||Object.keys(v),B.forEach(Oe=>{D[Oe]=G.l3})):Ae(ue,!1,D)}),D}(v,this._globalTimelineStyles);Object.keys(it).forEach(ot=>{const Nt=Q(it[ot],Oe,B);this._pendingStyles[ot]=Nt,this._localTimelineStyles.hasOwnProperty(ot)||(this._backFill[ot]=this._globalTimelineStyles.hasOwnProperty(ot)?this._globalTimelineStyles[ot]:G.l3),this._updateStyle(ot,Nt)})}applyStylesToKeyframe(){const v=this._pendingStyles,D=Object.keys(v);0!=D.length&&(this._pendingStyles={},D.forEach(B=>{this._currentKeyframe[B]=v[B]}),Object.keys(this._localTimelineStyles).forEach(B=>{this._currentKeyframe.hasOwnProperty(B)||(this._currentKeyframe[B]=this._localTimelineStyles[B])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(v=>{const D=this._localTimelineStyles[v];this._pendingStyles[v]=D,this._updateStyle(v,D)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let D in this._currentKeyframe)v.push(D);return v}mergeTimelineCollectedStyles(v){Object.keys(v._styleSummary).forEach(D=>{const B=this._styleSummary[D],ue=v._styleSummary[D];(!B||ue.time>B.time)&&this._updateStyle(D,ue.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,D=new Set,B=1===this._keyframes.size&&0===this.duration;let ue=[];this._keyframes.forEach((ot,Nt)=>{const Jt=Ae(ot,!0);Object.keys(Jt).forEach(Hn=>{const Qn=Jt[Hn];Qn==G.k1?v.add(Hn):Qn==G.l3&&D.add(Hn)}),B||(Jt.offset=Nt/this.duration),ue.push(Jt)});const Oe=v.size?ne(v.values()):[],it=D.size?ne(D.values()):[];if(B){const ot=ue[0],Nt=be(ot);ot.offset=0,Nt.offset=1,ue=[ot,Nt]}return Un(this.element,ue,Oe,it,this.duration,this.startTime,this.easing,!1)}}class so extends vs{constructor(v,D,B,ue,Oe,it,ot=!1){super(v,D,it.delay),this.keyframes=B,this.preStyleProps=ue,this.postStyleProps=Oe,this._stretchStartingKeyframe=ot,this.timings={duration:it.duration,delay:it.delay,easing:it.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:D,duration:B,easing:ue}=this.timings;if(this._stretchStartingKeyframe&&D){const Oe=[],it=B+D,ot=D/it,Nt=Ae(v[0],!1);Nt.offset=0,Oe.push(Nt);const Jt=Ae(v[0],!1);Jt.offset=ks(ot),Oe.push(Jt);const Hn=v.length-1;for(let Qn=1;Qn<=Hn;Qn++){let br=Ae(v[Qn],!1);br.offset=ks((D+br.offset*B)/it),Oe.push(br)}B=it,D=0,ue="",v=Oe}return Un(this.element,v,this.preStyleProps,this.postStyleProps,B,D,ue,!0)}}function ks(re,v=3){const D=Math.pow(10,v-1);return Math.round(re*D)/D}class Fs{}class Ls extends Fs{normalizePropertyName(v,D){return gt(v)}normalizeStyleValue(v,D,B,ue){let Oe="";const it=B.toString().trim();if(Ji[D]&&0!==B&&"0"!==B)if("number"==typeof B)Oe="px";else{const ot=B.match(/^[+-]?[\d\.]+([a-z]*)$/);ot&&0==ot[1].length&&ue.push(function Fe(re,v){return new u.vHH(3005,z)}())}return it+Oe}}const Ji=(()=>function Or(re){const v={};return re.forEach(D=>v[D]=!0),v}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Js(re,v,D,B,ue,Oe,it,ot,Nt,Jt,Hn,Qn,br){return{type:0,element:re,triggerName:v,isRemovalTransition:ue,fromState:D,fromStyles:Oe,toState:B,toStyles:it,timelines:ot,queriedElements:Nt,preStyleProps:Jt,postStyleProps:Hn,totalTime:Qn,errors:br}}const rs={};class is{constructor(v,D,B){this._triggerName=v,this.ast=D,this._stateStyles=B}match(v,D,B,ue){return function ji(re,v,D,B,ue){return re.some(Oe=>Oe(v,D,B,ue))}(this.ast.matchers,v,D,B,ue)}buildStyles(v,D,B){const ue=this._stateStyles["*"],Oe=this._stateStyles[v],it=ue?ue.buildStyles(D,B):{};return Oe?Oe.buildStyles(D,B):it}build(v,D,B,ue,Oe,it,ot,Nt,Jt,Hn){const Qn=[],br=this.ast.options&&this.ast.options.params||rs,ur=this.buildStyles(B,ot&&ot.params||rs,Qn),Vr=Nt&&Nt.params||rs,gi=this.buildStyles(ue,Vr,Qn),Di=new Set,Bi=new Map,ms=new Map,di="void"===ue,gs={params:Object.assign(Object.assign({},br),Vr)},Ei=Hn?[]:Zi(v,D,this.ast.animation,Oe,it,ur,gi,gs,Jt,Qn);let zi=0;if(Ei.forEach(qs=>{zi=Math.max(qs.duration+qs.delay,zi)}),Qn.length)return Js(D,this._triggerName,B,ue,di,ur,gi,[],[],Bi,ms,zi,Qn);Ei.forEach(qs=>{const Hs=qs.element,ri=Pn(Bi,Hs,{});qs.preStyleProps.forEach(ts=>ri[ts]=!0);const Gi=Pn(ms,Hs,{});qs.postStyleProps.forEach(ts=>Gi[ts]=!0),Hs!==D&&Di.add(Hs)});const ei=ne(Di.values());return Js(D,this._triggerName,B,ue,di,ur,gi,Ei,ei,Bi,ms,zi)}}class xi{constructor(v,D,B){this.styles=v,this.defaultParams=D,this.normalizer=B}buildStyles(v,D){const B={},ue=be(this.defaultParams);return Object.keys(v).forEach(Oe=>{const it=v[Oe];null!=it&&(ue[Oe]=it)}),this.styles.styles.forEach(Oe=>{if("string"!=typeof Oe){const it=Oe;Object.keys(it).forEach(ot=>{let Nt=it[ot];Nt.length>1&&(Nt=Q(Nt,ue,D));const Jt=this.normalizer.normalizePropertyName(ot,D);Nt=this.normalizer.normalizeStyleValue(ot,Jt,Nt,D),B[Jt]=Nt})}}),B}}class ss{constructor(v,D,B){this.name=v,this.ast=D,this._normalizer=B,this.transitionFactories=[],this.states={},D.states.forEach(ue=>{this.states[ue.name]=new xi(ue.style,ue.options&&ue.options.params||{},B)}),cs(this.states,"true","1"),cs(this.states,"false","0"),D.transitions.forEach(ue=>{this.transitionFactories.push(new is(v,ue,this.states))}),this.fallbackTransition=function us(re,v,D){return new is(re,{type:1,animation:{type:2,steps:[],options:null},matchers:[(it,ot)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,D,B,ue){return this.transitionFactories.find(it=>it.match(v,D,B,ue))||null}matchStyles(v,D,B){return this.fallbackTransition.buildStyles(v,D,B)}}function cs(re,v,D){re.hasOwnProperty(v)?re.hasOwnProperty(D)||(re[D]=re[v]):re.hasOwnProperty(D)&&(re[v]=re[D])}const Li=new Mr;class As{constructor(v,D,B){this.bodyNode=v,this._driver=D,this._normalizer=B,this._animations={},this._playersById={},this.players=[]}register(v,D){const B=[],Oe=Xi(this._driver,D,B,[]);if(B.length)throw function xt(re){return new u.vHH(3503,z)}();this._animations[v]=Oe}_buildPlayer(v,D,B){const ue=v.element,Oe=vr(0,this._normalizer,0,v.keyframes,D,B);return this._driver.animate(ue,Oe,v.duration,v.delay,v.easing,[],!0)}create(v,D,B={}){const ue=[],Oe=this._animations[v];let it;const ot=new Map;if(Oe?(it=Zi(this._driver,D,Oe,wr,rr,{},{},B,Li,ue),it.forEach(Hn=>{const Qn=Pn(ot,Hn.element,{});Hn.postStyleProps.forEach(br=>Qn[br]=null)})):(ue.push(function ut(){return new u.vHH(3300,z)}()),it=[]),ue.length)throw function Kt(re){return new u.vHH(3504,z)}();ot.forEach((Hn,Qn)=>{Object.keys(Hn).forEach(br=>{Hn[br]=this._driver.computeStyle(Qn,br,G.l3)})});const Jt=Gn(it.map(Hn=>{const Qn=ot.get(Hn.element);return this._buildPlayer(Hn,{},Qn)}));return this._playersById[v]=Jt,Jt.onDestroy(()=>this.destroy(v)),this.players.push(Jt),Jt}destroy(v){const D=this._getPlayer(v);D.destroy(),delete this._playersById[v];const B=this.players.indexOf(D);B>=0&&this.players.splice(B,1)}_getPlayer(v){const D=this._playersById[v];if(!D)throw function tn(re){return new u.vHH(3301,z)}();return D}listen(v,D,B,ue){const Oe=sr(D,"","","");return Kn(this._getPlayer(v),B,Oe,ue),()=>{}}command(v,D,B,ue){if("register"==B)return void this.register(v,ue[0]);if("create"==B)return void this.create(v,D,ue[0]||{});const Oe=this._getPlayer(v);switch(B){case"play":Oe.play();break;case"pause":Oe.pause();break;case"reset":Oe.reset();break;case"restart":Oe.restart();break;case"finish":Oe.finish();break;case"init":Oe.init();break;case"setPosition":Oe.setPosition(parseFloat(ue[0]));break;case"destroy":this.destroy(v)}}}const Vs="ng-animate-queued",$i="ng-animate-disabled",oi=[],fs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Us={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ci="__ng_removed";class Qt{constructor(v,D=""){this.namespaceId=D;const B=v&&v.hasOwnProperty("value");if(this.value=function j(re){return null!=re?re:null}(B?v.value:v),B){const Oe=be(v);delete Oe.value,this.options=Oe}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(v){const D=v.params;if(D){const B=this.options.params;Object.keys(D).forEach(ue=>{null==B[ue]&&(B[ue]=D[ue])})}}}const Nr="void",Yr=new Qt(Nr);class Ti{constructor(v,D,B){this.id=v,this.hostElement=D,this._engine=B,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,Xt(D,this._hostClassName)}listen(v,D,B,ue){if(!this._triggers.hasOwnProperty(D))throw function dn(re,v){return new u.vHH(3302,z)}();if(null==B||0==B.length)throw function rn(re){return new u.vHH(3303,z)}();if(!function $(re){return"start"==re||"done"==re}(B))throw function At(re,v){return new u.vHH(3400,z)}();const Oe=Pn(this._elementListeners,v,[]),it={name:D,phase:B,callback:ue};Oe.push(it);const ot=Pn(this._engine.statesByElement,v,{});return ot.hasOwnProperty(D)||(Xt(v,tr),Xt(v,tr+"-"+D),ot[D]=Yr),()=>{this._engine.afterFlush(()=>{const Nt=Oe.indexOf(it);Nt>=0&&Oe.splice(Nt,1),this._triggers[D]||delete ot[D]})}}register(v,D){return!this._triggers[v]&&(this._triggers[v]=D,!0)}_getTrigger(v){const D=this._triggers[v];if(!D)throw function Bt(re){return new u.vHH(3401,z)}();return D}trigger(v,D,B,ue=!0){const Oe=this._getTrigger(D),it=new os(this.id,D,v);let ot=this._engine.statesByElement.get(v);ot||(Xt(v,tr),Xt(v,tr+"-"+D),this._engine.statesByElement.set(v,ot={}));let Nt=ot[D];const Jt=new Qt(B,this.id);if(!(B&&B.hasOwnProperty("value"))&&Nt&&Jt.absorbOptions(Nt.options),ot[D]=Jt,Nt||(Nt=Yr),Jt.value!==Nr&&Nt.value===Jt.value){if(!function jr(re,v){const D=Object.keys(re),B=Object.keys(v);if(D.length!=B.length)return!1;for(let ue=0;ue<D.length;ue++){const Oe=D[ue];if(!v.hasOwnProperty(Oe)||re[Oe]!==v[Oe])return!1}return!0}(Nt.params,Jt.params)){const Vr=[],gi=Oe.matchStyles(Nt.value,Nt.params,Vr),Di=Oe.matchStyles(Jt.value,Jt.params,Vr);Vr.length?this._engine.reportError(Vr):this._engine.afterFlush(()=>{we(v,gi),It(v,Di)})}return}const br=Pn(this._engine.playersByElement,v,[]);br.forEach(Vr=>{Vr.namespaceId==this.id&&Vr.triggerName==D&&Vr.queued&&Vr.destroy()});let kr=Oe.matchTransition(Nt.value,Jt.value,v,Jt.params),ur=!1;if(!kr){if(!ue)return;kr=Oe.fallbackTransition,ur=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:D,transition:kr,fromState:Nt,toState:Jt,player:it,isFallbackTransition:ur}),ur||(Xt(v,Vs),it.onStart(()=>{kn(v,Vs)})),it.onDone(()=>{let Vr=this.players.indexOf(it);Vr>=0&&this.players.splice(Vr,1);const gi=this._engine.playersByElement.get(v);if(gi){let Di=gi.indexOf(it);Di>=0&&gi.splice(Di,1)}}),this.players.push(it),br.push(it),it}deregister(v){delete this._triggers[v],this._engine.statesByElement.forEach((D,B)=>{delete D[v]}),this._elementListeners.forEach((D,B)=>{this._elementListeners.set(B,D.filter(ue=>ue.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const D=this._engine.playersByElement.get(v);D&&(D.forEach(B=>B.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,D){const B=this._engine.driver.query(v,at,!0);B.forEach(ue=>{if(ue[ci])return;const Oe=this._engine.fetchNamespacesByElement(ue);Oe.size?Oe.forEach(it=>it.triggerLeaveAnimation(ue,D,!1,!0)):this.clearElementCache(ue)}),this._engine.afterFlushAnimationsDone(()=>B.forEach(ue=>this.clearElementCache(ue)))}triggerLeaveAnimation(v,D,B,ue){const Oe=this._engine.statesByElement.get(v),it=new Map;if(Oe){const ot=[];if(Object.keys(Oe).forEach(Nt=>{if(it.set(Nt,Oe[Nt].value),this._triggers[Nt]){const Jt=this.trigger(v,Nt,Nr,ue);Jt&&ot.push(Jt)}}),ot.length)return this._engine.markElementAsRemoved(this.id,v,!0,D,it),B&&Gn(ot).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const D=this._elementListeners.get(v),B=this._engine.statesByElement.get(v);if(D&&B){const ue=new Set;D.forEach(Oe=>{const it=Oe.name;if(ue.has(it))return;ue.add(it);const Nt=this._triggers[it].fallbackTransition,Jt=B[it]||Yr,Hn=new Qt(Nr),Qn=new os(this.id,it,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:it,transition:Nt,fromState:Jt,toState:Hn,player:Qn,isFallbackTransition:!0})})}}removeNode(v,D){const B=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,D),this.triggerLeaveAnimation(v,D,!0))return;let ue=!1;if(B.totalAnimations){const Oe=B.players.length?B.playersByQueriedElement.get(v):[];if(Oe&&Oe.length)ue=!0;else{let it=v;for(;it=it.parentNode;)if(B.statesByElement.get(it)){ue=!0;break}}}if(this.prepareLeaveAnimationListeners(v),ue)B.markElementAsRemoved(this.id,v,!1,D);else{const Oe=v[ci];(!Oe||Oe===fs)&&(B.afterFlush(()=>this.clearElementCache(v)),B.destroyInnerAnimations(v),B._onRemovalComplete(v,D))}}insertNode(v,D){Xt(v,this._hostClassName)}drainQueuedTransitions(v){const D=[];return this._queue.forEach(B=>{const ue=B.player;if(ue.destroyed)return;const Oe=B.element,it=this._elementListeners.get(Oe);it&&it.forEach(ot=>{if(ot.name==B.triggerName){const Nt=sr(Oe,B.triggerName,B.fromState.value,B.toState.value);Nt._data=v,Kn(B.player,ot.phase,Nt,ot.callback)}}),ue.markedForDestroy?this._engine.afterFlush(()=>{ue.destroy()}):D.push(B)}),this._queue=[],D.sort((B,ue)=>{const Oe=B.transition.ast.depCount,it=ue.transition.ast.depCount;return 0==Oe||0==it?Oe-it:this._engine.driver.containsElement(B.element,ue.element)?1:-1})}destroy(v){this.players.forEach(D=>D.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let D=!1;return this._elementListeners.has(v)&&(D=!0),D=!!this._queue.find(B=>B.element===v)||D,D}}class bs{constructor(v,D,B){this.bodyNode=v,this.driver=D,this._normalizer=B,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ue,Oe)=>{}}_onRemovalComplete(v,D){this.onRemovalComplete(v,D)}get queuedPlayers(){const v=[];return this._namespaceList.forEach(D=>{D.players.forEach(B=>{B.queued&&v.push(B)})}),v}createNamespace(v,D){const B=new Ti(v,D,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,D)?this._balanceNamespaceList(B,D):(this.newHostElements.set(D,B),this.collectEnterElement(D)),this._namespaceLookup[v]=B}_balanceNamespaceList(v,D){const B=this._namespaceList,ue=this.namespacesByHostElement,Oe=B.length-1;if(Oe>=0){let it=!1;if(void 0!==this.driver.getParentElement){let ot=this.driver.getParentElement(D);for(;ot;){const Nt=ue.get(ot);if(Nt){const Jt=B.indexOf(Nt);B.splice(Jt+1,0,v),it=!0;break}ot=this.driver.getParentElement(ot)}}else for(let ot=Oe;ot>=0;ot--)if(this.driver.containsElement(B[ot].hostElement,D)){B.splice(ot+1,0,v),it=!0;break}it||B.unshift(v)}else B.push(v);return ue.set(D,v),v}register(v,D){let B=this._namespaceLookup[v];return B||(B=this.createNamespace(v,D)),B}registerTrigger(v,D,B){let ue=this._namespaceLookup[v];ue&&ue.register(D,B)&&this.totalAnimations++}destroy(v,D){if(!v)return;const B=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(B.hostElement),delete this._namespaceLookup[v];const ue=this._namespaceList.indexOf(B);ue>=0&&this._namespaceList.splice(ue,1)}),this.afterFlushAnimationsDone(()=>B.destroy(D))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const D=new Set,B=this.statesByElement.get(v);if(B){const ue=Object.keys(B);for(let Oe=0;Oe<ue.length;Oe++){const it=B[ue[Oe]].namespaceId;if(it){const ot=this._fetchNamespace(it);ot&&D.add(ot)}}}return D}trigger(v,D,B,ue){if(oe(D)){const Oe=this._fetchNamespace(v);if(Oe)return Oe.trigger(D,B,ue),!0}return!1}insertNode(v,D,B,ue){if(!oe(D))return;const Oe=D[ci];if(Oe&&Oe.setForRemoval){Oe.setForRemoval=!1,Oe.setForMove=!0;const it=this.collectedLeaveElements.indexOf(D);it>=0&&this.collectedLeaveElements.splice(it,1)}if(v){const it=this._fetchNamespace(v);it&&it.insertNode(D,B)}ue&&this.collectEnterElement(D)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,D){D?this.disabledNodes.has(v)||(this.disabledNodes.add(v),Xt(v,$i)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),kn(v,$i))}removeNode(v,D,B,ue){if(oe(D)){const Oe=v?this._fetchNamespace(v):null;if(Oe?Oe.removeNode(D,ue):this.markElementAsRemoved(v,D,!1,ue),B){const it=this.namespacesByHostElement.get(D);it&&it.id!==v&&it.removeNode(D,ue)}}else this._onRemovalComplete(D,ue)}markElementAsRemoved(v,D,B,ue,Oe){this.collectedLeaveElements.push(D),D[ci]={namespaceId:v,setForRemoval:ue,hasAnimation:B,removedBeforeQueried:!1,previousTriggersValues:Oe}}listen(v,D,B,ue,Oe){return oe(D)?this._fetchNamespace(v).listen(D,B,ue,Oe):()=>{}}_buildInstruction(v,D,B,ue,Oe){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,B,ue,v.fromState.options,v.toState.options,D,Oe)}destroyInnerAnimations(v){let D=this.driver.query(v,at,!0);D.forEach(B=>this.destroyActiveAnimationsForElement(B)),0!=this.playersByQueriedElement.size&&(D=this.driver.query(v,ye,!0),D.forEach(B=>this.finishActiveQueriedAnimationOnElement(B)))}destroyActiveAnimationsForElement(v){const D=this.playersByElement.get(v);D&&D.forEach(B=>{B.queued?B.markedForDestroy=!0:B.destroy()})}finishActiveQueriedAnimationOnElement(v){const D=this.playersByQueriedElement.get(v);D&&D.forEach(B=>B.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return Gn(this.players).onDone(()=>v());v()})}processLeaveNode(v){var D;const B=v[ci];if(B&&B.setForRemoval){if(v[ci]=fs,B.namespaceId){this.destroyInnerAnimations(v);const ue=this._fetchNamespace(B.namespaceId);ue&&ue.clearElementCache(v)}this._onRemovalComplete(v,B.setForRemoval)}(null===(D=v.classList)||void 0===D?void 0:D.contains($i))&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(ue=>{this.markElementAsDisabled(ue,!1)})}flush(v=-1){let D=[];if(this.newHostElements.size&&(this.newHostElements.forEach((B,ue)=>this._balanceNamespaceList(B,ue)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let B=0;B<this.collectedEnterElements.length;B++)Xt(this.collectedEnterElements[B],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const B=[];try{D=this._flushAnimations(B,v)}finally{for(let ue=0;ue<B.length;ue++)B[ue]()}}else for(let B=0;B<this.collectedLeaveElements.length;B++)this.processLeaveNode(this.collectedLeaveElements[B]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(B=>B()),this._flushFns=[],this._whenQuietFns.length){const B=this._whenQuietFns;this._whenQuietFns=[],D.length?Gn(D).onDone(()=>{B.forEach(ue=>ue())}):B.forEach(ue=>ue())}}reportError(v){throw function vn(re){return new u.vHH(3402,z)}()}_flushAnimations(v,D){const B=new Mr,ue=[],Oe=new Map,it=[],ot=new Map,Nt=new Map,Jt=new Map,Hn=new Set;this.disabledNodes.forEach(Nn=>{Hn.add(Nn);const or=this.driver.query(Nn,".ng-animate-queued",!0);for(let Ar=0;Ar<or.length;Ar++)Hn.add(or[Ar])});const Qn=this.bodyNode,br=Array.from(this.statesByElement.keys()),kr=Ft(br,this.collectedEnterElements),ur=new Map;let Vr=0;kr.forEach((Nn,or)=>{const Ar=wr+Vr++;ur.set(or,Ar),Nn.forEach(Tr=>Xt(Tr,Ar))});const gi=[],Di=new Set,Bi=new Set;for(let Nn=0;Nn<this.collectedLeaveElements.length;Nn++){const or=this.collectedLeaveElements[Nn],Ar=or[ci];Ar&&Ar.setForRemoval&&(gi.push(or),Di.add(or),Ar.hasAnimation?this.driver.query(or,".ng-star-inserted",!0).forEach(Tr=>Di.add(Tr)):Bi.add(or))}const ms=new Map,di=Ft(br,Array.from(Di));di.forEach((Nn,or)=>{const Ar=rr+Vr++;ms.set(or,Ar),Nn.forEach(Tr=>Xt(Tr,Ar))}),v.push(()=>{kr.forEach((Nn,or)=>{const Ar=ur.get(or);Nn.forEach(Tr=>kn(Tr,Ar))}),di.forEach((Nn,or)=>{const Ar=ms.get(or);Nn.forEach(Tr=>kn(Tr,Ar))}),gi.forEach(Nn=>{this.processLeaveNode(Nn)})});const gs=[],Ei=[];for(let Nn=this._namespaceList.length-1;Nn>=0;Nn--)this._namespaceList[Nn].drainQueuedTransitions(D).forEach(Ar=>{const Tr=Ar.player,Ni=Ar.element;if(gs.push(Tr),this.collectedEnterElements.length){const yn=Ni[ci];if(yn&&yn.setForMove){if(yn.previousTriggersValues&&yn.previousTriggersValues.has(Ar.triggerName)){const ai=yn.previousTriggersValues.get(Ar.triggerName),ws=this.statesByElement.get(Ar.element);ws&&ws[Ar.triggerName]&&(ws[Ar.triggerName].value=ai)}return void Tr.destroy()}}const as=!Qn||!this.driver.containsElement(Qn,Ni),ii=ms.get(Ni),Ki=ur.get(Ni),_i=this._buildInstruction(Ar,B,Ki,ii,as);if(_i.errors&&_i.errors.length)return void Ei.push(_i);if(as)return Tr.onStart(()=>we(Ni,_i.fromStyles)),Tr.onDestroy(()=>It(Ni,_i.toStyles)),void ue.push(Tr);if(Ar.isFallbackTransition)return Tr.onStart(()=>we(Ni,_i.fromStyles)),Tr.onDestroy(()=>It(Ni,_i.toStyles)),void ue.push(Tr);const Ea=[];_i.timelines.forEach(yn=>{yn.stretchStartingKeyframe=!0,this.disabledNodes.has(yn.element)||Ea.push(yn)}),_i.timelines=Ea,B.append(Ni,_i.timelines),it.push({instruction:_i,player:Tr,element:Ni}),_i.queriedElements.forEach(yn=>Pn(ot,yn,[]).push(Tr)),_i.preStyleProps.forEach((yn,ai)=>{const ws=Object.keys(yn);if(ws.length){let eo=Nt.get(ai);eo||Nt.set(ai,eo=new Set),ws.forEach(Xn=>eo.add(Xn))}}),_i.postStyleProps.forEach((yn,ai)=>{const ws=Object.keys(yn);let eo=Jt.get(ai);eo||Jt.set(ai,eo=new Set),ws.forEach(Xn=>eo.add(Xn))})});if(Ei.length){const Nn=[];Ei.forEach(or=>{Nn.push(function vt(re,v){return new u.vHH(3505,z)}())}),gs.forEach(or=>or.destroy()),this.reportError(Nn)}const zi=new Map,ei=new Map;it.forEach(Nn=>{const or=Nn.element;B.has(or)&&(ei.set(or,or),this._beforeAnimationBuild(Nn.player.namespaceId,Nn.instruction,zi))}),ue.forEach(Nn=>{const or=Nn.element;this._getPreviousPlayers(or,!1,Nn.namespaceId,Nn.triggerName,null).forEach(Tr=>{Pn(zi,or,[]).push(Tr),Tr.destroy()})});const qs=gi.filter(Nn=>Oi(Nn,Nt,Jt)),Hs=new Map;dt(Hs,this.driver,Bi,Jt,G.l3).forEach(Nn=>{Oi(Nn,Nt,Jt)&&qs.push(Nn)});const Gi=new Map;kr.forEach((Nn,or)=>{dt(Gi,this.driver,new Set(Nn),Nt,G.k1)}),qs.forEach(Nn=>{const or=Hs.get(Nn),Ar=Gi.get(Nn);Hs.set(Nn,Object.assign(Object.assign({},or),Ar))});const ts=[],vo=[],Ho={};it.forEach(Nn=>{const{element:or,player:Ar,instruction:Tr}=Nn;if(B.has(or)){if(Hn.has(or))return Ar.onDestroy(()=>It(or,Tr.toStyles)),Ar.disabled=!0,Ar.overrideTotalTime(Tr.totalTime),void ue.push(Ar);let Ni=Ho;if(ei.size>1){let ii=or;const Ki=[];for(;ii=ii.parentNode;){const _i=ei.get(ii);if(_i){Ni=_i;break}Ki.push(ii)}Ki.forEach(_i=>ei.set(_i,Ni))}const as=this._buildAnimation(Ar.namespaceId,Tr,zi,Oe,Gi,Hs);if(Ar.setRealPlayer(as),Ni===Ho)ts.push(Ar);else{const ii=this.playersByElement.get(Ni);ii&&ii.length&&(Ar.parentPlayer=Gn(ii)),ue.push(Ar)}}else we(or,Tr.fromStyles),Ar.onDestroy(()=>It(or,Tr.toStyles)),vo.push(Ar),Hn.has(or)&&ue.push(Ar)}),vo.forEach(Nn=>{const or=Oe.get(Nn.element);if(or&&or.length){const Ar=Gn(or);Nn.setRealPlayer(Ar)}}),ue.forEach(Nn=>{Nn.parentPlayer?Nn.syncPlayerEvents(Nn.parentPlayer):Nn.destroy()});for(let Nn=0;Nn<gi.length;Nn++){const or=gi[Nn],Ar=or[ci];if(kn(or,rr),Ar&&Ar.hasAnimation)continue;let Tr=[];if(ot.size){let as=ot.get(or);as&&as.length&&Tr.push(...as);let ii=this.driver.query(or,ye,!0);for(let Ki=0;Ki<ii.length;Ki++){let _i=ot.get(ii[Ki]);_i&&_i.length&&Tr.push(..._i)}}const Ni=Tr.filter(as=>!as.destroyed);Ni.length?fi(this,or,Ni):this.processLeaveNode(or)}return gi.length=0,ts.forEach(Nn=>{this.players.push(Nn),Nn.onDone(()=>{Nn.destroy();const or=this.players.indexOf(Nn);this.players.splice(or,1)}),Nn.play()}),ts}elementContainsData(v,D){let B=!1;const ue=D[ci];return ue&&ue.setForRemoval&&(B=!0),this.playersByElement.has(D)&&(B=!0),this.playersByQueriedElement.has(D)&&(B=!0),this.statesByElement.has(D)&&(B=!0),this._fetchNamespace(v).elementContainsData(D)||B}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,D,B,ue,Oe){let it=[];if(D){const ot=this.playersByQueriedElement.get(v);ot&&(it=ot)}else{const ot=this.playersByElement.get(v);if(ot){const Nt=!Oe||Oe==Nr;ot.forEach(Jt=>{Jt.queued||!Nt&&Jt.triggerName!=ue||it.push(Jt)})}}return(B||ue)&&(it=it.filter(ot=>!(B&&B!=ot.namespaceId||ue&&ue!=ot.triggerName))),it}_beforeAnimationBuild(v,D,B){const Oe=D.element,it=D.isRemovalTransition?void 0:v,ot=D.isRemovalTransition?void 0:D.triggerName;for(const Nt of D.timelines){const Jt=Nt.element,Hn=Jt!==Oe,Qn=Pn(B,Jt,[]);this._getPreviousPlayers(Jt,Hn,it,ot,D.toState).forEach(kr=>{const ur=kr.getRealPlayer();ur.beforeDestroy&&ur.beforeDestroy(),kr.destroy(),Qn.push(kr)})}we(Oe,D.fromStyles)}_buildAnimation(v,D,B,ue,Oe,it){const ot=D.triggerName,Nt=D.element,Jt=[],Hn=new Set,Qn=new Set,br=D.timelines.map(ur=>{const Vr=ur.element;Hn.add(Vr);const gi=Vr[ci];if(gi&&gi.removedBeforeQueried)return new G.ZN(ur.duration,ur.delay);const Di=Vr!==Nt,Bi=function Wr(re){const v=[];return Hr(re,v),v}((B.get(Vr)||oi).map(zi=>zi.getRealPlayer())).filter(zi=>!!zi.element&&zi.element===Vr),ms=Oe.get(Vr),di=it.get(Vr),gs=vr(0,this._normalizer,0,ur.keyframes,ms,di),Ei=this._buildPlayer(ur,gs,Bi);if(ur.subTimeline&&ue&&Qn.add(Vr),Di){const zi=new os(v,ot,Vr);zi.setRealPlayer(Ei),Jt.push(zi)}return Ei});Jt.forEach(ur=>{Pn(this.playersByQueriedElement,ur.element,[]).push(ur),ur.onDone(()=>function Lr(re,v,D){let B;if(re instanceof Map){if(B=re.get(v),B){if(B.length){const ue=B.indexOf(D);B.splice(ue,1)}0==B.length&&re.delete(v)}}else if(B=re[v],B){if(B.length){const ue=B.indexOf(D);B.splice(ue,1)}0==B.length&&delete re[v]}return B}(this.playersByQueriedElement,ur.element,ur))}),Hn.forEach(ur=>Xt(ur,rt));const kr=Gn(br);return kr.onDestroy(()=>{Hn.forEach(ur=>kn(ur,rt)),It(Nt,D.toStyles)}),Qn.forEach(ur=>{Pn(ue,ur,[]).push(kr)}),kr}_buildPlayer(v,D,B){return D.length>0?this.driver.animate(v.element,D,v.duration,v.delay,v.easing,B):new G.ZN(v.duration,v.delay)}}class os{constructor(v,D,B){this.namespaceId=v,this.triggerName=D,this.element=B,this._player=new G.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,Object.keys(this._queuedCallbacks).forEach(D=>{this._queuedCallbacks[D].forEach(B=>Kn(v,D,void 0,B))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const D=this._player;D.triggerCallback&&v.onStart(()=>D.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,D){Pn(this._queuedCallbacks,v,[]).push(D)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const D=this._player;D.triggerCallback&&D.triggerCallback(v)}}function oe(re){return re&&1===re.nodeType}function Ee(re,v){const D=re.style.display;return re.style.display=null!=v?v:"none",D}function dt(re,v,D,B,ue){const Oe=[];D.forEach(Nt=>Oe.push(Ee(Nt)));const it=[];B.forEach((Nt,Jt)=>{const Hn={};Nt.forEach(Qn=>{const br=Hn[Qn]=v.computeStyle(Jt,Qn,ue);(!br||0==br.length)&&(Jt[ci]=Us,it.push(Jt))}),re.set(Jt,Hn)});let ot=0;return D.forEach(Nt=>Ee(Nt,Oe[ot++])),it}function Ft(re,v){const D=new Map;if(re.forEach(ot=>D.set(ot,[])),0==v.length)return D;const ue=new Set(v),Oe=new Map;function it(ot){if(!ot)return 1;let Nt=Oe.get(ot);if(Nt)return Nt;const Jt=ot.parentNode;return Nt=D.has(Jt)?Jt:ue.has(Jt)?1:it(Jt),Oe.set(ot,Nt),Nt}return v.forEach(ot=>{const Nt=it(ot);1!==Nt&&D.get(Nt).push(ot)}),D}function Xt(re,v){var D;null===(D=re.classList)||void 0===D||D.add(v)}function kn(re,v){var D;null===(D=re.classList)||void 0===D||D.remove(v)}function fi(re,v,D){Gn(D).onDone(()=>re.processLeaveNode(v))}function Hr(re,v){for(let D=0;D<re.length;D++){const B=re[D];B instanceof G.ZE?Hr(B.players,v):v.push(B)}}function Oi(re,v,D){const B=D.get(re);if(!B)return!1;let ue=v.get(re);return ue?B.forEach(Oe=>ue.add(Oe)):v.set(re,B),D.delete(re),!0}class ni{constructor(v,D,B){this.bodyNode=v,this._driver=D,this._normalizer=B,this._triggerCache={},this.onRemovalComplete=(ue,Oe)=>{},this._transitionEngine=new bs(v,D,B),this._timelineEngine=new As(v,D,B),this._transitionEngine.onRemovalComplete=(ue,Oe)=>this.onRemovalComplete(ue,Oe)}registerTrigger(v,D,B,ue,Oe){const it=v+"-"+ue;let ot=this._triggerCache[it];if(!ot){const Nt=[],Hn=Xi(this._driver,Oe,Nt,[]);if(Nt.length)throw function mt(re,v){return new u.vHH(3404,z)}();ot=function Ri(re,v,D){return new ss(re,v,D)}(ue,Hn,this._normalizer),this._triggerCache[it]=ot}this._transitionEngine.registerTrigger(D,ue,ot)}register(v,D){this._transitionEngine.register(v,D)}destroy(v,D){this._transitionEngine.destroy(v,D)}onInsert(v,D,B,ue){this._transitionEngine.insertNode(v,D,B,ue)}onRemove(v,D,B,ue){this._transitionEngine.removeNode(v,D,ue||!1,B)}disableAnimations(v,D){this._transitionEngine.markElementAsDisabled(v,D)}process(v,D,B,ue){if("@"==B.charAt(0)){const[Oe,it]=mr(B);this._timelineEngine.command(Oe,D,it,ue)}else this._transitionEngine.trigger(v,D,B,ue)}listen(v,D,B,ue,Oe){if("@"==B.charAt(0)){const[it,ot]=mr(B);return this._timelineEngine.listen(it,D,ot,Oe)}return this._transitionEngine.listen(v,D,B,ue,Oe)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let K=(()=>{class re{constructor(D,B,ue){this._element=D,this._startStyles=B,this._endStyles=ue,this._state=0;let Oe=re.initialStylesByElement.get(D);Oe||re.initialStylesByElement.set(D,Oe={}),this._initialStyles=Oe}start(){this._state<1&&(this._startStyles&&It(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(It(this._element,this._initialStyles),this._endStyles&&(It(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(re.initialStylesByElement.delete(this._element),this._startStyles&&(we(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(we(this._element,this._endStyles),this._endStyles=null),It(this._element,this._initialStyles),this._state=3)}}return re.initialStylesByElement=new WeakMap,re})();function U(re){let v=null;const D=Object.keys(re);for(let B=0;B<D.length;B++){const ue=D[B];k(ue)&&(v=v||{},v[ue]=re[ue])}return v}function k(re){return"display"===re||"position"===re}class fe{constructor(v,D,B,ue){this.element=v,this.keyframes=D,this.options=B,this._specialStyles=ue,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=B.duration,this._delay=B.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(v,D,B){return v.animate(D,B)}onStart(v){this._onStartFns.push(v)}onDone(v){this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v={};if(this.hasStarted()){const D=this._finalKeyframe;Object.keys(D).forEach(B=>{"offset"!=B&&(v[B]=this._finished?D[B]:Ur(this.element,B))})}this.currentSnapshot=v}triggerCallback(v){const D="start"==v?this._onStartFns:this._onDoneFns;D.forEach(B=>B()),D.length=0}}class Wt{validateStyleProperty(v){return nn(v)}matchesElement(v,D){return!1}containsElement(v,D){return Et(v,D)}getParentElement(v){return En(v)}query(v,D,B){return Qe(v,D,B)}computeStyle(v,D,B){return window.getComputedStyle(v)[D]}animate(v,D,B,ue,Oe,it=[]){const Nt={duration:B,delay:ue,fill:0==ue?"both":"forwards"};Oe&&(Nt.easing=Oe);const Jt={},Hn=it.filter(br=>br instanceof fe);(function hn(re,v){return 0===re||0===v})(B,ue)&&Hn.forEach(br=>{let kr=br.currentSnapshot;Object.keys(kr).forEach(ur=>Jt[ur]=kr[ur])}),D=function xn(re,v,D){const B=Object.keys(D);if(B.length&&v.length){let Oe=v[0],it=[];if(B.forEach(ot=>{Oe.hasOwnProperty(ot)||it.push(ot),Oe[ot]=D[ot]}),it.length)for(var ue=1;ue<v.length;ue++){let ot=v[ue];it.forEach(function(Nt){ot[Nt]=Ur(re,Nt)})}}return v}(v,D=D.map(br=>Ae(br,!1)),Jt);const Qn=function wi(re,v){let D=null,B=null;return Array.isArray(v)&&v.length?(D=U(v[0]),v.length>1&&(B=U(v[v.length-1]))):v&&(D=U(v)),D||B?new K(re,D,B):null}(v,D);return new fe(v,D,Nt,Qn)}}var zn=S(9808);let ui=(()=>{class re extends G._j{constructor(D,B){super(),this._nextAnimationId=0,this._renderer=D.createRenderer(B.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(D){const B=this._nextAnimationId.toString();this._nextAnimationId++;const ue=Array.isArray(D)?(0,G.vP)(D):D;return es(this._renderer,null,B,"register",[ue]),new Yi(B,this._renderer)}}return re.\u0275fac=function(D){return new(D||re)(u.LFG(u.FYo),u.LFG(zn.K0))},re.\u0275prov=u.Yz7({token:re,factory:re.\u0275fac}),re})();class Yi extends G.LC{constructor(v,D){super(),this._id=v,this._renderer=D}create(v,D){return new oo(this._id,v,D||{},this._renderer)}}class oo{constructor(v,D,B,ue){this.id=v,this.element=D,this._renderer=ue,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",B)}_listen(v,D){return this._renderer.listen(this.element,`@@${this.id}:${v}`,D)}_command(v,...D){return es(this._renderer,this.element,this.id,v,D)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){var v,D;return null!==(D=null===(v=this._renderer.engine.players[+this.id])||void 0===v?void 0:v.getPosition())&&void 0!==D?D:0}}function es(re,v,D,B,ue){return re.setProperty(v,`@@${D}:${B}`,ue)}const gr="@.disabled";let Fa=(()=>{class re{constructor(D,B,ue){this.delegate=D,this.engine=B,this._zone=ue,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),B.onRemovalComplete=(Oe,it)=>{const ot=null==it?void 0:it.parentNode(Oe);ot&&it.removeChild(ot,Oe)}}createRenderer(D,B){const Oe=this.delegate.createRenderer(D,B);if(!(D&&B&&B.data&&B.data.animation)){let Hn=this._rendererCache.get(Oe);return Hn||(Hn=new ki("",Oe,this.engine),this._rendererCache.set(Oe,Hn)),Hn}const it=B.id,ot=B.id+"-"+this._currentId;this._currentId++,this.engine.register(ot,D);const Nt=Hn=>{Array.isArray(Hn)?Hn.forEach(Nt):this.engine.registerTrigger(it,ot,D,Hn.name,Hn)};return B.data.animation.forEach(Nt),new Ka(this,ot,Oe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(D,B,ue){D>=0&&D<this._microtaskId?this._zone.run(()=>B(ue)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Oe=>{const[it,ot]=Oe;it(ot)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([B,ue]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return re.\u0275fac=function(D){return new(D||re)(u.LFG(u.FYo),u.LFG(ni),u.LFG(u.R0b))},re.\u0275prov=u.Yz7({token:re,factory:re.\u0275fac}),re})();class ki{constructor(v,D,B){this.namespaceId=v,this.delegate=D,this.engine=B,this.destroyNode=this.delegate.destroyNode?ue=>D.destroyNode(ue):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(v,D){return this.delegate.createElement(v,D)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,D){this.delegate.appendChild(v,D),this.engine.onInsert(this.namespaceId,D,v,!1)}insertBefore(v,D,B,ue=!0){this.delegate.insertBefore(v,D,B),this.engine.onInsert(this.namespaceId,D,v,ue)}removeChild(v,D,B){this.engine.onRemove(this.namespaceId,D,this.delegate,B)}selectRootElement(v,D){return this.delegate.selectRootElement(v,D)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,D,B,ue){this.delegate.setAttribute(v,D,B,ue)}removeAttribute(v,D,B){this.delegate.removeAttribute(v,D,B)}addClass(v,D){this.delegate.addClass(v,D)}removeClass(v,D){this.delegate.removeClass(v,D)}setStyle(v,D,B,ue){this.delegate.setStyle(v,D,B,ue)}removeStyle(v,D,B){this.delegate.removeStyle(v,D,B)}setProperty(v,D,B){"@"==D.charAt(0)&&D==gr?this.disableAnimations(v,!!B):this.delegate.setProperty(v,D,B)}setValue(v,D){this.delegate.setValue(v,D)}listen(v,D,B){return this.delegate.listen(v,D,B)}disableAnimations(v,D){this.engine.disableAnimations(v,D)}}class Ka extends ki{constructor(v,D,B,ue){super(D,B,ue),this.factory=v,this.namespaceId=D}setProperty(v,D,B){"@"==D.charAt(0)?"."==D.charAt(1)&&D==gr?this.disableAnimations(v,B=void 0===B||!!B):this.engine.process(this.namespaceId,v,D.substr(1),B):this.delegate.setProperty(v,D,B)}listen(v,D,B){if("@"==D.charAt(0)){const ue=function ao(re){switch(re){case"body":return document.body;case"document":return document;case"window":return window;default:return re}}(v);let Oe=D.substr(1),it="";return"@"!=Oe.charAt(0)&&([Oe,it]=function lo(re){const v=re.indexOf(".");return[re.substring(0,v),re.substr(v+1)]}(Oe)),this.engine.listen(this.namespaceId,ue,Oe,it,ot=>{this.factory.scheduleListenerCallback(ot._data||-1,B,ot)})}return this.delegate.listen(v,D,B)}}let Bo=(()=>{class re extends ni{constructor(D,B,ue){super(D.body,B,ue)}ngOnDestroy(){this.flush()}}return re.\u0275fac=function(D){return new(D||re)(u.LFG(zn.K0),u.LFG(bt),u.LFG(Fs))},re.\u0275prov=u.Yz7({token:re,factory:re.\u0275fac}),re})();const uo=new u.OlP("AnimationModuleType"),Ro=[{provide:G._j,useClass:ui},{provide:Fs,useFactory:function Uo(){return new Ls}},{provide:ni,useClass:Bo},{provide:u.FYo,useFactory:function La(re,v,D){return new Fa(re,v,D)},deps:[C.se,ni,u.R0b]}],ps=[{provide:bt,useFactory:()=>new Wt},{provide:uo,useValue:"BrowserAnimations"},...Ro],Wi=[{provide:bt,useClass:Ve},{provide:uo,useValue:"NoopAnimations"},...Ro];let Ks=(()=>{class re{static withConfig(D){return{ngModule:re,providers:D.disableAnimations?Wi:ps}}}return re.\u0275fac=function(D){return new(D||re)},re.\u0275mod=u.oAB({type:re}),re.\u0275inj=u.cJS({providers:ps,imports:[C.b2]}),re})()},2313:(fn,ht,S)=>{S.d(ht,{b2:()=>dr,H7:()=>Ge,q6:()=>Pn,se:()=>xt});var u=S(9808),C=S(5e3);class G extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class z extends G{static makeCurrent(){(0,u.HT)(new z)}onAndCancel(_e,J,Q){return _e.addEventListener(J,Q,!1),()=>{_e.removeEventListener(J,Q,!1)}}dispatchEvent(_e,J){_e.dispatchEvent(J)}remove(_e){_e.parentNode&&_e.parentNode.removeChild(_e)}createElement(_e,J){return(J=J||this.getDefaultDocument()).createElement(_e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(_e){return _e.nodeType===Node.ELEMENT_NODE}isShadowRoot(_e){return _e instanceof DocumentFragment}getGlobalEventTarget(_e,J){return"window"===J?window:"document"===J?_e:"body"===J?_e.body:null}getBaseHref(_e){const J=function Ue(){return Ce=Ce||document.querySelector("base"),Ce?Ce.getAttribute("href"):null}();return null==J?null:function ge(se){ze=ze||document.createElement("a"),ze.setAttribute("href",se);const _e=ze.pathname;return"/"===_e.charAt(0)?_e:`/${_e}`}(J)}resetBaseElement(){Ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(_e){return(0,u.Mx)(document.cookie,_e)}}let ze,Ce=null;const ke=new C.OlP("TRANSITION_ID"),Te=[{provide:C.ip1,useFactory:function me(se,_e,J){return()=>{J.get(C.CZH).donePromise.then(()=>{const Q=(0,u.q)(),ne=_e.querySelectorAll(`style[ng-transition="${se}"]`);for(let Pe=0;Pe<ne.length;Pe++)Q.remove(ne[Pe])})}},deps:[ke,u.K0,C.zs3],multi:!0}];class Fe{static init(){(0,C.VLi)(new Fe)}addToWindow(_e){C.dqk.getAngularTestability=(Q,ne=!0)=>{const Pe=_e.findTestabilityInTree(Q,ne);if(null==Pe)throw new Error("Could not find testability for element.");return Pe},C.dqk.getAllAngularTestabilities=()=>_e.getAllTestabilities(),C.dqk.getAllAngularRootElements=()=>_e.getAllRootElements(),C.dqk.frameworkStabilizers||(C.dqk.frameworkStabilizers=[]),C.dqk.frameworkStabilizers.push(Q=>{const ne=C.dqk.getAllAngularTestabilities();let Pe=ne.length,gt=!1;const Ht=function(hn){gt=gt||hn,Pe--,0==Pe&&Q(gt)};ne.forEach(function(hn){hn.whenStable(Ht)})})}findTestabilityInTree(_e,J,Q){if(null==J)return null;const ne=_e.getTestability(J);return null!=ne?ne:Q?(0,u.q)().isShadowRoot(J)?this.findTestabilityInTree(_e,J.host,!0):this.findTestabilityInTree(_e,J.parentElement,!0):null}}let Xe=(()=>{class se{build(){return new XMLHttpRequest}}return se.\u0275fac=function(J){return new(J||se)},se.\u0275prov=C.Yz7({token:se,factory:se.\u0275fac}),se})();const tt=new C.OlP("EventManagerPlugins");let Ze=(()=>{class se{constructor(J,Q){this._zone=Q,this._eventNameToPlugin=new Map,J.forEach(ne=>ne.manager=this),this._plugins=J.slice().reverse()}addEventListener(J,Q,ne){return this._findPluginFor(Q).addEventListener(J,Q,ne)}addGlobalEventListener(J,Q,ne){return this._findPluginFor(Q).addGlobalEventListener(J,Q,ne)}getZone(){return this._zone}_findPluginFor(J){const Q=this._eventNameToPlugin.get(J);if(Q)return Q;const ne=this._plugins;for(let Pe=0;Pe<ne.length;Pe++){const gt=ne[Pe];if(gt.supports(J))return this._eventNameToPlugin.set(J,gt),gt}throw new Error(`No event manager plugin found for event ${J}`)}}return se.\u0275fac=function(J){return new(J||se)(C.LFG(tt),C.LFG(C.R0b))},se.\u0275prov=C.Yz7({token:se,factory:se.\u0275fac}),se})();class Dt{constructor(_e){this._doc=_e}addGlobalEventListener(_e,J,Q){const ne=(0,u.q)().getGlobalEventTarget(this._doc,_e);if(!ne)throw new Error(`Unsupported event target ${ne} for event ${J}`);return this.addEventListener(ne,J,Q)}}let Je=(()=>{class se{constructor(){this._stylesSet=new Set}addStyles(J){const Q=new Set;J.forEach(ne=>{this._stylesSet.has(ne)||(this._stylesSet.add(ne),Q.add(ne))}),this.onStylesAdded(Q)}onStylesAdded(J){}getAllStyles(){return Array.from(this._stylesSet)}}return se.\u0275fac=function(J){return new(J||se)},se.\u0275prov=C.Yz7({token:se,factory:se.\u0275fac}),se})(),pt=(()=>{class se extends Je{constructor(J){super(),this._doc=J,this._hostNodes=new Map,this._hostNodes.set(J.head,[])}_addStylesToHost(J,Q,ne){J.forEach(Pe=>{const gt=this._doc.createElement("style");gt.textContent=Pe,ne.push(Q.appendChild(gt))})}addHost(J){const Q=[];this._addStylesToHost(this._stylesSet,J,Q),this._hostNodes.set(J,Q)}removeHost(J){const Q=this._hostNodes.get(J);Q&&Q.forEach(Ye),this._hostNodes.delete(J)}onStylesAdded(J){this._hostNodes.forEach((Q,ne)=>{this._addStylesToHost(J,ne,Q)})}ngOnDestroy(){this._hostNodes.forEach(J=>J.forEach(Ye))}}return se.\u0275fac=function(J){return new(J||se)(C.LFG(u.K0))},se.\u0275prov=C.Yz7({token:se,factory:se.\u0275fac}),se})();function Ye(se){(0,u.q)().remove(se)}const Ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$e=/%COMP%/g;function _t(se,_e,J){for(let Q=0;Q<_e.length;Q++){let ne=_e[Q];Array.isArray(ne)?_t(se,ne,J):(ne=ne.replace($e,se),J.push(ne))}return J}function mt(se){return _e=>{if("__ngUnwrap__"===_e)return se;!1===se(_e)&&(_e.preventDefault(),_e.returnValue=!1)}}let xt=(()=>{class se{constructor(J,Q,ne){this.eventManager=J,this.sharedStylesHost=Q,this.appId=ne,this.rendererByCompId=new Map,this.defaultRenderer=new ut(J)}createRenderer(J,Q){if(!J||!Q)return this.defaultRenderer;switch(Q.encapsulation){case C.ifc.Emulated:{let ne=this.rendererByCompId.get(Q.id);return ne||(ne=new dn(this.eventManager,this.sharedStylesHost,Q,this.appId),this.rendererByCompId.set(Q.id,ne)),ne.applyToHost(J),ne}case 1:case C.ifc.ShadowDom:return new rn(this.eventManager,this.sharedStylesHost,J,Q);default:if(!this.rendererByCompId.has(Q.id)){const ne=_t(Q.id,Q.styles,[]);this.sharedStylesHost.addStyles(ne),this.rendererByCompId.set(Q.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return se.\u0275fac=function(J){return new(J||se)(C.LFG(Ze),C.LFG(pt),C.LFG(C.AFp))},se.\u0275prov=C.Yz7({token:se,factory:se.\u0275fac}),se})();class ut{constructor(_e){this.eventManager=_e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(_e,J){return J?document.createElementNS(Ut[J]||J,_e):document.createElement(_e)}createComment(_e){return document.createComment(_e)}createText(_e){return document.createTextNode(_e)}appendChild(_e,J){_e.appendChild(J)}insertBefore(_e,J,Q){_e&&_e.insertBefore(J,Q)}removeChild(_e,J){_e&&_e.removeChild(J)}selectRootElement(_e,J){let Q="string"==typeof _e?document.querySelector(_e):_e;if(!Q)throw new Error(`The selector "${_e}" did not match any elements`);return J||(Q.textContent=""),Q}parentNode(_e){return _e.parentNode}nextSibling(_e){return _e.nextSibling}setAttribute(_e,J,Q,ne){if(ne){J=ne+":"+J;const Pe=Ut[ne];Pe?_e.setAttributeNS(Pe,J,Q):_e.setAttribute(J,Q)}else _e.setAttribute(J,Q)}removeAttribute(_e,J,Q){if(Q){const ne=Ut[Q];ne?_e.removeAttributeNS(ne,J):_e.removeAttribute(`${Q}:${J}`)}else _e.removeAttribute(J)}addClass(_e,J){_e.classList.add(J)}removeClass(_e,J){_e.classList.remove(J)}setStyle(_e,J,Q,ne){ne&(C.JOm.DashCase|C.JOm.Important)?_e.style.setProperty(J,Q,ne&C.JOm.Important?"important":""):_e.style[J]=Q}removeStyle(_e,J,Q){Q&C.JOm.DashCase?_e.style.removeProperty(J):_e.style[J]=""}setProperty(_e,J,Q){_e[J]=Q}setValue(_e,J){_e.nodeValue=J}listen(_e,J,Q){return"string"==typeof _e?this.eventManager.addGlobalEventListener(_e,J,mt(Q)):this.eventManager.addEventListener(_e,J,mt(Q))}}class dn extends ut{constructor(_e,J,Q,ne){super(_e),this.component=Q;const Pe=_t(ne+"-"+Q.id,Q.styles,[]);J.addStyles(Pe),this.contentAttr=function Tt(se){return"_ngcontent-%COMP%".replace($e,se)}(ne+"-"+Q.id),this.hostAttr=function kt(se){return"_nghost-%COMP%".replace($e,se)}(ne+"-"+Q.id)}applyToHost(_e){super.setAttribute(_e,this.hostAttr,"")}createElement(_e,J){const Q=super.createElement(_e,J);return super.setAttribute(Q,this.contentAttr,""),Q}}class rn extends ut{constructor(_e,J,Q,ne){super(_e),this.sharedStylesHost=J,this.hostEl=Q,this.shadowRoot=Q.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Pe=_t(ne.id,ne.styles,[]);for(let gt=0;gt<Pe.length;gt++){const Ht=document.createElement("style");Ht.textContent=Pe[gt],this.shadowRoot.appendChild(Ht)}}nodeOrShadowRoot(_e){return _e===this.hostEl?this.shadowRoot:_e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(_e,J){return super.appendChild(this.nodeOrShadowRoot(_e),J)}insertBefore(_e,J,Q){return super.insertBefore(this.nodeOrShadowRoot(_e),J,Q)}removeChild(_e,J){return super.removeChild(this.nodeOrShadowRoot(_e),J)}parentNode(_e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(_e)))}}let At=(()=>{class se extends Dt{constructor(J){super(J)}supports(J){return!0}addEventListener(J,Q,ne){return J.addEventListener(Q,ne,!1),()=>this.removeEventListener(J,Q,ne)}removeEventListener(J,Q,ne){return J.removeEventListener(Q,ne)}}return se.\u0275fac=function(J){return new(J||se)(C.LFG(u.K0))},se.\u0275prov=C.Yz7({token:se,factory:se.\u0275fac}),se})();const Bt=["alt","control","meta","shift"],He={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},sn={alt:se=>se.altKey,control:se=>se.ctrlKey,meta:se=>se.metaKey,shift:se=>se.shiftKey};let an=(()=>{class se extends Dt{constructor(J){super(J)}supports(J){return null!=se.parseEventName(J)}addEventListener(J,Q,ne){const Pe=se.parseEventName(Q),gt=se.eventCallback(Pe.fullKey,ne,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(J,Pe.domEventName,gt))}static parseEventName(J){const Q=J.toLowerCase().split("."),ne=Q.shift();if(0===Q.length||"keydown"!==ne&&"keyup"!==ne)return null;const Pe=se._normalizeKey(Q.pop());let gt="";if(Bt.forEach(hn=>{const xn=Q.indexOf(hn);xn>-1&&(Q.splice(xn,1),gt+=hn+".")}),gt+=Pe,0!=Q.length||0===Pe.length)return null;const Ht={};return Ht.domEventName=ne,Ht.fullKey=gt,Ht}static getEventFullKey(J){let Q="",ne=function Gn(se){let _e=se.key;if(null==_e){if(_e=se.keyIdentifier,null==_e)return"Unidentified";_e.startsWith("U+")&&(_e=String.fromCharCode(parseInt(_e.substring(2),16)),3===se.location&&vt.hasOwnProperty(_e)&&(_e=vt[_e]))}return He[_e]||_e}(J);return ne=ne.toLowerCase()," "===ne?ne="space":"."===ne&&(ne="dot"),Bt.forEach(Pe=>{Pe!=ne&&sn[Pe](J)&&(Q+=Pe+".")}),Q+=ne,Q}static eventCallback(J,Q,ne){return Pe=>{se.getEventFullKey(Pe)===J&&ne.runGuarded(()=>Q(Pe))}}static _normalizeKey(J){return"esc"===J?"escape":J}}return se.\u0275fac=function(J){return new(J||se)(C.LFG(u.K0))},se.\u0275prov=C.Yz7({token:se,factory:se.\u0275fac}),se})();const Pn=(0,C.eFA)(C._c5,"browser",[{provide:C.Lbi,useValue:u.bD},{provide:C.g9A,useValue:function vr(){z.makeCurrent(),Fe.init()},multi:!0},{provide:u.K0,useFactory:function cr(){return(0,C.RDi)(document),document},deps:[]}]),mr=[{provide:C.zSh,useValue:"root"},{provide:C.qLn,useFactory:function Kn(){return new C.qLn},deps:[]},{provide:tt,useClass:At,multi:!0,deps:[u.K0,C.R0b,C.Lbi]},{provide:tt,useClass:an,multi:!0,deps:[u.K0]},{provide:xt,useClass:xt,deps:[Ze,pt,C.AFp]},{provide:C.FYo,useExisting:xt},{provide:Je,useExisting:pt},{provide:pt,useClass:pt,deps:[u.K0]},{provide:C.dDg,useClass:C.dDg,deps:[C.R0b]},{provide:Ze,useClass:Ze,deps:[tt,C.R0b]},{provide:u.JF,useClass:Xe,deps:[]}];let dr=(()=>{class se{constructor(J){if(J)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(J){return{ngModule:se,providers:[{provide:C.AFp,useValue:J.appId},{provide:ke,useExisting:C.AFp},Te]}}}return se.\u0275fac=function(J){return new(J||se)(C.LFG(se,12))},se.\u0275mod=C.oAB({type:se}),se.\u0275inj=C.cJS({providers:mr,imports:[u.ez,C.hGG]}),se})();"undefined"!=typeof window&&window;let Ge=(()=>{class se{}return se.\u0275fac=function(J){return new(J||se)},se.\u0275prov=C.Yz7({token:se,factory:function(J){let Q=null;return Q=J?new(J||se):C.LFG(we),Q},providedIn:"root"}),se})(),we=(()=>{class se extends Ge{constructor(J){super(),this._doc=J}sanitize(J,Q){if(null==Q)return null;switch(J){case C.q3G.NONE:return Q;case C.q3G.HTML:return(0,C.qzn)(Q,"HTML")?(0,C.z3N)(Q):(0,C.EiD)(this._doc,String(Q)).toString();case C.q3G.STYLE:return(0,C.qzn)(Q,"Style")?(0,C.z3N)(Q):Q;case C.q3G.SCRIPT:if((0,C.qzn)(Q,"Script"))return(0,C.z3N)(Q);throw new Error("unsafe value used in a script context");case C.q3G.URL:return(0,C.yhl)(Q),(0,C.qzn)(Q,"URL")?(0,C.z3N)(Q):(0,C.mCW)(String(Q));case C.q3G.RESOURCE_URL:if((0,C.qzn)(Q,"ResourceURL"))return(0,C.z3N)(Q);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${J} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(J){return(0,C.JVY)(J)}bypassSecurityTrustStyle(J){return(0,C.L6k)(J)}bypassSecurityTrustScript(J){return(0,C.eBb)(J)}bypassSecurityTrustUrl(J){return(0,C.LAX)(J)}bypassSecurityTrustResourceUrl(J){return(0,C.pB0)(J)}}return se.\u0275fac=function(J){return new(J||se)(C.LFG(u.K0))},se.\u0275prov=C.Yz7({token:se,factory:function(J){let Q=null;return Q=J?new J:function It(se){return new we(se.get(u.K0))}(C.LFG(C.zs3)),Q},providedIn:"root"}),se})()},1402:(fn,ht,S)=>{S.d(ht,{gz:()=>si,F0:()=>ei,rH:()=>ri,Bz:()=>Tl,lC:()=>$i});var u=S(5e3),C=S(9751),G=S(727),z=S(4482),Ce=S(5403);function Ue(){return(0,z.e)((N,x)=>{let I=null;N._refCount++;const W=(0,Ce.x)(x,void 0,void 0,void 0,()=>{if(!N||N._refCount<=0||0<--N._refCount)return void(I=null);const X=N._connection,ve=I;I=null,X&&(!ve||X===ve)&&X.unsubscribe(),x.unsubscribe()});N.subscribe(W),W.closed||(I=N.connect())})}class ze extends C.y{constructor(x,I){super(),this.source=x,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,z.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,null==x||x.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new G.w0;const I=this.getSubject();x.add(this.source.subscribe((0,Ce.x)(I,void 0,()=>{this._teardown(),I.complete()},W=>{this._teardown(),I.error(W)},()=>this._teardown()))),x.closed&&(this._connection=null,x=G.w0.EMPTY)}return x}refCount(){return Ue()(this)}}var ge=S(8996),ke=S(9646),me=S(1135),Te=S(9841),Fe=S(2843),Xe=S(6805),tt=S(7272),Ze=S(9770),Dt=S(515),Je=S(7579),pt=S(9300);function Ye(N){return N<=0?()=>Dt.E:(0,z.e)((x,I)=>{let W=[];x.subscribe((0,Ce.x)(I,X=>{W.push(X),N<W.length&&W.shift()},()=>{for(const X of W)I.next(X);I.complete()},void 0,()=>{W=null}))})}var Ut=S(8068),$e=S(6590),De=S(4671),Le=S(4004),le=S(3900),Tt=S(5698),kt=S(8675),_t=S(5026),mt=S(262),Ct=S(4351),xt=S(590),ut=S(5577),Kt=S(8505),tn=S(8746),dn=S(8189),rn=S(9808);class At{constructor(x,I){this.id=x,this.url=I}}class Bt extends At{constructor(x,I,W="imperative",X=null){super(x,I),this.navigationTrigger=W,this.restoredState=X}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vn extends At{constructor(x,I,W){super(x,I),this.urlAfterRedirects=W}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class He extends At{constructor(x,I,W){super(x,I),this.reason=W}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vt extends At{constructor(x,I,W){super(x,I),this.error=W}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sn extends At{constructor(x,I,W,X){super(x,I),this.urlAfterRedirects=W,this.state=X}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class an extends At{constructor(x,I,W,X){super(x,I),this.urlAfterRedirects=W,this.state=X}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gn extends At{constructor(x,I,W,X,ve){super(x,I),this.urlAfterRedirects=W,this.state=X,this.shouldActivate=ve}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vr extends At{constructor(x,I,W,X){super(x,I),this.urlAfterRedirects=W,this.state=X}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kn extends At{constructor(x,I,W,X){super(x,I),this.urlAfterRedirects=W,this.state=X}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cr{constructor(x){this.route=x}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sr{constructor(x){this.route=x}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pn{constructor(x){this.snapshot=x}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mr{constructor(x){this.snapshot=x}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dr{constructor(x){this.snapshot=x}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pr{constructor(x){this.snapshot=x}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bn{constructor(x,I,W){this.routerEvent=x,this.position=I,this.anchor=W}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const En="primary";class Er{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const I=this.params[x];return Array.isArray(I)?I[0]:I}return null}getAll(x){if(this.has(x)){const I=this.params[x];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function $n(N){return new Er(N)}const hr="ngNavigationCancelingError";function Ir(N){const x=Error("NavigationCancelingError: "+N);return x[hr]=!0,x}function Rt(N,x,I){const W=I.path.split("/");if(W.length>N.length||"full"===I.pathMatch&&(x.hasChildren()||W.length<N.length))return null;const X={};for(let ve=0;ve<W.length;ve++){const Ke=W[ve],lt=N[ve];if(Ke.startsWith(":"))X[Ke.substring(1)]=lt;else if(Ke!==lt.path)return null}return{consumed:N.slice(0,W.length),posParams:X}}function Qe(N,x){const I=N?Object.keys(N):void 0,W=x?Object.keys(x):void 0;if(!I||!W||I.length!=W.length)return!1;let X;for(let ve=0;ve<I.length;ve++)if(X=I[ve],!Mt(N[X],x[X]))return!1;return!0}function Mt(N,x){if(Array.isArray(N)&&Array.isArray(x)){if(N.length!==x.length)return!1;const I=[...N].sort(),W=[...x].sort();return I.every((X,ve)=>W[ve]===X)}return N===x}function Ve(N){return Array.prototype.concat.apply([],N)}function bt(N){return N.length>0?N[N.length-1]:null}function cn(N,x){for(const I in N)N.hasOwnProperty(I)&&x(N[I],I)}function Mn(N){return(0,u.CqO)(N)?N:(0,u.QGY)(N)?(0,ge.D)(Promise.resolve(N)):(0,ke.of)(N)}const rr={exact:function ye(N,x,I){if(!Ge(N.segments,x.segments)||!L(N.segments,x.segments,I)||N.numberOfChildren!==x.numberOfChildren)return!1;for(const W in x.children)if(!N.children[W]||!ye(N.children[W],x.children[W],I))return!1;return!0},subset:M},tr={exact:function rt(N,x){return Qe(N,x)},subset:function Z(N,x){return Object.keys(x).length<=Object.keys(N).length&&Object.keys(x).every(I=>Mt(N[I],x[I]))},ignored:()=>!0};function at(N,x,I){return rr[I.paths](N.root,x.root,I.matrixParams)&&tr[I.queryParams](N.queryParams,x.queryParams)&&!("exact"===I.fragment&&N.fragment!==x.fragment)}function M(N,x,I){return w(N,x,x.segments,I)}function w(N,x,I,W){if(N.segments.length>I.length){const X=N.segments.slice(0,I.length);return!(!Ge(X,I)||x.hasChildren()||!L(X,I,W))}if(N.segments.length===I.length){if(!Ge(N.segments,I)||!L(N.segments,I,W))return!1;for(const X in x.children)if(!N.children[X]||!M(N.children[X],x.children[X],W))return!1;return!0}{const X=I.slice(0,N.segments.length),ve=I.slice(N.segments.length);return!!(Ge(N.segments,X)&&L(N.segments,X,W)&&N.children[En])&&w(N.children[En],x,ve,W)}}function L(N,x,I){return x.every((W,X)=>tr[I](N[X].parameters,W.parameters))}class be{constructor(x,I,W){this.root=x,this.queryParams=I,this.fragment=W}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$n(this.queryParams)),this._queryParamMap}toString(){return se.serialize(this)}}class We{constructor(x,I){this.segments=x,this.children=I,this.parent=null,cn(I,(W,X)=>W.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _e(this)}}class Ae{constructor(x,I){this.path=x,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=$n(this.parameters)),this._parameterMap}toString(){return xn(this)}}function Ge(N,x){return N.length===x.length&&N.every((I,W)=>I.path===x[W].path)}class we{}class Re{parse(x){const I=new St(x);return new be(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(x){const I=`/${J(x.root,!0)}`,W=function Ur(N){const x=Object.keys(N).map(I=>{const W=N[I];return Array.isArray(W)?W.map(X=>`${ne(I)}=${ne(X)}`).join("&"):`${ne(I)}=${ne(W)}`}).filter(I=>!!I);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${I}${W}${"string"==typeof x.fragment?`#${function Pe(N){return encodeURI(N)}(x.fragment)}`:""}`}}const se=new Re;function _e(N){return N.segments.map(x=>xn(x)).join("/")}function J(N,x){if(!N.hasChildren())return _e(N);if(x){const I=N.children[En]?J(N.children[En],!1):"",W=[];return cn(N.children,(X,ve)=>{ve!==En&&W.push(`${ve}:${J(X,!1)}`)}),W.length>0?`${I}(${W.join("//")})`:I}{const I=function It(N,x){let I=[];return cn(N.children,(W,X)=>{X===En&&(I=I.concat(x(W,X)))}),cn(N.children,(W,X)=>{X!==En&&(I=I.concat(x(W,X)))}),I}(N,(W,X)=>X===En?[J(N.children[En],!1)]:[`${X}:${J(W,!1)}`]);return 1===Object.keys(N.children).length&&null!=N.children[En]?`${_e(N)}/${I[0]}`:`${_e(N)}/(${I.join("//")})`}}function Q(N){return encodeURIComponent(N).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ne(N){return Q(N).replace(/%3B/gi,";")}function gt(N){return Q(N).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ht(N){return decodeURIComponent(N)}function hn(N){return Ht(N.replace(/\+/g,"%20"))}function xn(N){return`${gt(N.path)}${function On(N){return Object.keys(N).map(x=>`;${gt(x)}=${gt(N[x])}`).join("")}(N.parameters)}`}const $r=/^[^\/()?;=#]+/;function bi(N){const x=N.match($r);return x?x[0]:""}const he=/^[^=?&#]+/,ie=/^[^&#]+/;class St{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let W={};return this.peekStartsWith("(")&&(W=this.parseParens(!1)),(x.length>0||Object.keys(I).length>0)&&(W[En]=new We(x,I)),W}parseSegment(){const x=bi(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(x),new Ae(Ht(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const I=bi(this.remaining);if(!I)return;this.capture(I);let W="";if(this.consumeOptional("=")){const X=bi(this.remaining);X&&(W=X,this.capture(W))}x[Ht(I)]=Ht(W)}parseQueryParam(x){const I=function Me(N){const x=N.match(he);return x?x[0]:""}(this.remaining);if(!I)return;this.capture(I);let W="";if(this.consumeOptional("=")){const Ke=function Be(N){const x=N.match(ie);return x?x[0]:""}(this.remaining);Ke&&(W=Ke,this.capture(W))}const X=hn(I),ve=hn(W);if(x.hasOwnProperty(X)){let Ke=x[X];Array.isArray(Ke)||(Ke=[Ke],x[X]=Ke),Ke.push(ve)}else x[X]=ve}parseParens(x){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const W=bi(this.remaining),X=this.remaining[W.length];if("/"!==X&&")"!==X&&";"!==X)throw new Error(`Cannot parse url '${this.url}'`);let ve;W.indexOf(":")>-1?(ve=W.substr(0,W.indexOf(":")),this.capture(ve),this.capture(":")):x&&(ve=En);const Ke=this.parseChildren();I[ve]=1===Object.keys(Ke).length?Ke[En]:new We([],Ke),this.consumeOptional("//")}return I}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new Error(`Expected "${x}".`)}}class Gt{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const I=this.pathFromRoot(x);return I.length>1?I[I.length-2]:null}children(x){const I=_n(x,this._root);return I?I.children.map(W=>W.value):[]}firstChild(x){const I=_n(x,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(x){const I=er(x,this._root);return I.length<2?[]:I[I.length-2].children.map(X=>X.value).filter(X=>X!==x)}pathFromRoot(x){return er(x,this._root).map(I=>I.value)}}function _n(N,x){if(N===x.value)return x;for(const I of x.children){const W=_n(N,I);if(W)return W}return null}function er(N,x){if(N===x.value)return[x];for(const I of x.children){const W=er(N,I);if(W.length)return W.unshift(x),W}return[]}class Ln{constructor(x,I){this.value=x,this.children=I}toString(){return`TreeNode(${this.value})`}}function lr(N){const x={};return N&&N.children.forEach(I=>x[I.value.outlet]=I),x}class zr extends Gt{constructor(x,I){super(x),this.snapshot=I,ti(this,x)}toString(){return this.snapshot.toString()}}function qn(N,x){const I=function Rr(N,x){const Ke=new Vn([],{},{},"",{},En,x,null,N.root,-1,{});return new pr("",new Ln(Ke,[]))}(N,x),W=new me.X([new Ae("",{})]),X=new me.X({}),ve=new me.X({}),Ke=new me.X({}),lt=new me.X(""),Zt=new si(W,X,Ke,lt,ve,En,x,I.root);return Zt.snapshot=I.root,new zr(new Ln(Zt,[]),I)}class si{constructor(x,I,W,X,ve,Ke,lt,Zt){this.url=x,this.params=I,this.queryParams=W,this.fragment=X,this.data=ve,this.outlet=Ke,this.component=lt,this._futureSnapshot=Zt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Le.U)(x=>$n(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Le.U)(x=>$n(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xi(N,x="emptyOnly"){const I=N.pathFromRoot;let W=0;if("always"!==x)for(W=I.length-1;W>=1;){const X=I[W],ve=I[W-1];if(X.routeConfig&&""===X.routeConfig.path)W--;else{if(ve.component)break;W--}}return function fr(N){return N.reduce((x,I)=>({params:Object.assign(Object.assign({},x.params),I.params),data:Object.assign(Object.assign({},x.data),I.data),resolve:Object.assign(Object.assign({},x.resolve),I._resolvedData)}),{params:{},data:{},resolve:{}})}(I.slice(W))}class Vn{constructor(x,I,W,X,ve,Ke,lt,Zt,Zn,Fn,ir){this.url=x,this.params=I,this.queryParams=W,this.fragment=X,this.data=ve,this.outlet=Ke,this.component=lt,this.routeConfig=Zt,this._urlSegment=Zn,this._lastPathIndex=Fn,this._resolve=ir}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$n(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$n(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(W=>W.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pr extends Gt{constructor(x,I){super(I),this.url=x,ti(this,I)}toString(){return ct(this._root)}}function ti(N,x){x.value._routerState=N,x.children.forEach(I=>ti(N,I))}function ct(N){const x=N.children.length>0?` { ${N.children.map(ct).join(", ")} } `:"";return`${N.value}${x}`}function st(N){if(N.snapshot){const x=N.snapshot,I=N._futureSnapshot;N.snapshot=I,Qe(x.queryParams,I.queryParams)||N.queryParams.next(I.queryParams),x.fragment!==I.fragment&&N.fragment.next(I.fragment),Qe(x.params,I.params)||N.params.next(I.params),function Et(N,x){if(N.length!==x.length)return!1;for(let I=0;I<N.length;++I)if(!Qe(N[I],x[I]))return!1;return!0}(x.url,I.url)||N.url.next(I.url),Qe(x.data,I.data)||N.data.next(I.data)}else N.snapshot=N._futureSnapshot,N.data.next(N._futureSnapshot.data)}function Pt(N,x){const I=Qe(N.params,x.params)&&function Ne(N,x){return Ge(N,x)&&N.every((I,W)=>Qe(I.parameters,x[W].parameters))}(N.url,x.url);return I&&!(!N.parent!=!x.parent)&&(!N.parent||Pt(N.parent,x.parent))}function ln(N,x,I){if(I&&N.shouldReuseRoute(x.value,I.value.snapshot)){const W=I.value;W._futureSnapshot=x.value;const X=function Cn(N,x,I){return x.children.map(W=>{for(const X of I.children)if(N.shouldReuseRoute(W.value,X.value.snapshot))return ln(N,W,X);return ln(N,W)})}(N,x,I);return new Ln(W,X)}{if(N.shouldAttach(x.value)){const ve=N.retrieve(x.value);if(null!==ve){const Ke=ve.route;return Ke.value._futureSnapshot=x.value,Ke.children=x.children.map(lt=>ln(N,lt)),Ke}}const W=function Un(N){return new si(new me.X(N.url),new me.X(N.params),new me.X(N.queryParams),new me.X(N.fragment),new me.X(N.data),N.outlet,N.component,N)}(x.value),X=x.children.map(ve=>ln(N,ve));return new Ln(W,X)}}function Fr(N){return"object"==typeof N&&null!=N&&!N.outlets&&!N.segmentPath}function mi(N){return"object"==typeof N&&null!=N&&N.outlets}function Ci(N,x,I,W,X){let ve={};if(W&&cn(W,(lt,Zt)=>{ve[Zt]=Array.isArray(lt)?lt.map(Zn=>`${Zn}`):`${lt}`}),N===x)return new be(I,ve,X);const Ke=ns(N,x,I);return new be(Ke,ve,X)}function ns(N,x,I){const W={};return cn(N.children,(X,ve)=>{W[ve]=X===x?I:ns(X,x,I)}),new We(N.segments,W)}class ys{constructor(x,I,W){if(this.isAbsolute=x,this.numberOfDoubleDots=I,this.commands=W,x&&W.length>0&&Fr(W[0]))throw new Error("Root segment cannot have matrix parameters");const X=W.find(mi);if(X&&X!==bt(W))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mo{constructor(x,I,W){this.segmentGroup=x,this.processChildren=I,this.index=W}}function so(N,x,I){if(N||(N=new We([],{})),0===N.segments.length&&N.hasChildren())return ks(N,x,I);const W=function Ps(N,x,I){let W=0,X=x;const ve={match:!1,pathIndex:0,commandIndex:0};for(;X<N.segments.length;){if(W>=I.length)return ve;const Ke=N.segments[X],lt=I[W];if(mi(lt))break;const Zt=`${lt}`,Zn=W<I.length-1?I[W+1]:null;if(X>0&&void 0===Zt)break;if(Zt&&Zn&&"object"==typeof Zn&&void 0===Zn.outlets){if(!Ls(Zt,Zn,Ke))return ve;W+=2}else{if(!Ls(Zt,{},Ke))return ve;W++}X++}return{match:!0,pathIndex:X,commandIndex:W}}(N,x,I),X=I.slice(W.commandIndex);if(W.match&&W.pathIndex<N.segments.length){const ve=new We(N.segments.slice(0,W.pathIndex),{});return ve.children[En]=new We(N.segments.slice(W.pathIndex),N.children),ks(ve,0,X)}return W.match&&0===X.length?new We(N.segments,{}):W.match&&!N.hasChildren()?xo(N,x,I):W.match?ks(N,0,X):xo(N,x,I)}function ks(N,x,I){if(0===I.length)return new We(N.segments,{});{const W=function vs(N){return mi(N[0])?N[0].outlets:{[En]:N}}(I),X={};return cn(W,(ve,Ke)=>{"string"==typeof ve&&(ve=[ve]),null!==ve&&(X[Ke]=so(N.children[Ke],x,ve))}),cn(N.children,(ve,Ke)=>{void 0===W[Ke]&&(X[Ke]=ve)}),new We(N.segments,X)}}function xo(N,x,I){const W=N.segments.slice(0,x);let X=0;for(;X<I.length;){const ve=I[X];if(mi(ve)){const Zt=Fs(ve.outlets);return new We(W,Zt)}if(0===X&&Fr(I[0])){W.push(new Ae(N.segments[x].path,qo(I[0]))),X++;continue}const Ke=mi(ve)?ve.outlets[En]:`${ve}`,lt=X<I.length-1?I[X+1]:null;Ke&&lt&&Fr(lt)?(W.push(new Ae(Ke,qo(lt))),X+=2):(W.push(new Ae(Ke,{})),X++)}return new We(W,{})}function Fs(N){const x={};return cn(N,(I,W)=>{"string"==typeof I&&(I=[I]),null!==I&&(x[W]=xo(new We([],{}),0,I))}),x}function qo(N){const x={};return cn(N,(I,W)=>x[W]=`${I}`),x}function Ls(N,x,I){return N==I.path&&Qe(x,I.parameters)}class Or{constructor(x,I,W,X){this.routeReuseStrategy=x,this.futureState=I,this.currState=W,this.forwardEvent=X}activate(x){const I=this.futureState._root,W=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,W,x),st(this.futureState.root),this.activateChildRoutes(I,W,x)}deactivateChildRoutes(x,I,W){const X=lr(I);x.children.forEach(ve=>{const Ke=ve.value.outlet;this.deactivateRoutes(ve,X[Ke],W),delete X[Ke]}),cn(X,(ve,Ke)=>{this.deactivateRouteAndItsChildren(ve,W)})}deactivateRoutes(x,I,W){const X=x.value,ve=I?I.value:null;if(X===ve)if(X.component){const Ke=W.getContext(X.outlet);Ke&&this.deactivateChildRoutes(x,I,Ke.children)}else this.deactivateChildRoutes(x,I,W);else ve&&this.deactivateRouteAndItsChildren(I,W)}deactivateRouteAndItsChildren(x,I){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,I):this.deactivateRouteAndOutlet(x,I)}detachAndStoreRouteSubtree(x,I){const W=I.getContext(x.value.outlet),X=W&&x.value.component?W.children:I,ve=lr(x);for(const Ke of Object.keys(ve))this.deactivateRouteAndItsChildren(ve[Ke],X);if(W&&W.outlet){const Ke=W.outlet.detach(),lt=W.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:Ke,route:x,contexts:lt})}}deactivateRouteAndOutlet(x,I){const W=I.getContext(x.value.outlet),X=W&&x.value.component?W.children:I,ve=lr(x);for(const Ke of Object.keys(ve))this.deactivateRouteAndItsChildren(ve[Ke],X);W&&W.outlet&&(W.outlet.deactivate(),W.children.onOutletDeactivated(),W.attachRef=null,W.resolver=null,W.route=null)}activateChildRoutes(x,I,W){const X=lr(I);x.children.forEach(ve=>{this.activateRoutes(ve,X[ve.value.outlet],W),this.forwardEvent(new Pr(ve.value.snapshot))}),x.children.length&&this.forwardEvent(new mr(x.value.snapshot))}activateRoutes(x,I,W){const X=x.value,ve=I?I.value:null;if(st(X),X===ve)if(X.component){const Ke=W.getOrCreateContext(X.outlet);this.activateChildRoutes(x,I,Ke.children)}else this.activateChildRoutes(x,I,W);else if(X.component){const Ke=W.getOrCreateContext(X.outlet);if(this.routeReuseStrategy.shouldAttach(X.snapshot)){const lt=this.routeReuseStrategy.retrieve(X.snapshot);this.routeReuseStrategy.store(X.snapshot,null),Ke.children.onOutletReAttached(lt.contexts),Ke.attachRef=lt.componentRef,Ke.route=lt.route.value,Ke.outlet&&Ke.outlet.attach(lt.componentRef,lt.route.value),st(lt.route.value),this.activateChildRoutes(x,null,Ke.children)}else{const lt=function Js(N){for(let x=N.parent;x;x=x.parent){const I=x.routeConfig;if(I&&I._loadedConfig)return I._loadedConfig;if(I&&I.component)return null}return null}(X.snapshot),Zt=lt?lt.module.componentFactoryResolver:null;Ke.attachRef=null,Ke.route=X,Ke.resolver=Zt,Ke.outlet&&Ke.outlet.activateWith(X,Zt),this.activateChildRoutes(x,null,Ke.children)}}else this.activateChildRoutes(x,null,W)}}class rs{constructor(x,I){this.routes=x,this.module=I}}function is(N){return"function"==typeof N}function xi(N){return N instanceof be}const Li=Symbol("INITIAL_VALUE");function As(){return(0,le.w)(N=>(0,Te.a)(N.map(x=>x.pipe((0,Tt.q)(1),(0,kt.O)(Li)))).pipe((0,_t.R)((x,I)=>{let W=!1;return I.reduce((X,ve,Ke)=>X!==Li?X:(ve===Li&&(W=!0),W||!1!==ve&&Ke!==I.length-1&&!xi(ve)?X:ve),x)},Li),(0,pt.h)(x=>x!==Li),(0,Le.U)(x=>xi(x)?x:!0===x),(0,Tt.q)(1)))}class Vs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Es,this.attachRef=null}}class Es{constructor(){this.contexts=new Map}onChildOutletCreated(x,I){const W=this.getOrCreateContext(x);W.outlet=I,this.contexts.set(x,W)}onChildOutletDestroyed(x){const I=this.getContext(x);I&&(I.outlet=null,I.attachRef=null)}onOutletDeactivated(){const x=this.contexts;return this.contexts=new Map,x}onOutletReAttached(x){this.contexts=x}getOrCreateContext(x){let I=this.getContext(x);return I||(I=new Vs,this.contexts.set(x,I)),I}getContext(x){return this.contexts.get(x)||null}}let $i=(()=>{class N{constructor(I,W,X,ve,Ke){this.parentContexts=I,this.location=W,this.resolver=X,this.changeDetector=Ke,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=ve||En,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,W){this.activated=I,this._activatedRoute=W,this.location.insert(I.hostView),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,W){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=I;const Ke=(W=W||this.resolver).resolveComponentFactory(I._futureSnapshot.routeConfig.component),lt=this.parentContexts.getOrCreateContext(this.name).children,Zt=new Zr(I,lt,this.location.injector);this.activated=this.location.createComponent(Ke,this.location.length,Zt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return N.\u0275fac=function(I){return new(I||N)(u.Y36(Es),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},N.\u0275dir=u.lG2({type:N,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),N})();class Zr{constructor(x,I,W){this.route=x,this.childContexts=I,this.parent=W}get(x,I){return x===si?this.route:x===Es?this.childContexts:this.parent.get(x,I)}}let ds=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275cmp=u.Xpm({type:N,selectors:[["ng-component"]],decls:1,vars:0,template:function(I,W){1&I&&u._UZ(0,"router-outlet")},directives:[$i],encapsulation:2}),N})();function Bs(N,x=""){for(let I=0;I<N.length;I++){const W=N[I];oi(W,fs(x,W))}}function oi(N,x){N.children&&Bs(N.children,x)}function fs(N,x){return x?N||x.path?N&&!x.path?`${N}/`:!N&&x.path?x.path:`${N}/${x.path}`:"":N}function Us(N){const x=N.children&&N.children.map(Us),I=x?Object.assign(Object.assign({},N),{children:x}):Object.assign({},N);return!I.component&&(x||I.loadChildren)&&I.outlet&&I.outlet!==En&&(I.component=ds),I}function ci(N){return N.outlet||En}function Qt(N,x){const I=N.filter(W=>ci(W)===x);return I.push(...N.filter(W=>ci(W)!==x)),I}const Nr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yr(N,x,I){var W;if(""===x.path)return"full"===x.pathMatch&&(N.hasChildren()||I.length>0)?Object.assign({},Nr):{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const ve=(x.matcher||Rt)(I,N,x);if(!ve)return Object.assign({},Nr);const Ke={};cn(ve.posParams,(Zt,Zn)=>{Ke[Zn]=Zt.path});const lt=ve.consumed.length>0?Object.assign(Object.assign({},Ke),ve.consumed[ve.consumed.length-1].parameters):Ke;return{matched:!0,consumedSegments:ve.consumed,remainingSegments:I.slice(ve.consumed.length),parameters:lt,positionalParamSegments:null!==(W=ve.posParams)&&void 0!==W?W:{}}}function Ti(N,x,I,W,X="corrected"){if(I.length>0&&function Lr(N,x,I){return I.some(W=>oe(N,x,W)&&ci(W)!==En)}(N,I,W)){const Ke=new We(x,function os(N,x,I,W){const X={};X[En]=W,W._sourceSegment=N,W._segmentIndexShift=x.length;for(const ve of I)if(""===ve.path&&ci(ve)!==En){const Ke=new We([],{});Ke._sourceSegment=N,Ke._segmentIndexShift=x.length,X[ci(ve)]=Ke}return X}(N,x,W,new We(I,N.children)));return Ke._sourceSegment=N,Ke._segmentIndexShift=x.length,{segmentGroup:Ke,slicedSegments:[]}}if(0===I.length&&function j(N,x,I){return I.some(W=>oe(N,x,W))}(N,I,W)){const Ke=new We(N.segments,function bs(N,x,I,W,X,ve){const Ke={};for(const lt of W)if(oe(N,I,lt)&&!X[ci(lt)]){const Zt=new We([],{});Zt._sourceSegment=N,Zt._segmentIndexShift="legacy"===ve?N.segments.length:x.length,Ke[ci(lt)]=Zt}return Object.assign(Object.assign({},X),Ke)}(N,x,I,W,N.children,X));return Ke._sourceSegment=N,Ke._segmentIndexShift=x.length,{segmentGroup:Ke,slicedSegments:I}}const ve=new We(N.segments,N.children);return ve._sourceSegment=N,ve._segmentIndexShift=x.length,{segmentGroup:ve,slicedSegments:I}}function oe(N,x,I){return(!(N.hasChildren()||x.length>0)||"full"!==I.pathMatch)&&""===I.path}function $(N,x,I,W){return!!(ci(N)===W||W!==En&&oe(x,I,N))&&("**"===N.path||Yr(x,N,I).matched)}function Ee(N,x,I){return 0===x.length&&!N.children[I]}class dt{constructor(x){this.segmentGroup=x||null}}class Ft{constructor(x){this.urlTree=x}}function Xt(N){return(0,Fe._)(new dt(N))}function kn(N){return(0,Fe._)(new Ft(N))}class jr{constructor(x,I,W,X,ve){this.configLoader=I,this.urlSerializer=W,this.urlTree=X,this.config=ve,this.allowRedirects=!0,this.ngModule=x.get(u.h0i)}apply(){const x=Ti(this.urlTree.root,[],[],this.config).segmentGroup,I=new We(x.segments,x.children);return this.expandSegmentGroup(this.ngModule,this.config,I,En).pipe((0,Le.U)(ve=>this.createUrlTree(ni(ve),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,mt.K)(ve=>{if(ve instanceof Ft)return this.allowRedirects=!1,this.match(ve.urlTree);throw ve instanceof dt?this.noMatchError(ve):ve}))}match(x){return this.expandSegmentGroup(this.ngModule,this.config,x.root,En).pipe((0,Le.U)(X=>this.createUrlTree(ni(X),x.queryParams,x.fragment))).pipe((0,mt.K)(X=>{throw X instanceof dt?this.noMatchError(X):X}))}noMatchError(x){return new Error(`Cannot match any routes. URL Segment: '${x.segmentGroup}'`)}createUrlTree(x,I,W){const X=x.segments.length>0?new We([],{[En]:x}):x;return new be(X,I,W)}expandSegmentGroup(x,I,W,X){return 0===W.segments.length&&W.hasChildren()?this.expandChildren(x,I,W).pipe((0,Le.U)(ve=>new We([],ve))):this.expandSegment(x,W,I,W.segments,X,!0)}expandChildren(x,I,W){const X=[];for(const ve of Object.keys(W.children))"primary"===ve?X.unshift(ve):X.push(ve);return(0,ge.D)(X).pipe((0,Ct.b)(ve=>{const Ke=W.children[ve],lt=Qt(I,ve);return this.expandSegmentGroup(x,lt,Ke,ve).pipe((0,Le.U)(Zt=>({segment:Zt,outlet:ve})))}),(0,_t.R)((ve,Ke)=>(ve[Ke.outlet]=Ke.segment,ve),{}),function Se(N,x){const I=arguments.length>=2;return W=>W.pipe(N?(0,pt.h)((X,ve)=>N(X,ve,W)):De.y,Ye(1),I?(0,$e.d)(x):(0,Ut.T)(()=>new Xe.K))}())}expandSegment(x,I,W,X,ve,Ke){return(0,ge.D)(W).pipe((0,Ct.b)(lt=>this.expandSegmentAgainstRoute(x,I,W,lt,X,ve,Ke).pipe((0,mt.K)(Zn=>{if(Zn instanceof dt)return(0,ke.of)(null);throw Zn}))),(0,xt.P)(lt=>!!lt),(0,mt.K)((lt,Zt)=>{if(lt instanceof Xe.K||"EmptyError"===lt.name)return Ee(I,X,ve)?(0,ke.of)(new We([],{})):Xt(I);throw lt}))}expandSegmentAgainstRoute(x,I,W,X,ve,Ke,lt){return $(X,I,ve,Ke)?void 0===X.redirectTo?this.matchSegmentAgainstRoute(x,I,X,ve,Ke):lt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,I,W,X,ve,Ke):Xt(I):Xt(I)}expandSegmentAgainstRouteUsingRedirect(x,I,W,X,ve,Ke){return"**"===X.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,W,X,Ke):this.expandRegularSegmentAgainstRouteUsingRedirect(x,I,W,X,ve,Ke)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,I,W,X){const ve=this.applyRedirectCommands([],W.redirectTo,{});return W.redirectTo.startsWith("/")?kn(ve):this.lineralizeSegments(W,ve).pipe((0,ut.z)(Ke=>{const lt=new We(Ke,{});return this.expandSegment(x,lt,I,Ke,X,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,I,W,X,ve,Ke){const{matched:lt,consumedSegments:Zt,remainingSegments:Zn,positionalParamSegments:Fn}=Yr(I,X,ve);if(!lt)return Xt(I);const ir=this.applyRedirectCommands(Zt,X.redirectTo,Fn);return X.redirectTo.startsWith("/")?kn(ir):this.lineralizeSegments(X,ir).pipe((0,ut.z)(yi=>this.expandSegment(x,I,W,yi.concat(Zn),Ke,!1)))}matchSegmentAgainstRoute(x,I,W,X,ve){if("**"===W.path)return W.loadChildren?(W._loadedConfig?(0,ke.of)(W._loadedConfig):this.configLoader.load(x.injector,W)).pipe((0,Le.U)(ir=>(W._loadedConfig=ir,new We(X,{})))):(0,ke.of)(new We(X,{}));const{matched:Ke,consumedSegments:lt,remainingSegments:Zt}=Yr(I,W,X);return Ke?this.getChildConfig(x,W,X).pipe((0,ut.z)(Fn=>{const ir=Fn.module,yi=Fn.routes,{segmentGroup:xr,slicedSegments:ar}=Ti(I,lt,Zt,yi),Eo=new We(xr.segments,xr.children);if(0===ar.length&&Eo.hasChildren())return this.expandChildren(ir,yi,Eo).pipe((0,Le.U)(vi=>new We(lt,vi)));if(0===yi.length&&0===ar.length)return(0,ke.of)(new We(lt,{}));const Oo=ci(W)===ve;return this.expandSegment(ir,Eo,yi,ar,Oo?En:ve,!0).pipe((0,Le.U)(Zs=>new We(lt.concat(Zs.segments),Zs.children)))})):Xt(I)}getChildConfig(x,I,W){return I.children?(0,ke.of)(new rs(I.children,x)):I.loadChildren?void 0!==I._loadedConfig?(0,ke.of)(I._loadedConfig):this.runCanLoadGuards(x.injector,I,W).pipe((0,ut.z)(X=>X?this.configLoader.load(x.injector,I).pipe((0,Le.U)(ve=>(I._loadedConfig=ve,ve))):function Wr(N){return(0,Fe._)(Ir(`Cannot load children because the guard of the route "path: '${N.path}'" returned false`))}(I))):(0,ke.of)(new rs([],x))}runCanLoadGuards(x,I,W){const X=I.canLoad;if(!X||0===X.length)return(0,ke.of)(!0);const ve=X.map(Ke=>{const lt=x.get(Ke);let Zt;if(function Ri(N){return N&&is(N.canLoad)}(lt))Zt=lt.canLoad(I,W);else{if(!is(lt))throw new Error("Invalid CanLoad guard");Zt=lt(I,W)}return Mn(Zt)});return(0,ke.of)(ve).pipe(As(),(0,Kt.b)(Ke=>{if(!xi(Ke))return;const lt=Ir(`Redirecting to "${this.urlSerializer.serialize(Ke)}"`);throw lt.url=Ke,lt}),(0,Le.U)(Ke=>!0===Ke))}lineralizeSegments(x,I){let W=[],X=I.root;for(;;){if(W=W.concat(X.segments),0===X.numberOfChildren)return(0,ke.of)(W);if(X.numberOfChildren>1||!X.children[En])return(0,Fe._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${x.redirectTo}'`));X=X.children[En]}}applyRedirectCommands(x,I,W){return this.applyRedirectCreatreUrlTree(I,this.urlSerializer.parse(I),x,W)}applyRedirectCreatreUrlTree(x,I,W,X){const ve=this.createSegmentGroup(x,I.root,W,X);return new be(ve,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(x,I){const W={};return cn(x,(X,ve)=>{if("string"==typeof X&&X.startsWith(":")){const lt=X.substring(1);W[ve]=I[lt]}else W[ve]=X}),W}createSegmentGroup(x,I,W,X){const ve=this.createSegments(x,I.segments,W,X);let Ke={};return cn(I.children,(lt,Zt)=>{Ke[Zt]=this.createSegmentGroup(x,lt,W,X)}),new We(ve,Ke)}createSegments(x,I,W,X){return I.map(ve=>ve.path.startsWith(":")?this.findPosParam(x,ve,X):this.findOrReturn(ve,W))}findPosParam(x,I,W){const X=W[I.path.substring(1)];if(!X)throw new Error(`Cannot redirect to '${x}'. Cannot find '${I.path}'.`);return X}findOrReturn(x,I){let W=0;for(const X of I){if(X.path===x.path)return I.splice(W),X;W++}return x}}function ni(N){const x={};for(const W of Object.keys(N.children)){const ve=ni(N.children[W]);(ve.segments.length>0||ve.hasChildren())&&(x[W]=ve)}return function Oi(N){if(1===N.numberOfChildren&&N.children[En]){const x=N.children[En];return new We(N.segments.concat(x.segments),x.children)}return N}(new We(N.segments,x))}class K{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class U{constructor(x,I){this.component=x,this.route=I}}function k(N,x,I){const W=N._root;return ui(W,x?x._root:null,I,[W.value])}function Wt(N,x,I){const W=function zn(N){if(!N)return null;for(let x=N.parent;x;x=x.parent){const I=x.routeConfig;if(I&&I._loadedConfig)return I._loadedConfig}return null}(x);return(W?W.module.injector:I).get(N)}function ui(N,x,I,W,X={canDeactivateChecks:[],canActivateChecks:[]}){const ve=lr(x);return N.children.forEach(Ke=>{(function Yi(N,x,I,W,X={canDeactivateChecks:[],canActivateChecks:[]}){const ve=N.value,Ke=x?x.value:null,lt=I?I.getContext(N.value.outlet):null;if(Ke&&ve.routeConfig===Ke.routeConfig){const Zt=function oo(N,x,I){if("function"==typeof I)return I(N,x);switch(I){case"pathParamsChange":return!Ge(N.url,x.url);case"pathParamsOrQueryParamsChange":return!Ge(N.url,x.url)||!Qe(N.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pt(N,x)||!Qe(N.queryParams,x.queryParams);default:return!Pt(N,x)}}(Ke,ve,ve.routeConfig.runGuardsAndResolvers);Zt?X.canActivateChecks.push(new K(W)):(ve.data=Ke.data,ve._resolvedData=Ke._resolvedData),ui(N,x,ve.component?lt?lt.children:null:I,W,X),Zt&&lt&&lt.outlet&&lt.outlet.isActivated&&X.canDeactivateChecks.push(new U(lt.outlet.component,Ke))}else Ke&&es(x,lt,X),X.canActivateChecks.push(new K(W)),ui(N,null,ve.component?lt?lt.children:null:I,W,X)})(Ke,ve[Ke.value.outlet],I,W.concat([Ke.value]),X),delete ve[Ke.value.outlet]}),cn(ve,(Ke,lt)=>es(Ke,I.getContext(lt),X)),X}function es(N,x,I){const W=lr(N),X=N.value;cn(W,(ve,Ke)=>{es(ve,X.component?x?x.children.getContext(Ke):null:x,I)}),I.canDeactivateChecks.push(new U(X.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,X))}class Uo{}function La(N){return new C.y(x=>x.error(N))}class Ro{constructor(x,I,W,X,ve,Ke){this.rootComponentType=x,this.config=I,this.urlTree=W,this.url=X,this.paramsInheritanceStrategy=ve,this.relativeLinkResolution=Ke}recognize(){const x=Ti(this.urlTree.root,[],[],this.config.filter(Ke=>void 0===Ke.redirectTo),this.relativeLinkResolution).segmentGroup,I=this.processSegmentGroup(this.config,x,En);if(null===I)return null;const W=new Vn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},En,this.rootComponentType,null,this.urlTree.root,-1,{}),X=new Ln(W,I),ve=new pr(this.url,X);return this.inheritParamsAndData(ve._root),ve}inheritParamsAndData(x){const I=x.value,W=Xi(I,this.paramsInheritanceStrategy);I.params=Object.freeze(W.params),I.data=Object.freeze(W.data),x.children.forEach(X=>this.inheritParamsAndData(X))}processSegmentGroup(x,I,W){return 0===I.segments.length&&I.hasChildren()?this.processChildren(x,I):this.processSegment(x,I,I.segments,W)}processChildren(x,I){const W=[];for(const ve of Object.keys(I.children)){const Ke=I.children[ve],lt=Qt(x,ve),Zt=this.processSegmentGroup(lt,Ke,ve);if(null===Zt)return null;W.push(...Zt)}const X=co(W);return function ps(N){N.sort((x,I)=>x.value.outlet===En?-1:I.value.outlet===En?1:x.value.outlet.localeCompare(I.value.outlet))}(X),X}processSegment(x,I,W,X){for(const ve of x){const Ke=this.processSegmentAgainstRoute(ve,I,W,X);if(null!==Ke)return Ke}return Ee(I,W,X)?[]:null}processSegmentAgainstRoute(x,I,W,X){if(x.redirectTo||!$(x,I,W,X))return null;let ve,Ke=[],lt=[];if("**"===x.path){const xr=W.length>0?bt(W).parameters:{};ve=new Vn(W,xr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,B(x),ci(x),x.component,x,v(I),D(I)+W.length,ue(x))}else{const xr=Yr(I,x,W);if(!xr.matched)return null;Ke=xr.consumedSegments,lt=xr.remainingSegments,ve=new Vn(Ke,xr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,B(x),ci(x),x.component,x,v(I),D(I)+Ke.length,ue(x))}const Zt=function Wi(N){return N.children?N.children:N.loadChildren?N._loadedConfig.routes:[]}(x),{segmentGroup:Zn,slicedSegments:Fn}=Ti(I,Ke,lt,Zt.filter(xr=>void 0===xr.redirectTo),this.relativeLinkResolution);if(0===Fn.length&&Zn.hasChildren()){const xr=this.processChildren(Zt,Zn);return null===xr?null:[new Ln(ve,xr)]}if(0===Zt.length&&0===Fn.length)return[new Ln(ve,[])];const ir=ci(x)===X,yi=this.processSegment(Zt,Zn,Fn,ir?En:X);return null===yi?null:[new Ln(ve,yi)]}}function Ks(N){const x=N.value.routeConfig;return x&&""===x.path&&void 0===x.redirectTo}function co(N){const x=[],I=new Set;for(const W of N){if(!Ks(W)){x.push(W);continue}const X=x.find(ve=>W.value.routeConfig===ve.value.routeConfig);void 0!==X?(X.children.push(...W.children),I.add(X)):x.push(W)}for(const W of I){const X=co(W.children);x.push(new Ln(W.value,X))}return x.filter(W=>!I.has(W))}function v(N){let x=N;for(;x._sourceSegment;)x=x._sourceSegment;return x}function D(N){let x=N,I=x._segmentIndexShift?x._segmentIndexShift:0;for(;x._sourceSegment;)x=x._sourceSegment,I+=x._segmentIndexShift?x._segmentIndexShift:0;return I-1}function B(N){return N.data||{}}function ue(N){return N.resolve||{}}function Jt(N){return[...Object.keys(N),...Object.getOwnPropertySymbols(N)]}function Qn(N){return(0,le.w)(x=>{const I=N(x);return I?(0,ge.D)(I).pipe((0,Le.U)(()=>x)):(0,ke.of)(x)})}class ur extends class kr{shouldDetach(x){return!1}store(x,I){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,I){return x.routeConfig===I.routeConfig}}{}const Vr=new u.OlP("ROUTES");class gi{constructor(x,I,W,X){this.injector=x,this.compiler=I,this.onLoadStartListener=W,this.onLoadEndListener=X}load(x,I){if(I._loader$)return I._loader$;this.onLoadStartListener&&this.onLoadStartListener(I);const X=this.loadModuleFactory(I.loadChildren).pipe((0,Le.U)(ve=>{this.onLoadEndListener&&this.onLoadEndListener(I);const Ke=ve.create(x);return new rs(Ve(Ke.injector.get(Vr,void 0,u.XFs.Self|u.XFs.Optional)).map(Us),Ke)}),(0,mt.K)(ve=>{throw I._loader$=void 0,ve}));return I._loader$=new ze(X,()=>new Je.x).pipe(Ue()),I._loader$}loadModuleFactory(x){return Mn(x()).pipe((0,ut.z)(I=>I instanceof u.YKP?(0,ke.of)(I):(0,ge.D)(this.compiler.compileModuleAsync(I))))}}class Bi{shouldProcessUrl(x){return!0}extract(x){return x}merge(x,I){return x}}function ms(N){throw N}function di(N,x,I){return x.parse("/")}function gs(N,x){return(0,ke.of)(null)}const Ei={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ei=(()=>{class N{constructor(I,W,X,ve,Ke,lt,Zt){this.rootComponentType=I,this.urlSerializer=W,this.rootContexts=X,this.location=ve,this.config=Zt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Je.x,this.errorHandler=ms,this.malformedUriErrorHandler=di,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:gs,afterPreactivation:gs},this.urlHandlingStrategy=new Bi,this.routeReuseStrategy=new ur,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ke.get(u.h0i),this.console=Ke.get(u.c2e);const ir=Ke.get(u.R0b);this.isNgZoneEnabled=ir instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(Zt),this.currentUrlTree=function wr(){return new be(new We([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new gi(Ke,lt,yi=>this.triggerEvent(new cr(yi)),yi=>this.triggerEvent(new sr(yi))),this.routerState=qn(this.currentUrlTree,this.rootComponentType),this.transitions=new me.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var I;return null===(I=this.location.getState())||void 0===I?void 0:I.\u0275routerPageId}setupNavigations(I){const W=this.events;return I.pipe((0,pt.h)(X=>0!==X.id),(0,Le.U)(X=>Object.assign(Object.assign({},X),{extractedUrl:this.urlHandlingStrategy.extract(X.rawUrl)})),(0,le.w)(X=>{let ve=!1,Ke=!1;return(0,ke.of)(X).pipe((0,Kt.b)(lt=>{this.currentNavigation={id:lt.id,initialUrl:lt.currentRawUrl,extractedUrl:lt.extractedUrl,trigger:lt.source,extras:lt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,le.w)(lt=>{const Zt=this.browserUrlTree.toString(),Zn=!this.navigated||lt.extractedUrl.toString()!==Zt||Zt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Zn)&&this.urlHandlingStrategy.shouldProcessUrl(lt.rawUrl))return Hs(lt.source)&&(this.browserUrlTree=lt.extractedUrl),(0,ke.of)(lt).pipe((0,le.w)(ir=>{const yi=this.transitions.getValue();return W.next(new Bt(ir.id,this.serializeUrl(ir.extractedUrl),ir.source,ir.restoredState)),yi!==this.transitions.getValue()?Dt.E:Promise.resolve(ir)}),function wi(N,x,I,W){return(0,le.w)(X=>function Hr(N,x,I,W,X){return new jr(N,x,I,W,X).apply()}(N,x,I,X.extractedUrl,W).pipe((0,Le.U)(ve=>Object.assign(Object.assign({},X),{urlAfterRedirects:ve}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Kt.b)(ir=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:ir.urlAfterRedirects})}),function Oe(N,x,I,W,X){return(0,ut.z)(ve=>function uo(N,x,I,W,X="emptyOnly",ve="legacy"){try{const Ke=new Ro(N,x,I,W,X,ve).recognize();return null===Ke?La(new Uo):(0,ke.of)(Ke)}catch(Ke){return La(Ke)}}(N,x,ve.urlAfterRedirects,I(ve.urlAfterRedirects),W,X).pipe((0,Le.U)(Ke=>Object.assign(Object.assign({},ve),{targetSnapshot:Ke}))))}(this.rootComponentType,this.config,ir=>this.serializeUrl(ir),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Kt.b)(ir=>{if("eager"===this.urlUpdateStrategy){if(!ir.extras.skipLocationChange){const xr=this.urlHandlingStrategy.merge(ir.urlAfterRedirects,ir.rawUrl);this.setBrowserUrl(xr,ir)}this.browserUrlTree=ir.urlAfterRedirects}const yi=new sn(ir.id,this.serializeUrl(ir.extractedUrl),this.serializeUrl(ir.urlAfterRedirects),ir.targetSnapshot);W.next(yi)}));if(Zn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:yi,extractedUrl:xr,source:ar,restoredState:Eo,extras:Oo}=lt,jo=new Bt(yi,this.serializeUrl(xr),ar,Eo);W.next(jo);const Zs=qn(xr,this.rootComponentType).snapshot;return(0,ke.of)(Object.assign(Object.assign({},lt),{targetSnapshot:Zs,urlAfterRedirects:xr,extras:Object.assign(Object.assign({},Oo),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=lt.rawUrl,lt.resolve(null),Dt.E}),Qn(lt=>{const{targetSnapshot:Zt,id:Zn,extractedUrl:Fn,rawUrl:ir,extras:{skipLocationChange:yi,replaceUrl:xr}}=lt;return this.hooks.beforePreactivation(Zt,{navigationId:Zn,appliedUrlTree:Fn,rawUrlTree:ir,skipLocationChange:!!yi,replaceUrl:!!xr})}),(0,Kt.b)(lt=>{const Zt=new an(lt.id,this.serializeUrl(lt.extractedUrl),this.serializeUrl(lt.urlAfterRedirects),lt.targetSnapshot);this.triggerEvent(Zt)}),(0,Le.U)(lt=>Object.assign(Object.assign({},lt),{guards:k(lt.targetSnapshot,lt.currentSnapshot,this.rootContexts)})),function pn(N,x){return(0,ut.z)(I=>{const{targetSnapshot:W,currentSnapshot:X,guards:{canActivateChecks:ve,canDeactivateChecks:Ke}}=I;return 0===Ke.length&&0===ve.length?(0,ke.of)(Object.assign(Object.assign({},I),{guardsResult:!0})):function gr(N,x,I,W){return(0,ge.D)(N).pipe((0,ut.z)(X=>function Bo(N,x,I,W,X){const ve=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!ve||0===ve.length)return(0,ke.of)(!0);const Ke=ve.map(lt=>{const Zt=Wt(lt,x,X);let Zn;if(function cs(N){return N&&is(N.canDeactivate)}(Zt))Zn=Mn(Zt.canDeactivate(N,x,I,W));else{if(!is(Zt))throw new Error("Invalid CanDeactivate guard");Zn=Mn(Zt(N,x,I,W))}return Zn.pipe((0,xt.P)())});return(0,ke.of)(Ke).pipe(As())}(X.component,X.route,I,x,W)),(0,xt.P)(X=>!0!==X,!0))}(Ke,W,X,N).pipe((0,ut.z)(lt=>lt&&function ji(N){return"boolean"==typeof N}(lt)?function Fa(N,x,I,W){return(0,ge.D)(x).pipe((0,Ct.b)(X=>(0,tt.z)(function Ka(N,x){return null!==N&&x&&x(new Pn(N)),(0,ke.of)(!0)}(X.route.parent,W),function ki(N,x){return null!==N&&x&&x(new dr(N)),(0,ke.of)(!0)}(X.route,W),function lo(N,x,I){const W=x[x.length-1],ve=x.slice(0,x.length-1).reverse().map(Ke=>function fe(N){const x=N.routeConfig?N.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:N,guards:x}:null}(Ke)).filter(Ke=>null!==Ke).map(Ke=>(0,Ze.P)(()=>{const lt=Ke.guards.map(Zt=>{const Zn=Wt(Zt,Ke.node,I);let Fn;if(function us(N){return N&&is(N.canActivateChild)}(Zn))Fn=Mn(Zn.canActivateChild(W,N));else{if(!is(Zn))throw new Error("Invalid CanActivateChild guard");Fn=Mn(Zn(W,N))}return Fn.pipe((0,xt.P)())});return(0,ke.of)(lt).pipe(As())}));return(0,ke.of)(ve).pipe(As())}(N,X.path,I),function ao(N,x,I){const W=x.routeConfig?x.routeConfig.canActivate:null;if(!W||0===W.length)return(0,ke.of)(!0);const X=W.map(ve=>(0,Ze.P)(()=>{const Ke=Wt(ve,x,I);let lt;if(function ss(N){return N&&is(N.canActivate)}(Ke))lt=Mn(Ke.canActivate(x,N));else{if(!is(Ke))throw new Error("Invalid CanActivate guard");lt=Mn(Ke(x,N))}return lt.pipe((0,xt.P)())}));return(0,ke.of)(X).pipe(As())}(N,X.route,I))),(0,xt.P)(X=>!0!==X,!0))}(W,ve,N,x):(0,ke.of)(lt)),(0,Le.U)(lt=>Object.assign(Object.assign({},I),{guardsResult:lt})))})}(this.ngModule.injector,lt=>this.triggerEvent(lt)),(0,Kt.b)(lt=>{if(xi(lt.guardsResult)){const Zn=Ir(`Redirecting to "${this.serializeUrl(lt.guardsResult)}"`);throw Zn.url=lt.guardsResult,Zn}const Zt=new Gn(lt.id,this.serializeUrl(lt.extractedUrl),this.serializeUrl(lt.urlAfterRedirects),lt.targetSnapshot,!!lt.guardsResult);this.triggerEvent(Zt)}),(0,pt.h)(lt=>!!lt.guardsResult||(this.restoreHistory(lt),this.cancelNavigationTransition(lt,""),!1)),Qn(lt=>{if(lt.guards.canActivateChecks.length)return(0,ke.of)(lt).pipe((0,Kt.b)(Zt=>{const Zn=new vr(Zt.id,this.serializeUrl(Zt.extractedUrl),this.serializeUrl(Zt.urlAfterRedirects),Zt.targetSnapshot);this.triggerEvent(Zn)}),(0,le.w)(Zt=>{let Zn=!1;return(0,ke.of)(Zt).pipe(function it(N,x){return(0,ut.z)(I=>{const{targetSnapshot:W,guards:{canActivateChecks:X}}=I;if(!X.length)return(0,ke.of)(I);let ve=0;return(0,ge.D)(X).pipe((0,Ct.b)(Ke=>function ot(N,x,I,W){return function Nt(N,x,I,W){const X=Jt(N);if(0===X.length)return(0,ke.of)({});const ve={};return(0,ge.D)(X).pipe((0,ut.z)(Ke=>function Hn(N,x,I,W){const X=Wt(N,x,W);return Mn(X.resolve?X.resolve(x,I):X(x,I))}(N[Ke],x,I,W).pipe((0,Kt.b)(lt=>{ve[Ke]=lt}))),Ye(1),(0,ut.z)(()=>Jt(ve).length===X.length?(0,ke.of)(ve):Dt.E))}(N._resolve,N,x,W).pipe((0,Le.U)(ve=>(N._resolvedData=ve,N.data=Object.assign(Object.assign({},N.data),Xi(N,I).resolve),null)))}(Ke.route,W,N,x)),(0,Kt.b)(()=>ve++),Ye(1),(0,ut.z)(Ke=>ve===X.length?(0,ke.of)(I):Dt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Kt.b)({next:()=>Zn=!0,complete:()=>{Zn||(this.restoreHistory(Zt),this.cancelNavigationTransition(Zt,"At least one route resolver didn't emit any value."))}}))}),(0,Kt.b)(Zt=>{const Zn=new Kn(Zt.id,this.serializeUrl(Zt.extractedUrl),this.serializeUrl(Zt.urlAfterRedirects),Zt.targetSnapshot);this.triggerEvent(Zn)}))}),Qn(lt=>{const{targetSnapshot:Zt,id:Zn,extractedUrl:Fn,rawUrl:ir,extras:{skipLocationChange:yi,replaceUrl:xr}}=lt;return this.hooks.afterPreactivation(Zt,{navigationId:Zn,appliedUrlTree:Fn,rawUrlTree:ir,skipLocationChange:!!yi,replaceUrl:!!xr})}),(0,Le.U)(lt=>{const Zt=function on(N,x,I){const W=ln(N,x._root,I?I._root:void 0);return new zr(W,x)}(this.routeReuseStrategy,lt.targetSnapshot,lt.currentRouterState);return Object.assign(Object.assign({},lt),{targetRouterState:Zt})}),(0,Kt.b)(lt=>{this.currentUrlTree=lt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(lt.urlAfterRedirects,lt.rawUrl),this.routerState=lt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(lt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,lt),this.browserUrlTree=lt.urlAfterRedirects)}),((N,x,I)=>(0,Le.U)(W=>(new Or(x,W.targetRouterState,W.currentRouterState,I).activate(N),W)))(this.rootContexts,this.routeReuseStrategy,lt=>this.triggerEvent(lt)),(0,Kt.b)({next(){ve=!0},complete(){ve=!0}}),(0,tn.x)(()=>{var lt;ve||Ke||this.cancelNavigationTransition(X,`Navigation ID ${X.id} is not equal to the current navigation id ${this.navigationId}`),(null===(lt=this.currentNavigation)||void 0===lt?void 0:lt.id)===X.id&&(this.currentNavigation=null)}),(0,mt.K)(lt=>{if(Ke=!0,function nn(N){return N&&N[hr]}(lt)){const Zt=xi(lt.url);Zt||(this.navigated=!0,this.restoreHistory(X,!0));const Zn=new He(X.id,this.serializeUrl(X.extractedUrl),lt.message);W.next(Zn),Zt?setTimeout(()=>{const Fn=this.urlHandlingStrategy.merge(lt.url,this.rawUrlTree),ir={skipLocationChange:X.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hs(X.source)};this.scheduleNavigation(Fn,"imperative",null,ir,{resolve:X.resolve,reject:X.reject,promise:X.promise})},0):X.resolve(!1)}else{this.restoreHistory(X,!0);const Zt=new vt(X.id,this.serializeUrl(X.extractedUrl),lt);W.next(Zt);try{X.resolve(this.errorHandler(lt))}catch(Zn){X.reject(Zn)}}return Dt.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}setTransition(I){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),I))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const W="popstate"===I.type?"popstate":"hashchange";"popstate"===W&&setTimeout(()=>{var X;const ve={replaceUrl:!0},Ke=(null===(X=I.state)||void 0===X?void 0:X.navigationId)?I.state:null;if(Ke){const Zt=Object.assign({},Ke);delete Zt.navigationId,delete Zt.\u0275routerPageId,0!==Object.keys(Zt).length&&(ve.state=Zt)}const lt=this.parseUrl(I.url);this.scheduleNavigation(lt,W,Ke,ve)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){Bs(I),this.config=I.map(Us),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,W={}){const{relativeTo:X,queryParams:ve,fragment:Ke,queryParamsHandling:lt,preserveFragment:Zt}=W,Zn=X||this.routerState.root,Fn=Zt?this.currentUrlTree.fragment:Ke;let ir=null;switch(lt){case"merge":ir=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ve);break;case"preserve":ir=this.currentUrlTree.queryParams;break;default:ir=ve||null}return null!==ir&&(ir=this.removeEmptyProps(ir)),function Mr(N,x,I,W,X){if(0===I.length)return Ci(x.root,x.root,x.root,W,X);const ve=function Zi(N){if("string"==typeof N[0]&&1===N.length&&"/"===N[0])return new ys(!0,0,N);let x=0,I=!1;const W=N.reduce((X,ve,Ke)=>{if("object"==typeof ve&&null!=ve){if(ve.outlets){const lt={};return cn(ve.outlets,(Zt,Zn)=>{lt[Zn]="string"==typeof Zt?Zt.split("/"):Zt}),[...X,{outlets:lt}]}if(ve.segmentPath)return[...X,ve.segmentPath]}return"string"!=typeof ve?[...X,ve]:0===Ke?(ve.split("/").forEach((lt,Zt)=>{0==Zt&&"."===lt||(0==Zt&&""===lt?I=!0:".."===lt?x++:""!=lt&&X.push(lt))}),X):[...X,ve]},[]);return new ys(I,x,W)}(I);if(ve.toRoot())return Ci(x.root,x.root,new We([],{}),W,X);const Ke=function Mi(N,x,I){if(N.isAbsolute)return new Mo(x.root,!0,0);if(-1===I.snapshot._lastPathIndex){const ve=I.snapshot._urlSegment;return new Mo(ve,ve===x.root,0)}const W=Fr(N.commands[0])?0:1;return function Gs(N,x,I){let W=N,X=x,ve=I;for(;ve>X;){if(ve-=X,W=W.parent,!W)throw new Error("Invalid number of '../'");X=W.segments.length}return new Mo(W,!1,X-ve)}(I.snapshot._urlSegment,I.snapshot._lastPathIndex+W,N.numberOfDoubleDots)}(ve,x,N),lt=Ke.processChildren?ks(Ke.segmentGroup,Ke.index,ve.commands):so(Ke.segmentGroup,Ke.index,ve.commands);return Ci(x.root,Ke.segmentGroup,lt,W,X)}(Zn,this.currentUrlTree,I,ir,null!=Fn?Fn:null)}navigateByUrl(I,W={skipLocationChange:!1}){const X=xi(I)?I:this.parseUrl(I),ve=this.urlHandlingStrategy.merge(X,this.rawUrlTree);return this.scheduleNavigation(ve,"imperative",null,W)}navigate(I,W={skipLocationChange:!1}){return function qs(N){for(let x=0;x<N.length;x++){const I=N[x];if(null==I)throw new Error(`The requested path contains ${I} segment at index ${x}`)}}(I),this.navigateByUrl(this.createUrlTree(I,W),W)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let W;try{W=this.urlSerializer.parse(I)}catch(X){W=this.malformedUriErrorHandler(X,this.urlSerializer,I)}return W}isActive(I,W){let X;if(X=!0===W?Object.assign({},Ei):!1===W?Object.assign({},zi):W,xi(I))return at(this.currentUrlTree,I,X);const ve=this.parseUrl(I);return at(this.currentUrlTree,ve,X)}removeEmptyProps(I){return Object.keys(I).reduce((W,X)=>{const ve=I[X];return null!=ve&&(W[X]=ve),W},{})}processNavigations(){this.navigations.subscribe(I=>{this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new vn(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,I.resolve(!0)},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}scheduleNavigation(I,W,X,ve,Ke){var lt,Zt;if(this.disposed)return Promise.resolve(!1);let Zn,Fn,ir;Ke?(Zn=Ke.resolve,Fn=Ke.reject,ir=Ke.promise):ir=new Promise((ar,Eo)=>{Zn=ar,Fn=Eo});const yi=++this.navigationId;let xr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(X=this.location.getState()),xr=X&&X.\u0275routerPageId?X.\u0275routerPageId:ve.replaceUrl||ve.skipLocationChange?null!==(lt=this.browserPageId)&&void 0!==lt?lt:0:(null!==(Zt=this.browserPageId)&&void 0!==Zt?Zt:0)+1):xr=0,this.setTransition({id:yi,targetPageId:xr,source:W,restoredState:X,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:ve,resolve:Zn,reject:Fn,promise:ir,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ir.catch(ar=>Promise.reject(ar))}setBrowserUrl(I,W){const X=this.urlSerializer.serialize(I),ve=Object.assign(Object.assign({},W.extras.state),this.generateNgRouterState(W.id,W.targetPageId));this.location.isCurrentPathEqualTo(X)||W.extras.replaceUrl?this.location.replaceState(X,"",ve):this.location.go(X,"",ve)}restoreHistory(I,W=!1){var X,ve;if("computed"===this.canceledNavigationResolution){const Ke=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(X=this.currentNavigation)||void 0===X?void 0:X.finalUrl)||0===Ke?this.currentUrlTree===(null===(ve=this.currentNavigation)||void 0===ve?void 0:ve.finalUrl)&&0===Ke&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ke)}else"replace"===this.canceledNavigationResolution&&(W&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,W){const X=new He(I.id,this.serializeUrl(I.extractedUrl),W);this.triggerEvent(X),I.resolve(!1)}generateNgRouterState(I,W){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:W}:{navigationId:I}}}return N.\u0275fac=function(I){u.$Z()},N.\u0275prov=u.Yz7({token:N,factory:N.\u0275fac}),N})();function Hs(N){return"imperative"!==N}let ri=(()=>{class N{constructor(I,W,X,ve,Ke){this.router=I,this.route=W,this.tabIndexAttribute=X,this.renderer=ve,this.el=Ke,this.commands=null,this.onChanges=new Je.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(I){if(null!=this.tabIndexAttribute)return;const W=this.renderer,X=this.el.nativeElement;null!==I?W.setAttribute(X,"tabindex",I):W.removeAttribute(X,"tabindex")}ngOnChanges(I){this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const I={skipLocationChange:ts(this.skipLocationChange),replaceUrl:ts(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,I),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ts(this.preserveFragment)})}}return N.\u0275fac=function(I){return new(I||N)(u.Y36(ei),u.Y36(si),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},N.\u0275dir=u.lG2({type:N,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,W){1&I&&u.NdJ("click",function(){return W.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),N})();function ts(N){return""===N||!!N}class Nn{}class Ar{preload(x,I){return(0,ke.of)(null)}}let Tr=(()=>{class N{constructor(I,W,X,ve){this.router=I,this.injector=X,this.preloadingStrategy=ve,this.loader=new gi(X,W,Zt=>I.triggerEvent(new cr(Zt)),Zt=>I.triggerEvent(new sr(Zt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,pt.h)(I=>I instanceof vn),(0,Ct.b)(()=>this.preload())).subscribe(()=>{})}preload(){const I=this.injector.get(u.h0i);return this.processRoutes(I,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,W){const X=[];for(const ve of W)if(ve.loadChildren&&!ve.canLoad&&ve._loadedConfig){const Ke=ve._loadedConfig;X.push(this.processRoutes(Ke.module,Ke.routes))}else ve.loadChildren&&!ve.canLoad?X.push(this.preloadConfig(I,ve)):ve.children&&X.push(this.processRoutes(I,ve.children));return(0,ge.D)(X).pipe((0,dn.J)(),(0,Le.U)(ve=>{}))}preloadConfig(I,W){return this.preloadingStrategy.preload(W,()=>(W._loadedConfig?(0,ke.of)(W._loadedConfig):this.loader.load(I.injector,W)).pipe((0,ut.z)(ve=>(W._loadedConfig=ve,this.processRoutes(ve.module,ve.routes)))))}}return N.\u0275fac=function(I){return new(I||N)(u.LFG(ei),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(Nn))},N.\u0275prov=u.Yz7({token:N,factory:N.\u0275fac}),N})(),Ni=(()=>{class N{constructor(I,W,X={}){this.router=I,this.viewportScroller=W,this.options=X,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},X.scrollPositionRestoration=X.scrollPositionRestoration||"disabled",X.anchorScrolling=X.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof Bt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof vn&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof bn&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,W){this.router.triggerEvent(new bn(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,W))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return N.\u0275fac=function(I){u.$Z()},N.\u0275prov=u.Yz7({token:N,factory:N.\u0275fac}),N})();const ii=new u.OlP("ROUTER_CONFIGURATION"),Ki=new u.OlP("ROUTER_FORROOT_GUARD"),_i=[rn.Ye,{provide:we,useClass:Re},{provide:ei,useFactory:function Xn(N,x,I,W,X,ve,Ke={},lt,Zt){const Zn=new ei(null,N,x,I,W,X,Ve(ve));return lt&&(Zn.urlHandlingStrategy=lt),Zt&&(Zn.routeReuseStrategy=Zt),function Cr(N,x){N.errorHandler&&(x.errorHandler=N.errorHandler),N.malformedUriErrorHandler&&(x.malformedUriErrorHandler=N.malformedUriErrorHandler),N.onSameUrlNavigation&&(x.onSameUrlNavigation=N.onSameUrlNavigation),N.paramsInheritanceStrategy&&(x.paramsInheritanceStrategy=N.paramsInheritanceStrategy),N.relativeLinkResolution&&(x.relativeLinkResolution=N.relativeLinkResolution),N.urlUpdateStrategy&&(x.urlUpdateStrategy=N.urlUpdateStrategy),N.canceledNavigationResolution&&(x.canceledNavigationResolution=N.canceledNavigationResolution)}(Ke,Zn),Ke.enableTracing&&Zn.events.subscribe(Fn=>{var ir,yi;null===(ir=console.group)||void 0===ir||ir.call(console,`Router Event: ${Fn.constructor.name}`),console.log(Fn.toString()),console.log(Fn),null===(yi=console.groupEnd)||void 0===yi||yi.call(console)}),Zn},deps:[we,Es,rn.Ye,u.zs3,u.Sil,Vr,ii,[class Di{},new u.FiY],[class br{},new u.FiY]]},Es,{provide:si,useFactory:function Sl(N){return N.routerState.root},deps:[ei]},Tr,Ar,class or{preload(x,I){return I().pipe((0,mt.K)(()=>(0,ke.of)(null)))}},{provide:ii,useValue:{enableTracing:!1}}];function Ea(){return new u.PXZ("Router",ei)}let Tl=(()=>{class N{constructor(I,W){}static forRoot(I,W){return{ngModule:N,providers:[_i,eo(I),{provide:Ki,useFactory:ws,deps:[[ei,new u.FiY,new u.tp0]]},{provide:ii,useValue:W||{}},{provide:rn.S$,useFactory:ai,deps:[rn.lw,[new u.tBr(rn.mr),new u.FiY],ii]},{provide:Ni,useFactory:yn,deps:[ei,rn.EM,ii]},{provide:Nn,useExisting:W&&W.preloadingStrategy?W.preloadingStrategy:Ar},{provide:u.PXZ,multi:!0,useFactory:Ea},[An,{provide:u.ip1,multi:!0,useFactory:zt,deps:[An]},{provide:Ui,useFactory:Dn,deps:[An]},{provide:u.tb,multi:!0,useExisting:Ui}]]}}static forChild(I){return{ngModule:N,providers:[eo(I)]}}}return N.\u0275fac=function(I){return new(I||N)(u.LFG(Ki,8),u.LFG(ei,8))},N.\u0275mod=u.oAB({type:N}),N.\u0275inj=u.cJS({}),N})();function yn(N,x,I){return I.scrollOffset&&x.setOffset(I.scrollOffset),new Ni(N,x,I)}function ai(N,x,I={}){return I.useHash?new rn.Do(N,x):new rn.b0(N,x)}function ws(N){return"guarded"}function eo(N){return[{provide:u.deG,multi:!0,useValue:N},{provide:Vr,multi:!0,useValue:N}]}let An=(()=>{class N{constructor(I){this.injector=I,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Je.x}appInitializer(){return this.injector.get(rn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let W=null;const X=new Promise(lt=>W=lt),ve=this.injector.get(ei),Ke=this.injector.get(ii);return"disabled"===Ke.initialNavigation?(ve.setUpLocationChangeListener(),W(!0)):"enabled"===Ke.initialNavigation||"enabledBlocking"===Ke.initialNavigation?(ve.hooks.afterPreactivation=()=>this.initNavigation?(0,ke.of)(null):(this.initNavigation=!0,W(!0),this.resultOfPreactivationDone),ve.initialNavigation()):W(!0),X})}bootstrapListener(I){const W=this.injector.get(ii),X=this.injector.get(Tr),ve=this.injector.get(Ni),Ke=this.injector.get(ei),lt=this.injector.get(u.z2F);I===lt.components[0]&&(("enabledNonBlocking"===W.initialNavigation||void 0===W.initialNavigation)&&Ke.initialNavigation(),X.setUpPreloading(),ve.init(),Ke.resetRootComponentType(lt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return N.\u0275fac=function(I){return new(I||N)(u.LFG(u.zs3))},N.\u0275prov=u.Yz7({token:N,factory:N.\u0275fac}),N})();function zt(N){return N.appInitializer.bind(N)}function Dn(N){return N.bootstrapListener.bind(N)}const Ui=new u.OlP("Router Initializer")},3942:(fn,ht,S)=>{S.d(ht,{Z:()=>Ze});var u=S(2090),C=S(4859),G=S(9681),z=S(1877);class Ce{constructor(Je,pt){this._delegate=Je,this.firebase=pt,(0,G._addComponent)(Je,new C.wA("app-compat",()=>this,"PUBLIC")),this.container=Je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this._delegate.automaticDataCollectionEnabled=Je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Je=>{this._delegate.checkDestroyed(),Je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(Je,pt=G._DEFAULT_ENTRY_NAME){var Ye;this._delegate.checkDestroyed();const Ut=this._delegate.container.getProvider(Je);return!Ut.isInitialized()&&"EXPLICIT"===(null===(Ye=Ut.getComponent())||void 0===Ye?void 0:Ye.instantiationMode)&&Ut.initialize(),Ut.getImmediate({identifier:pt})}_removeServiceInstance(Je,pt=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Je).clearInstance(pt)}_addComponent(Je){(0,G._addComponent)(this._delegate,Je)}_addOrOverwriteComponent(Je){(0,G._addOrOverwriteComponent)(this._delegate,Je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ze=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),me=function ke(){const Dt=function ge(Dt){const Je={},pt={__esModule:!0,initializeApp:function $e(le,Tt={}){const kt=G.initializeApp(le,Tt);if((0,u.r3)(Je,kt.name))return Je[kt.name];const _t=new Dt(kt,pt);return Je[kt.name]=_t,_t},app:Ut,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function Se(le){const Tt=le.name,kt=Tt.replace("-compat","");if(G._registerComponent(le)&&"PUBLIC"===le.type){const _t=(mt=Ut())=>{if("function"!=typeof mt[kt])throw ze.create("invalid-app-argument",{appName:Tt});return mt[kt]()};void 0!==le.serviceProps&&(0,u.ZB)(_t,le.serviceProps),pt[kt]=_t,Dt.prototype[kt]=function(...mt){return this._getService.bind(this,Tt).apply(this,le.multipleInstances?mt:[])}}return"PUBLIC"===le.type?pt[kt]:null},removeApp:function Ye(le){delete Je[le]},useAsService:function Le(le,Tt){return"serverAuth"===Tt?null:Tt},modularAPIs:G}};function Ut(le){if(!(0,u.r3)(Je,le=le||G._DEFAULT_ENTRY_NAME))throw ze.create("no-app",{appName:le});return Je[le]}return pt.default=pt,Object.defineProperty(pt,"apps",{get:function De(){return Object.keys(Je).map(le=>Je[le])}}),Ut.App=Dt,pt}(Ce);return Dt.INTERNAL=Object.assign(Object.assign({},Dt.INTERNAL),{createFirebaseNamespace:ke,extendNamespace:function Je(pt){(0,u.ZB)(Dt,pt)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Dt}(),Te=new z.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){Te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Dt=self.firebase.SDK_VERSION;Dt&&Dt.indexOf("LITE")>=0&&Te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=me;!function tt(Dt){(0,G.registerVersion)("@firebase/app-compat","0.1.23",Dt)}()},9681:(fn,ht,S)=>{S.r(ht),S.d(ht,{FirebaseError:()=>z.ZR,SDK_VERSION:()=>sr,_DEFAULT_ENTRY_NAME:()=>dn,_addComponent:()=>vn,_addOrOverwriteComponent:()=>He,_apps:()=>At,_clearComponents:()=>Gn,_components:()=>Bt,_getProvider:()=>sn,_registerComponent:()=>vt,_removeServiceInstance:()=>an,deleteApp:()=>Pr,getApp:()=>mr,getApps:()=>dr,initializeApp:()=>Pn,onLog:()=>Er,registerVersion:()=>En,setLogLevel:()=>$n});var u=S(5861),C=S(4859),G=S(1877),z=S(2090);class Ce{constructor(M){this.container=M}getPlatformInfoString(){return this.container.getProviders().map(w=>{if(function Ue(Z){const M=Z.getComponent();return"VERSION"===(null==M?void 0:M.type)}(w)){const L=w.getImmediate();return`${L.library}/${L.version}`}return null}).filter(w=>w).join(" ")}}const ze="@firebase/app",ke=new G.Yd("@firebase/app"),dn="[DEFAULT]",rn={[ze]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},At=new Map,Bt=new Map;function vn(Z,M){try{Z.container.addComponent(M)}catch(w){ke.debug(`Component ${M.name} failed to register with FirebaseApp ${Z.name}`,w)}}function He(Z,M){Z.container.addOrOverwriteComponent(M)}function vt(Z){const M=Z.name;if(Bt.has(M))return ke.debug(`There were multiple attempts to register component ${M}.`),!1;Bt.set(M,Z);for(const w of At.values())vn(w,Z);return!0}function sn(Z,M){const w=Z.container.getProvider("heartbeat").getImmediate({optional:!0});return w&&w.triggerHeartbeat(),Z.container.getProvider(M)}function an(Z,M,w=dn){sn(Z,M).clearInstance(w)}function Gn(){Bt.clear()}const Kn=new z.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class cr{constructor(M,w,L){this._isDeleted=!1,this._options=Object.assign({},M),this._config=Object.assign({},w),this._name=w.name,this._automaticDataCollectionEnabled=w.automaticDataCollectionEnabled,this._container=L,this.container.addComponent(new C.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(M){this.checkDestroyed(),this._automaticDataCollectionEnabled=M}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(M){this._isDeleted=M}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}const sr="9.7.0";function Pn(Z,M={}){"object"!=typeof M&&(M={name:M});const w=Object.assign({name:dn,automaticDataCollectionEnabled:!1},M),L=w.name;if("string"!=typeof L||!L)throw Kn.create("bad-app-name",{appName:String(L)});const be=At.get(L);if(be){if((0,z.vZ)(Z,be.options)&&(0,z.vZ)(w,be.config))return be;throw Kn.create("duplicate-app",{appName:L})}const We=new C.H0(L);for(const Ne of Bt.values())We.addComponent(Ne);const Ae=new cr(Z,w,We);return At.set(L,Ae),Ae}function mr(Z=dn){const M=At.get(Z);if(!M)throw Kn.create("no-app",{appName:Z});return M}function dr(){return Array.from(At.values())}function Pr(Z){return bn.apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(Z){const M=Z.name;At.has(M)&&(At.delete(M),yield Promise.all(Z.container.getProviders().map(w=>w.delete())),Z.isDeleted=!0)})).apply(this,arguments)}function En(Z,M,w){var L;let be=null!==(L=rn[Z])&&void 0!==L?L:Z;w&&(be+=`-${w}`);const We=be.match(/\s|\//),Ae=M.match(/\s|\//);if(We||Ae){const Ne=[`Unable to register library "${be}" with version "${M}":`];return We&&Ne.push(`library name "${be}" contains illegal characters (whitespace or "/")`),We&&Ae&&Ne.push("and"),Ae&&Ne.push(`version name "${M}" contains illegal characters (whitespace or "/")`),void ke.warn(Ne.join(" "))}vt(new C.wA(`${be}-version`,()=>({library:be,version:M}),"VERSION"))}function Er(Z,M){if(null!==Z&&"function"!=typeof Z)throw Kn.create("invalid-log-argument");(0,G.Am)(Z,M)}function $n(Z){(0,G.Ub)(Z)}const nn="firebase-heartbeat-store";let Rt=null;function Et(){return Rt||(Rt=(0,z.X3)("firebase-heartbeat-database",1,(Z,M)=>{0===M&&Z.createObjectStore(nn)}).catch(Z=>{throw Kn.create("storage-open",{originalErrorMessage:Z.message})})),Rt}function Mt(){return(Mt=(0,u.Z)(function*(Z){try{return(yield Et()).transaction(nn).objectStore(nn).get(wn(Z))}catch(M){throw Kn.create("storage-get",{originalErrorMessage:M.message})}})).apply(this,arguments)}function Ve(Z,M){return bt.apply(this,arguments)}function bt(){return(bt=(0,u.Z)(function*(Z,M){try{const L=(yield Et()).transaction(nn,"readwrite");return yield L.objectStore(nn).put(M,wn(Z)),L.complete}catch(w){throw Kn.create("storage-set",{originalErrorMessage:w.message})}})).apply(this,arguments)}function wn(Z){return`${Z.name}!${Z.options.appId}`}class wr{constructor(M){this.container=M,this._heartbeatsCache=null;const w=this.container.getProvider("app").getImmediate();this._storage=new at(w),this._heartbeatsCachePromise=this._storage.read().then(L=>(this._heartbeatsCache=L,L))}triggerHeartbeat(){var M=this;return(0,u.Z)(function*(){const L=M.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),be=rr();if(null===M._heartbeatsCache&&(M._heartbeatsCache=yield M._heartbeatsCachePromise),M._heartbeatsCache.lastSentHeartbeatDate!==be&&!M._heartbeatsCache.heartbeats.some(We=>We.date===be))return M._heartbeatsCache.heartbeats.push({date:be,agent:L}),M._heartbeatsCache.heartbeats=M._heartbeatsCache.heartbeats.filter(We=>{const Ae=new Date(We.date).valueOf();return Date.now()-Ae<=2592e6}),M._storage.overwrite(M._heartbeatsCache)})()}getHeartbeatsHeader(){var M=this;return(0,u.Z)(function*(){if(null===M._heartbeatsCache&&(yield M._heartbeatsCachePromise),null===M._heartbeatsCache||0===M._heartbeatsCache.heartbeats.length)return"";const w=rr(),{heartbeatsToSend:L,unsentEntries:be}=function tr(Z,M=1024){const w=[];let L=Z.slice();for(const be of Z){const We=w.find(Ae=>Ae.agent===be.agent);if(We){if(We.dates.push(be.date),rt(w)>M){We.dates.pop();break}}else if(w.push({agent:be.agent,dates:[be.date]}),rt(w)>M){w.pop();break}L=L.slice(1)}return{heartbeatsToSend:w,unsentEntries:L}}(M._heartbeatsCache.heartbeats),We=(0,z.L)(JSON.stringify({version:2,heartbeats:L}));return M._heartbeatsCache.lastSentHeartbeatDate=w,be.length>0?(M._heartbeatsCache.heartbeats=be,yield M._storage.overwrite(M._heartbeatsCache)):(M._heartbeatsCache.heartbeats=[],M._storage.overwrite(M._heartbeatsCache)),We})()}}function rr(){return(new Date).toISOString().substring(0,10)}class at{constructor(M){this.app=M,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,z.hl)()&&(0,z.eu)().then(()=>!0).catch(()=>!1)})()}read(){var M=this;return(0,u.Z)(function*(){return(yield M._canUseIndexedDBPromise)&&(yield function Qe(Z){return Mt.apply(this,arguments)}(M.app))||{heartbeats:[]}})()}overwrite(M){var w=this;return(0,u.Z)(function*(){var L;if(yield w._canUseIndexedDBPromise){const We=yield w.read();return Ve(w.app,{lastSentHeartbeatDate:null!==(L=M.lastSentHeartbeatDate)&&void 0!==L?L:We.lastSentHeartbeatDate,heartbeats:M.heartbeats})}})()}add(M){var w=this;return(0,u.Z)(function*(){var L;if(yield w._canUseIndexedDBPromise){const We=yield w.read();return Ve(w.app,{lastSentHeartbeatDate:null!==(L=M.lastSentHeartbeatDate)&&void 0!==L?L:We.lastSentHeartbeatDate,heartbeats:[...We.heartbeats,...M.heartbeats]})}})()}}function rt(Z){return(0,z.L)(JSON.stringify({version:2,heartbeats:Z})).length}!function ye(Z){vt(new C.wA("platform-logger",M=>new Ce(M),"PRIVATE")),vt(new C.wA("heartbeat",M=>new wr(M),"PRIVATE")),En(ze,"0.7.22",Z),En(ze,"0.7.22","esm2017"),En("fire-js","")}("")},4859:(fn,ht,S)=>{S.d(ht,{wA:()=>G,H0:()=>ge,zt:()=>Ce});var u=S(5861),C=S(2090);class G{constructor(me,Te,Fe){this.name=me,this.instanceFactory=Te,this.type=Fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(me){return this.instantiationMode=me,this}setMultipleInstances(me){return this.multipleInstances=me,this}setServiceProps(me){return this.serviceProps=me,this}setInstanceCreatedCallback(me){return this.onInstanceCreated=me,this}}const z="[DEFAULT]";class Ce{constructor(me,Te){this.name=me,this.container=Te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(me){const Te=this.normalizeInstanceIdentifier(me);if(!this.instancesDeferred.has(Te)){const Fe=new C.BH;if(this.instancesDeferred.set(Te,Fe),this.isInitialized(Te)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:Te});Xe&&Fe.resolve(Xe)}catch(Xe){}}return this.instancesDeferred.get(Te).promise}getImmediate(me){var Te;const Fe=this.normalizeInstanceIdentifier(null==me?void 0:me.identifier),Xe=null!==(Te=null==me?void 0:me.optional)&&void 0!==Te&&Te;if(!this.isInitialized(Fe)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Fe})}catch(tt){if(Xe)return null;throw tt}}getComponent(){return this.component}setComponent(me){if(me.name!==this.name)throw Error(`Mismatching Component ${me.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=me,this.shouldAutoInitialize()){if(function ze(ke){return"EAGER"===ke.instantiationMode}(me))try{this.getOrInitializeService({instanceIdentifier:z})}catch(Te){}for(const[Te,Fe]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(Te);try{const tt=this.getOrInitializeService({instanceIdentifier:Xe});Fe.resolve(tt)}catch(tt){}}}}clearInstance(me=z){this.instancesDeferred.delete(me),this.instancesOptions.delete(me),this.instances.delete(me)}delete(){var me=this;return(0,u.Z)(function*(){const Te=Array.from(me.instances.values());yield Promise.all([...Te.filter(Fe=>"INTERNAL"in Fe).map(Fe=>Fe.INTERNAL.delete()),...Te.filter(Fe=>"_delete"in Fe).map(Fe=>Fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(me=z){return this.instances.has(me)}getOptions(me=z){return this.instancesOptions.get(me)||{}}initialize(me={}){const{options:Te={}}=me,Fe=this.normalizeInstanceIdentifier(me.instanceIdentifier);if(this.isInitialized(Fe))throw Error(`${this.name}(${Fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:Fe,options:Te});for(const[tt,Ze]of this.instancesDeferred.entries())Fe===this.normalizeInstanceIdentifier(tt)&&Ze.resolve(Xe);return Xe}onInit(me,Te){var Fe;const Xe=this.normalizeInstanceIdentifier(Te),tt=null!==(Fe=this.onInitCallbacks.get(Xe))&&void 0!==Fe?Fe:new Set;tt.add(me),this.onInitCallbacks.set(Xe,tt);const Ze=this.instances.get(Xe);return Ze&&me(Ze,Xe),()=>{tt.delete(me)}}invokeOnInitCallbacks(me,Te){const Fe=this.onInitCallbacks.get(Te);if(Fe)for(const Xe of Fe)try{Xe(me,Te)}catch(tt){}}getOrInitializeService({instanceIdentifier:me,options:Te={}}){let Fe=this.instances.get(me);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=me,ke===z?void 0:ke),options:Te}),this.instances.set(me,Fe),this.instancesOptions.set(me,Te),this.invokeOnInitCallbacks(Fe,me),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,me,Fe)}catch(Xe){}var ke;return Fe||null}normalizeInstanceIdentifier(me=z){return this.component?this.component.multipleInstances?me:z:me}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(me){this.name=me,this.providers=new Map}addComponent(me){const Te=this.getProvider(me.name);if(Te.isComponentSet())throw new Error(`Component ${me.name} has already been registered with ${this.name}`);Te.setComponent(me)}addOrOverwriteComponent(me){this.getProvider(me.name).isComponentSet()&&this.providers.delete(me.name),this.addComponent(me)}getProvider(me){if(this.providers.has(me))return this.providers.get(me);const Te=new Ce(me,this);return this.providers.set(me,Te),Te}getProviders(){return Array.from(this.providers.values())}}},1877:(fn,ht,S)=>{S.d(ht,{in:()=>C,Yd:()=>ze,Ub:()=>ge,Am:()=>ke});const u=[];var C=(()=>{return(me=C||(C={}))[me.DEBUG=0]="DEBUG",me[me.VERBOSE=1]="VERBOSE",me[me.INFO=2]="INFO",me[me.WARN=3]="WARN",me[me.ERROR=4]="ERROR",me[me.SILENT=5]="SILENT",C;var me})();const G={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},z=C.INFO,Ce={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},Ue=(me,Te,...Fe)=>{if(Te<me.logLevel)return;const Xe=(new Date).toISOString(),tt=Ce[Te];if(!tt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Te})`);console[tt](`[${Xe}]  ${me.name}:`,...Fe)};class ze{constructor(Te){this.name=Te,this._logLevel=z,this._logHandler=Ue,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(Te){if(!(Te in C))throw new TypeError(`Invalid value "${Te}" assigned to \`logLevel\``);this._logLevel=Te}setLogLevel(Te){this._logLevel="string"==typeof Te?G[Te]:Te}get logHandler(){return this._logHandler}set logHandler(Te){if("function"!=typeof Te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Te}get userLogHandler(){return this._userLogHandler}set userLogHandler(Te){this._userLogHandler=Te}debug(...Te){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...Te),this._logHandler(this,C.DEBUG,...Te)}log(...Te){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...Te),this._logHandler(this,C.VERBOSE,...Te)}info(...Te){this._userLogHandler&&this._userLogHandler(this,C.INFO,...Te),this._logHandler(this,C.INFO,...Te)}warn(...Te){this._userLogHandler&&this._userLogHandler(this,C.WARN,...Te),this._logHandler(this,C.WARN,...Te)}error(...Te){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...Te),this._logHandler(this,C.ERROR,...Te)}}function ge(me){u.forEach(Te=>{Te.setLogLevel(me)})}function ke(me,Te){for(const Fe of u){let Xe=null;Te&&Te.level&&(Xe=G[Te.level]),Fe.userLogHandler=null===me?null:(tt,Ze,...Dt)=>{const Je=Dt.map(pt=>{if(null==pt)return null;if("string"==typeof pt)return pt;if("number"==typeof pt||"boolean"==typeof pt)return pt.toString();if(pt instanceof Error)return pt.message;try{return JSON.stringify(pt)}catch(Ye){return null}}).filter(pt=>pt).join(" ");Ze>=(null!=Xe?Xe:tt.logLevel)&&me({level:C[Ze].toLowerCase(),message:Je,args:Dt,type:tt.name})}}}},5861:(fn,ht,S)=>{function u(G,z,Ce,Ue,ze,ge,ke){try{var me=G[ge](ke),Te=me.value}catch(Fe){return void Ce(Fe)}me.done?z(Te):Promise.resolve(Te).then(Ue,ze)}function C(G){return function(){var z=this,Ce=arguments;return new Promise(function(Ue,ze){var ge=G.apply(z,Ce);function ke(Te){u(ge,Ue,ze,ke,me,"next",Te)}function me(Te){u(ge,Ue,ze,ke,me,"throw",Te)}ke(void 0)})}}S.d(ht,{Z:()=>C})}},fn=>{fn(fn.s=1920)}]);