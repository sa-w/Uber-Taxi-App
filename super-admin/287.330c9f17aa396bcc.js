"use strict";(self.webpackChunksuperAdmin=self.webpackChunksuperAdmin||[]).push([[287],{9287:(A,_,i)=>{i.r(_),i.d(_,{DriverInfoModule:()=>S});var s=i(9808),g=i(1402),t=i(5e3),b=i(7556),T=i(5019),h=i(6185),v=i(4594),e=i(6688),l=i(9224),u=i(4999);function I(o,a){1&o&&(t.TgZ(0,"th",21),t._uU(1," Start Address"),t.qZA())}function c(o,a){if(1&o&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&o){const r=a.$implicit;t.xp6(1),t.hij(" ",r.originAddress," ")}}function p(o,a){1&o&&(t.TgZ(0,"th",21),t._uU(1," End Address"),t.qZA())}function d(o,a){if(1&o&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&o){const r=a.$implicit;t.xp6(1),t.hij(" ",r.destinationAddress," ")}}function m(o,a){1&o&&(t.TgZ(0,"th",21),t._uU(1," Car Brand "),t.qZA())}function C(o,a){if(1&o&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&o){const r=a.$implicit;t.xp6(1),t.hij(" ",r.carBrand," ")}}function D(o,a){1&o&&(t.TgZ(0,"th",21),t._uU(1," Car Model "),t.qZA())}function Z(o,a){if(1&o&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&o){const r=a.$implicit;t.xp6(1),t.hij(" ",r.carModel," ")}}function x(o,a){1&o&&(t.TgZ(0,"th",21),t._uU(1," Car Number "),t.qZA())}function O(o,a){if(1&o&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&o){const r=a.$implicit;t.xp6(1),t.hij(" ",r.carNumber," ")}}function w(o,a){1&o&&(t.TgZ(0,"th",21),t._uU(1," Total "),t.qZA())}function P(o,a){if(1&o&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&o){const r=a.$implicit;t.xp6(1),t.hij(" ",r.totalPayment,"$ ")}}function U(o,a){1&o&&t._UZ(0,"tr",23)}function k(o,a){1&o&&t._UZ(0,"tr",24)}function B(o,a){if(1&o&&(t.TgZ(0,"table",10),t.ynx(1,11),t.YNc(2,I,2,0,"th",12),t.YNc(3,c,2,1,"td",13),t.BQk(),t.ynx(4,14),t.YNc(5,p,2,0,"th",12),t.YNc(6,d,2,1,"td",13),t.BQk(),t.ynx(7,15),t.YNc(8,m,2,0,"th",12),t.YNc(9,C,2,1,"td",13),t.BQk(),t.ynx(10,16),t.YNc(11,D,2,0,"th",12),t.YNc(12,Z,2,1,"td",13),t.BQk(),t.ynx(13,17),t.YNc(14,x,2,0,"th",12),t.YNc(15,O,2,1,"td",13),t.BQk(),t.ynx(16,18),t.YNc(17,w,2,0,"th",12),t.YNc(18,P,2,1,"td",13),t.BQk(),t.YNc(19,U,1,0,"tr",19),t.YNc(20,k,1,0,"tr",20),t.qZA()),2&o){const r=t.oxw();t.Q6J("dataSource",r.driversOrders),t.xp6(19),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns)}}const E=[{path:"",component:(()=>{class o{constructor(r,n,f,M,Y){this.route=r,this.authService=n,this.router=f,this.afs=Y,this.orders=[],this.longText="text",this.driversOrders=[],this.displayedColumns=["weight","symbol","carBrand","carModel","carNumber","carType"],this.id=this.route.snapshot.paramMap.get("id"),console.log(this.id),M.object("drivers/"+this.id),this.authService.getUserDoc(this.id).subscribe(y=>{console.log(y),this.driverInfo=y,console.log(this.driverInfo)}),this.getDriverOrders(this.id)}ngOnInit(){}getDriverOrders(r){this.authService.getAllOrdersByDriver(r).subscribe(n=>{console.log(n),this.driversOrders=n.map(f=>{const M=f.payload.doc.data();return M.id=f.payload.doc.id,M}),console.log(this.driversOrders)},n=>{alert("error")}),console.log(this.driversOrders)}logout(){this.authService.logout().then(()=>this.router.navigate(["/"])).catch(r=>console.log(r.message))}goToDrivers(){this.router.navigate(["/drivers"])}goToPassengers(){this.router.navigate(["/passengers"])}goToHome(){this.router.navigate(["/dashboard"])}goToOrders(){this.router.navigate(["/orders"])}goToMaps(){this.router.navigate(["/maps"])}goToSettings(){this.router.navigate(["/settings"])}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(g.gz),t.Y36(b.e),t.Y36(g.F0),t.Y36(T.KQ),t.Y36(h.ST))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-driver-info"]],decls:48,vars:10,consts:[["aria-label","Color selection",1,"mat-chip-list-stacked"],[2,"background-color","rgb(214, 100, 43)"],[2,"color","white","justify-content","left","font-size","25px"],[1,"example-spacer"],[3,"click"],[2,"color","white",3,"click"],[1,"background"],[1,"example-card"],["mat-card-sm-image","",3,"src"],["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","weight"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","symbol"],["matColumnDef","carBrand"],["matColumnDef","carModel"],["matColumnDef","carNumber"],["matColumnDef","carType"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(r,n){1&r&&(t.TgZ(0,"mat-toolbar")(1,"mat-chip-list",0)(2,"mat-chip",1)(3,"span",2),t._uU(4,"Super-Admin "),t.qZA()()(),t._UZ(5,"span",3),t.TgZ(6,"a",4),t.NdJ("click",function(){return n.goToHome()}),t._uU(7,"Home"),t.qZA(),t.TgZ(8,"a",4),t.NdJ("click",function(){return n.goToDrivers()}),t._uU(9,"Drivers"),t.qZA(),t.TgZ(10,"a",4),t.NdJ("click",function(){return n.goToPassengers()}),t._uU(11,"Passengers"),t.qZA(),t.TgZ(12,"a",4),t.NdJ("click",function(){return n.goToOrders()}),t._uU(13,"Orders"),t.qZA(),t.TgZ(14,"a",4),t.NdJ("click",function(){return n.goToMaps()}),t._uU(15,"Track Drivers"),t.qZA(),t.TgZ(16,"a",4),t.NdJ("click",function(){return n.goToSettings()}),t._uU(17,"Settings"),t.qZA(),t._UZ(18,"span",3)(19,"span",3)(20,"span",3)(21,"span",3)(22,"span",3)(23,"span",3)(24,"span",3)(25,"span",3)(26,"span",3)(27,"span",3),t.TgZ(28,"mat-chip-list",0)(29,"mat-chip",1)(30,"a",5),t.NdJ("click",function(){return n.logout()}),t._uU(31,"Log out"),t.qZA()()()(),t.TgZ(32,"div",6)(33,"h1"),t._uU(34,"Hadriel Driver Info"),t.qZA()(),t.TgZ(35,"mat-card",7)(36,"mat-card-title-group")(37,"mat-card-title"),t._uU(38),t.qZA(),t.TgZ(39,"mat-card-subtitle"),t._uU(40),t.qZA(),t._UZ(41,"img",8),t.qZA(),t.TgZ(42,"mat-card-content"),t._uU(43),t.qZA()(),t.TgZ(44,"div",6)(45,"h1"),t._uU(46,"Driver trip list"),t.qZA(),t.YNc(47,B,21,3,"table",9),t.qZA()),2&r&&(t.xp6(38),t.AsE("",null==n.driverInfo?null:n.driverInfo.displayName," ",null==n.driverInfo?null:n.driverInfo.lastName,""),t.xp6(2),t.HOy("",null==n.driverInfo?null:n.driverInfo.carBrand," ",null==n.driverInfo?null:n.driverInfo.carModel," ",null==n.driverInfo?null:n.driverInfo.carNumber," ",null==n.driverInfo?null:n.driverInfo.carType,""),t.xp6(1),t.s9C("src",null==n.driverInfo?null:n.driverInfo.photoURL,t.LSH),t.xp6(2),t.AsE(" Phone : ",null==n.driverInfo?null:n.driverInfo.phone," , Email: ",null==n.driverInfo?null:n.driverInfo.email," "),t.xp6(4),t.Q6J("ngIf",n.driversOrders))},directives:[v.Ye,e.qn,e.HS,l.a8,l.C1,l.n5,l.$j,l.vP,l.dn,s.O5,u.BZ,u.w1,u.fO,u.ge,u.Dz,u.ev,u.as,u.XQ,u.nj,u.Gk],styles:["h1[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:bolder;background-color:#cb572d;width:-moz-fit-content;width:fit-content;border-radius:10%}h2[_ngcontent-%COMP%]{color:#698893;margin-bottom:50px}a[_ngcontent-%COMP%]{color:#fff;border-bottom:2px solid transparent;transition:1s border-bottom;padding:10px;justify-content:center;text-align:center}a[_ngcontent-%COMP%]:hover{color:#cb572d;border-bottom:2px solid transparent;font-size:20px;background-color:#fff;border-radius:10%;padding:4px}mat-toolbar[_ngcontent-%COMP%]{background-color:#dd9176;opacity:1;display:flex;justify-items:flex-start}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-row[_ngcontent-%COMP%]:nth-child(even){background-color:#dd9176;opacity:.9}.mat-row[_ngcontent-%COMP%]:nth-child(even):hover{background-color:#dd9176;opacity:1}.mat-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#dd9176;opacity:.8}.mat-row[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:#dd9176;opacity:1}.mat-header-cell[_ngcontent-%COMP%]{background-color:#d57856;font-size:medium;font-weight:700;opacity:1}.background[_ngcontent-%COMP%]{align-items:center;box-sizing:border-box;display:flex;flex-direction:column;height:calc(100vh - 650px);padding:20px;background-color:#fff}.btn[_ngcontent-%COMP%]{background-color:#2d3dcb;border-radius:20px;color:#fff;padding:10px 30px;text-decoration:none;transition:.5s background-color}a[_ngcontent-%COMP%]:hover{border-bottom:2px solid #2d3dcb;cursor:pointer}.btn[_ngcontent-%COMP%]:hover{background-color:#cb572d}table[_ngcontent-%COMP%]{width:100%}.example-card[_ngcontent-%COMP%]{background-color:#dd9176;transition:.5s background-color;padding:20px;margin:20px}"]}),o})()}];let N=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[g.Bz.forChild(E)],g.Bz]}),o})();var R=i(7423);let S=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[s.ez,N,v.g0,u.p0,e.Hi,R.ot,l.QW]]}),o})()},7556:(A,_,i)=>{i.d(_,{e:()=>T});var s=i(7323),g=i(8937),t=i(5e3),b=i(6185);let T=(()=>{class h{constructor(e,l){this.auth=e,this.afs=l,this.commisions=l.collection("commision"),this.settings=l.collection("settings")}login({email:e,password:l}){return(0,s.e5)(this.auth,e,l)}loginWithGoogle(){return(0,s.rh)(this.auth,new g.hJ)}register({email:e,password:l}){return(0,s.Xb)(this.auth,e,l)}logout(){return(0,s.w7)(this.auth)}getAllDrivers(){return this.afs.collection("/drivers").snapshotChanges()}getAllPassengers(){return this.afs.collection("/users").snapshotChanges()}getAllOrders(){return this.afs.collection("/orders").snapshotChanges()}getAllTaxis(){return this.afs.collection("/locations").snapshotChanges()}getUserDoc(e){return this.afs.collection("drivers").doc(e).valueChanges()}getAllOrdersByDriver(e){return this.afs.collection("orders",l=>l.where("driverId","==",e)).snapshotChanges()}getPassengerDoc(e){return this.afs.collection("users").doc(e).valueChanges()}getAllOrdersByPassenger(e){return this.afs.collection("orders",l=>l.where("userId","==",e)).snapshotChanges()}getOrderDoc(e){return this.afs.collection("orders").doc(e).valueChanges()}getAllOrdersByID(e){return this.afs.collection("orders",l=>l.where("timestamp","==",e)).snapshotChanges()}getAllSettings(){return this.afs.collection("/settings").snapshotChanges()}getSettingDoc(e){return this.afs.collection("settings").doc(e).valueChanges()}getCommisionDoc(e){return this.afs.collection("commision").doc("commisionPercent").valueChanges()}updateCommision(e){return this.commisions.doc("commisionPercent/").update(e)}updateSettings(e,l){return this.settings.doc(e).update(l)}}return h.\u0275fac=function(e){return new(e||h)(t.LFG(s.gx),t.LFG(b.ST))},h.\u0275prov=t.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},4594:(A,_,i)=>{i.d(_,{Ye:()=>l,g0:()=>I});var s=i(5e3),g=i(508),t=i(9808),b=i(925);const T=["*",[["mat-toolbar-row"]]],h=["*","mat-toolbar-row"],v=(0,g.pj)(class{constructor(c){this._elementRef=c}});let e=(()=>{class c{}return c.\u0275fac=function(d){return new(d||c)},c.\u0275dir=s.lG2({type:c,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),c})(),l=(()=>{class c extends v{constructor(d,m,C){super(d),this._platform=m,this._document=C}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return c.\u0275fac=function(d){return new(d||c)(s.Y36(s.SBq),s.Y36(b.t4),s.Y36(t.K0))},c.\u0275cmp=s.Xpm({type:c,selectors:[["mat-toolbar"]],contentQueries:function(d,m,C){if(1&d&&s.Suo(C,e,5),2&d){let D;s.iGM(D=s.CRH())&&(m._toolbarRows=D)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(d,m){2&d&&s.ekj("mat-toolbar-multiple-rows",m._toolbarRows.length>0)("mat-toolbar-single-row",0===m._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:h,decls:2,vars:0,template:function(d,m){1&d&&(s.F$t(T),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),c})(),I=(()=>{class c{}return c.\u0275fac=function(d){return new(d||c)},c.\u0275mod=s.oAB({type:c}),c.\u0275inj=s.cJS({imports:[[g.BQ],g.BQ]}),c})()}}]);